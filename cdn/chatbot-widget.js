var ChatbotWidget=function(Yo){"use strict";function em(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var wc={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=Symbol.for("react.element"),rm=Symbol.for("react.portal"),om=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),sm=Symbol.for("react.profiler"),am=Symbol.for("react.provider"),lm=Symbol.for("react.context"),um=Symbol.for("react.forward_ref"),cm=Symbol.for("react.suspense"),dm=Symbol.for("react.memo"),fm=Symbol.for("react.lazy"),xc=Symbol.iterator;function hm(e){return e===null||typeof e!="object"?null:(e=xc&&e[xc]||e["@@iterator"],typeof e=="function"?e:null)}var _c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kc=Object.assign,Sc={};function Yn(e,t,n){this.props=e,this.context=t,this.refs=Sc,this.updater=n||_c}Yn.prototype.isReactComponent={},Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bc(){}bc.prototype=Yn.prototype;function Qs(e,t,n){this.props=e,this.context=t,this.refs=Sc,this.updater=n||_c}var Js=Qs.prototype=new bc;Js.constructor=Qs,kc(Js,Yn.prototype),Js.isPureReactComponent=!0;var Ec=Array.isArray,Cc=Object.prototype.hasOwnProperty,Ys={current:null},Tc={key:!0,ref:!0,__self:!0,__source:!0};function Pc(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Cc.call(t,r)&&!Tc.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:qr,type:e,key:i,ref:s,props:o,_owner:Ys.current}}function pm(e,t){return{$$typeof:qr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xs(e){return typeof e=="object"&&e!==null&&e.$$typeof===qr}function gm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Rc=/\/+/g;function Zs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gm(""+e.key):t.toString(36)}function Xo(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case qr:case rm:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Zs(s,0):r,Ec(o)?(n="",e!=null&&(n=e.replace(Rc,"$&/")+"/"),Xo(o,t,n,"",function(u){return u})):o!=null&&(Xs(o)&&(o=pm(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Rc,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Ec(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Zs(i,a);s+=Xo(i,t,n,l,o)}else if(l=hm(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Zs(i,a++),s+=Xo(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Zo(e,t,n){if(e==null)return e;var r=[],o=0;return Xo(e,r,"","",function(i){return t.call(n,i,o++)}),r}function mm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},ei={transition:null},vm={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ei,ReactCurrentOwner:Ys};function jc(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Zo,forEach:function(e,t,n){Zo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zo(e,function(){t++}),t},toArray:function(e){return Zo(e,function(t){return t})||[]},only:function(e){if(!Xs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},V.Component=Yn,V.Fragment=om,V.Profiler=sm,V.PureComponent=Qs,V.StrictMode=im,V.Suspense=cm,V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vm,V.act=jc,V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kc({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Ys.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Cc.call(t,l)&&!Tc.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qr,type:e.type,key:o,ref:i,props:r,_owner:s}},V.createContext=function(e){return e={$$typeof:lm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:am,_context:e},e.Consumer=e},V.createElement=Pc,V.createFactory=function(e){var t=Pc.bind(null,e);return t.type=e,t},V.createRef=function(){return{current:null}},V.forwardRef=function(e){return{$$typeof:um,render:e}},V.isValidElement=Xs,V.lazy=function(e){return{$$typeof:fm,_payload:{_status:-1,_result:e},_init:mm}},V.memo=function(e,t){return{$$typeof:dm,type:e,compare:t===void 0?null:t}},V.startTransition=function(e){var t=ei.transition;ei.transition={};try{e()}finally{ei.transition=t}},V.unstable_act=jc,V.useCallback=function(e,t){return Ee.current.useCallback(e,t)},V.useContext=function(e){return Ee.current.useContext(e)},V.useDebugValue=function(){},V.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)},V.useEffect=function(e,t){return Ee.current.useEffect(e,t)},V.useId=function(){return Ee.current.useId()},V.useImperativeHandle=function(e,t,n){return Ee.current.useImperativeHandle(e,t,n)},V.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)},V.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)},V.useMemo=function(e,t){return Ee.current.useMemo(e,t)},V.useReducer=function(e,t,n){return Ee.current.useReducer(e,t,n)},V.useRef=function(e){return Ee.current.useRef(e)},V.useState=function(e){return Ee.current.useState(e)},V.useSyncExternalStore=function(e,t,n){return Ee.current.useSyncExternalStore(e,t,n)},V.useTransition=function(){return Ee.current.useTransition()},V.version="18.3.1",wc.exports=V;var w=wc.exports;const Ac=tm(w),ym=em({__proto__:null,default:Ac},[w]);var Oc={exports:{}},ze={},Ic={exports:{}},Lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,j){var L=T.length;T.push(j);e:for(;0<L;){var F=L-1>>>1,se=T[F];if(0<o(se,j))T[F]=j,T[L]=se,L=F;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var j=T[0],L=T.pop();if(L!==j){T[0]=L;e:for(var F=0,se=T.length,De=se>>>1;F<De;){var ft=2*(F+1)-1,ht=T[ft],pt=ft+1,Bt=T[pt];if(0>o(ht,L))pt<se&&0>o(Bt,ht)?(T[F]=Bt,T[pt]=L,F=pt):(T[F]=ht,T[ft]=L,F=ft);else if(pt<se&&0>o(Bt,L))T[F]=Bt,T[pt]=L,F=pt;else break e}}return j}function o(T,j){var L=T.sortIndex-j.sortIndex;return L!==0?L:T.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,v=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=T)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function _(T){if(y=!1,m(T),!v)if(n(l)!==null)v=!0,W(x);else{var j=n(u);j!==null&&G(_,j.startTime-T)}}function x(T,j){v=!1,y&&(y=!1,p(R),R=-1),h=!0;var L=f;try{for(m(j),d=n(l);d!==null&&(!(d.expirationTime>j)||T&&!U());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var se=F(d.expirationTime<=j);j=e.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),m(j)}else r(l);d=n(l)}if(d!==null)var De=!0;else{var ft=n(u);ft!==null&&G(_,ft.startTime-j),De=!1}return De}finally{d=null,f=L,h=!1}}var b=!1,E=null,R=-1,$=5,A=-1;function U(){return!(e.unstable_now()-A<$)}function M(){if(E!==null){var T=e.unstable_now();A=T;var j=!0;try{j=E(!0,T)}finally{j?N():(b=!1,E=null)}}else b=!1}var N;if(typeof g=="function")N=function(){g(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Q=I.port2;I.port1.onmessage=M,N=function(){Q.postMessage(null)}}else N=function(){k(M,0)};function W(T){E=T,b||(b=!0,N())}function G(T,j){R=k(function(){T(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,W(x))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var L=f;f=j;try{return T()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,j){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=f;f=T;try{return j()}finally{f=L}},e.unstable_scheduleCallback=function(T,j,L){var F=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?F+L:F):L=F,T){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=L+se,T={id:c++,callback:j,priorityLevel:T,startTime:L,expirationTime:se,sortIndex:-1},L>F?(T.sortIndex=L,t(u,T),n(l)===null&&T===n(u)&&(y?(p(R),R=-1):y=!0,G(_,L-F))):(T.sortIndex=se,t(l,T),v||h||(v=!0,W(x))),T},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(T){var j=f;return function(){var L=f;f=j;try{return T.apply(this,arguments)}finally{f=L}}}})(Lc),Ic.exports=Lc;var wm=Ic.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=w,Ue=wm;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mc=new Set,Gr={};function En(e,t){Xn(e,t),Xn(e+"Capture",t)}function Xn(e,t){for(Gr[e]=t,e=0;e<t.length;e++)Mc.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=Object.prototype.hasOwnProperty,_m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nc={},$c={};function km(e){return ea.call($c,e)?!0:ea.call(Nc,e)?!1:_m.test(e)?$c[e]=!0:(Nc[e]=!0,!1)}function Sm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bm(e,t,n,r){if(t===null||typeof t>"u"||Sm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ce(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){me[e]=new Ce(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];me[t]=new Ce(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){me[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){me[e]=new Ce(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){me[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){me[e]=new Ce(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){me[e]=new Ce(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){me[e]=new Ce(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){me[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var ta=/[\-:]([a-z])/g;function na(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ta,na);me[t]=new Ce(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ta,na);me[t]=new Ce(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ta,na);me[t]=new Ce(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){me[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)}),me.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){me[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function ra(e,t,n,r){var o=me.hasOwnProperty(t)?me[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bm(t,n,o,r)&&(n=null),r||o===null?km(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tt=xm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ti=Symbol.for("react.element"),Zn=Symbol.for("react.portal"),er=Symbol.for("react.fragment"),oa=Symbol.for("react.strict_mode"),ia=Symbol.for("react.profiler"),Dc=Symbol.for("react.provider"),zc=Symbol.for("react.context"),sa=Symbol.for("react.forward_ref"),aa=Symbol.for("react.suspense"),la=Symbol.for("react.suspense_list"),ua=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),Uc=Symbol.for("react.offscreen"),Fc=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,ca;function Qr(e){if(ca===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ca=t&&t[1]||""}return`
`+ca+e}var da=!1;function fa(e,t){if(!e||da)return"";da=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{da=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qr(e):""}function Em(e){switch(e.tag){case 5:return Qr(e.type);case 16:return Qr("Lazy");case 13:return Qr("Suspense");case 19:return Qr("SuspenseList");case 0:case 2:case 15:return e=fa(e.type,!1),e;case 11:return e=fa(e.type.render,!1),e;case 1:return e=fa(e.type,!0),e;default:return""}}function ha(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case er:return"Fragment";case Zn:return"Portal";case ia:return"Profiler";case oa:return"StrictMode";case aa:return"Suspense";case la:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zc:return(e.displayName||"Context")+".Consumer";case Dc:return(e._context.displayName||"Context")+".Provider";case sa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ua:return t=e.displayName||null,t!==null?t:ha(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return ha(e(t))}catch{}}return null}function Cm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ha(t);case 8:return t===oa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tm(e){var t=Bc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ni(e){e._valueTracker||(e._valueTracker=Tm(e))}function Wc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pa(e,t){var n=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hc(e,t){t=t.checked,t!=null&&ra(e,"checked",t,!1)}function ga(e,t){Hc(e,t);var n=qt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ma(e,t.type,n):t.hasOwnProperty("defaultValue")&&ma(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ma(e,t,n){(t!=="number"||ri(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jr=Array.isArray;function tr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function va(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Jr(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qt(n)}}function Kc(e,t){var n=qt(t.value),r=qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ya(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oi,Yc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pm=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(e){Pm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xr[t]=Xr[e]})});function Xc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xr.hasOwnProperty(e)&&Xr[e]?(""+t).trim():t+"px"}function Zc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Xc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Rm=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wa(e,t){if(t){if(Rm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function xa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _a=null;function ka(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sa=null,nr=null,rr=null;function ed(e){if(e=_o(e)){if(typeof Sa!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Ti(t),Sa(e.stateNode,e.type,t))}}function td(e){nr?rr?rr.push(e):rr=[e]:nr=e}function nd(){if(nr){var e=nr,t=rr;if(rr=nr=null,ed(e),t)for(e=0;e<t.length;e++)ed(t[e])}}function rd(e,t){return e(t)}function od(){}var ba=!1;function id(e,t,n){if(ba)return e(t,n);ba=!0;try{return rd(e,t,n)}finally{ba=!1,(nr!==null||rr!==null)&&(od(),nd())}}function Zr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ti(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Ea=!1;if(Ct)try{var eo={};Object.defineProperty(eo,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",eo,eo),window.removeEventListener("test",eo,eo)}catch{Ea=!1}function jm(e,t,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var to=!1,ii=null,si=!1,Ca=null,Am={onError:function(e){to=!0,ii=e}};function Om(e,t,n,r,o,i,s,a,l){to=!1,ii=null,jm.apply(Am,arguments)}function Im(e,t,n,r,o,i,s,a,l){if(Om.apply(this,arguments),to){if(to){var u=ii;to=!1,ii=null}else throw Error(P(198));si||(si=!0,Ca=u)}}function Cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ad(e){if(Cn(e)!==e)throw Error(P(188))}function Lm(e){var t=e.alternate;if(!t){if(t=Cn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return ad(o),e;if(i===r)return ad(o),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function ld(e){return e=Lm(e),e!==null?ud(e):null}function ud(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ud(e);if(t!==null)return t;e=e.sibling}return null}var cd=Ue.unstable_scheduleCallback,dd=Ue.unstable_cancelCallback,Mm=Ue.unstable_shouldYield,Nm=Ue.unstable_requestPaint,le=Ue.unstable_now,$m=Ue.unstable_getCurrentPriorityLevel,Ta=Ue.unstable_ImmediatePriority,fd=Ue.unstable_UserBlockingPriority,ai=Ue.unstable_NormalPriority,Dm=Ue.unstable_LowPriority,hd=Ue.unstable_IdlePriority,li=null,mt=null;function zm(e){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(li,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Bm,Um=Math.log,Fm=Math.LN2;function Bm(e){return e>>>=0,e===0?32:31-(Um(e)/Fm|0)|0}var ui=64,ci=4194304;function no(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function di(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=no(a):(i&=s,i!==0&&(r=no(i)))}else s=n&~o,s!==0?r=no(s):i!==0&&(r=no(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tt(t),o=1<<n,r|=e[n],t&=~o;return r}function Wm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-tt(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=Wm(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Pa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pd(){var e=ui;return ui<<=1,!(ui&4194240)&&(ui=64),e}function Ra(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ro(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=n}function Hm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-tt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function ja(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var K=0;function gd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,Aa,vd,yd,wd,Oa=!1,fi=[],Gt=null,Kt=null,Qt=null,oo=new Map,io=new Map,Jt=[],qm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":io.delete(t.pointerId)}}function so(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=_o(t),t!==null&&Aa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Gm(e,t,n,r,o){switch(t){case"focusin":return Gt=so(Gt,e,t,n,r,o),!0;case"dragenter":return Kt=so(Kt,e,t,n,r,o),!0;case"mouseover":return Qt=so(Qt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return oo.set(i,so(oo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,io.set(i,so(io.get(i)||null,e,t,n,r,o)),!0}return!1}function _d(e){var t=Tn(e.target);if(t!==null){var n=Cn(t);if(n!==null){if(t=n.tag,t===13){if(t=sd(n),t!==null){e.blockedOn=t,wd(e.priority,function(){vd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=La(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_a=r,n.target.dispatchEvent(r),_a=null}else return t=_o(n),t!==null&&Aa(t),e.blockedOn=n,!1;t.shift()}return!0}function kd(e,t,n){hi(e)&&n.delete(t)}function Km(){Oa=!1,Gt!==null&&hi(Gt)&&(Gt=null),Kt!==null&&hi(Kt)&&(Kt=null),Qt!==null&&hi(Qt)&&(Qt=null),oo.forEach(kd),io.forEach(kd)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,Oa||(Oa=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Km)))}function lo(e){function t(o){return ao(o,e)}if(0<fi.length){ao(fi[0],e);for(var n=1;n<fi.length;n++){var r=fi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gt!==null&&ao(Gt,e),Kt!==null&&ao(Kt,e),Qt!==null&&ao(Qt,e),oo.forEach(t),io.forEach(t),n=0;n<Jt.length;n++)r=Jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)_d(n),n.blockedOn===null&&Jt.shift()}var or=Tt.ReactCurrentBatchConfig,pi=!0;function Qm(e,t,n,r){var o=K,i=or.transition;or.transition=null;try{K=1,Ia(e,t,n,r)}finally{K=o,or.transition=i}}function Jm(e,t,n,r){var o=K,i=or.transition;or.transition=null;try{K=4,Ia(e,t,n,r)}finally{K=o,or.transition=i}}function Ia(e,t,n,r){if(pi){var o=La(e,t,n,r);if(o===null)Ya(e,t,r,gi,n),xd(e,r);else if(Gm(o,e,t,n,r))r.stopPropagation();else if(xd(e,r),t&4&&-1<qm.indexOf(e)){for(;o!==null;){var i=_o(o);if(i!==null&&md(i),i=La(e,t,n,r),i===null&&Ya(e,t,r,gi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Ya(e,t,r,null,n)}}var gi=null;function La(e,t,n,r){if(gi=null,e=ka(r),e=Tn(e),e!==null)if(t=Cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gi=e,null}function Sd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($m()){case Ta:return 1;case fd:return 4;case ai:case Dm:return 16;case hd:return 536870912;default:return 16}default:return 16}}var Yt=null,Ma=null,mi=null;function bd(){if(mi)return mi;var e,t=Ma,n=t.length,r,o="value"in Yt?Yt.value:Yt.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return mi=o.slice(e,1<r?1-r:void 0)}function vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function Ed(){return!1}function Fe(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yi:Ed,this.isPropagationStopped=Ed,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),t}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Fe(ir),uo=re({},ir,{view:0,detail:0}),Ym=Fe(uo),$a,Da,co,wi=re({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==co&&(co&&e.type==="mousemove"?($a=e.screenX-co.screenX,Da=e.screenY-co.screenY):Da=$a=0,co=e),$a)},movementY:function(e){return"movementY"in e?e.movementY:Da}}),Cd=Fe(wi),Xm=re({},wi,{dataTransfer:0}),Zm=Fe(Xm),ev=re({},uo,{relatedTarget:0}),za=Fe(ev),tv=re({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),nv=Fe(tv),rv=re({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ov=Fe(rv),iv=re({},ir,{data:0}),Td=Fe(iv),sv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lv[e])?!!t[e]:!1}function Ua(){return uv}var cv=re({},uo,{key:function(e){if(e.key){var t=sv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?av[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(e){return e.type==="keypress"?vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dv=Fe(cv),fv=re({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=Fe(fv),hv=re({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),pv=Fe(hv),gv=re({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),mv=Fe(gv),vv=re({},wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yv=Fe(vv),wv=[9,13,27,32],Fa=Ct&&"CompositionEvent"in window,fo=null;Ct&&"documentMode"in document&&(fo=document.documentMode);var xv=Ct&&"TextEvent"in window&&!fo,Rd=Ct&&(!Fa||fo&&8<fo&&11>=fo),jd=" ",Ad=!1;function Od(e,t){switch(e){case"keyup":return wv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function _v(e,t){switch(e){case"compositionend":return Id(t);case"keypress":return t.which!==32?null:(Ad=!0,jd);case"textInput":return e=t.data,e===jd&&Ad?null:e;default:return null}}function kv(e,t){if(sr)return e==="compositionend"||!Fa&&Od(e,t)?(e=bd(),mi=Ma=Yt=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rd&&t.locale!=="ko"?null:t.data;default:return null}}var Sv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sv[e.type]:t==="textarea"}function Md(e,t,n,r){td(r),t=bi(t,"onChange"),0<t.length&&(n=new Na("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ho=null,po=null;function bv(e){Zd(e,0)}function xi(e){var t=dr(e);if(Wc(t))return e}function Ev(e,t){if(e==="change")return t}var Nd=!1;if(Ct){var Ba;if(Ct){var Wa="oninput"in document;if(!Wa){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),Wa=typeof $d.oninput=="function"}Ba=Wa}else Ba=!1;Nd=Ba&&(!document.documentMode||9<document.documentMode)}function Dd(){ho&&(ho.detachEvent("onpropertychange",zd),po=ho=null)}function zd(e){if(e.propertyName==="value"&&xi(po)){var t=[];Md(t,po,e,ka(e)),id(bv,t)}}function Cv(e,t,n){e==="focusin"?(Dd(),ho=t,po=n,ho.attachEvent("onpropertychange",zd)):e==="focusout"&&Dd()}function Tv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xi(po)}function Pv(e,t){if(e==="click")return xi(t)}function Rv(e,t){if(e==="input"||e==="change")return xi(t)}function jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:jv;function go(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ea.call(t,o)||!nt(e[o],t[o]))return!1}return!0}function Ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fd(e,t){var n=Ud(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ud(n)}}function Bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wd(){for(var e=window,t=ri();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ri(e.document)}return t}function Va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Av(e){var t=Wd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bd(n.ownerDocument.documentElement,n)){if(r!==null&&Va(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Fd(n,i);var s=Fd(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ov=Ct&&"documentMode"in document&&11>=document.documentMode,ar=null,Ha=null,mo=null,qa=!1;function Vd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qa||ar==null||ar!==ri(r)||(r=ar,"selectionStart"in r&&Va(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mo&&go(mo,r)||(mo=r,r=bi(Ha,"onSelect"),0<r.length&&(t=new Na("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function _i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lr={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionend:_i("Transition","TransitionEnd")},Ga={},Hd={};Ct&&(Hd=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function ki(e){if(Ga[e])return Ga[e];if(!lr[e])return e;var t=lr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hd)return Ga[e]=t[n];return e}var qd=ki("animationend"),Gd=ki("animationiteration"),Kd=ki("animationstart"),Qd=ki("transitionend"),Jd=new Map,Yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){Jd.set(e,t),En(t,[e])}for(var Ka=0;Ka<Yd.length;Ka++){var Qa=Yd[Ka],Iv=Qa.toLowerCase(),Lv=Qa[0].toUpperCase()+Qa.slice(1);Xt(Iv,"on"+Lv)}Xt(qd,"onAnimationEnd"),Xt(Gd,"onAnimationIteration"),Xt(Kd,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Qd,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mv=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function Xd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Im(r,t,void 0,e),e.currentTarget=null}function Zd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Xd(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Xd(o,a,u),i=l}}}if(si)throw e=Ca,si=!1,Ca=null,e}function X(e,t){var n=t[rl];n===void 0&&(n=t[rl]=new Set);var r=e+"__bubble";n.has(r)||(ef(t,e,2,!1),n.add(r))}function Ja(e,t,n){var r=0;t&&(r|=4),ef(n,e,r,t)}var Si="_reactListening"+Math.random().toString(36).slice(2);function yo(e){if(!e[Si]){e[Si]=!0,Mc.forEach(function(n){n!=="selectionchange"&&(Mv.has(n)||Ja(n,!1,e),Ja(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Si]||(t[Si]=!0,Ja("selectionchange",!1,t))}}function ef(e,t,n,r){switch(Sd(t)){case 1:var o=Qm;break;case 4:o=Jm;break;default:o=Ia}n=o.bind(null,t,n,e),o=void 0,!Ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ya(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Tn(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}id(function(){var u=i,c=ka(n),d=[];e:{var f=Jd.get(e);if(f!==void 0){var h=Na,v=e;switch(e){case"keypress":if(vi(n)===0)break e;case"keydown":case"keyup":h=dv;break;case"focusin":v="focus",h=za;break;case"focusout":v="blur",h=za;break;case"beforeblur":case"afterblur":h=za;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=pv;break;case qd:case Gd:case Kd:h=nv;break;case Qd:h=mv;break;case"scroll":h=Ym;break;case"wheel":h=yv;break;case"copy":case"cut":case"paste":h=ov;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Pd}var y=(t&4)!==0,k=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,m;g!==null;){m=g;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,p!==null&&(_=Zr(g,p),_!=null&&y.push(wo(g,_,m)))),k)break;g=g.return}0<y.length&&(f=new h(f,v,null,n,c),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==_a&&(v=n.relatedTarget||n.fromElement)&&(Tn(v)||v[Pt]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?Tn(v):null,v!==null&&(k=Cn(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=Cd,_="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Pd,_="onPointerLeave",p="onPointerEnter",g="pointer"),k=h==null?f:dr(h),m=v==null?f:dr(v),f=new y(_,g+"leave",h,n,c),f.target=k,f.relatedTarget=m,_=null,Tn(c)===u&&(y=new y(p,g+"enter",v,n,c),y.target=m,y.relatedTarget=k,_=y),k=_,h&&v)t:{for(y=h,p=v,g=0,m=y;m;m=ur(m))g++;for(m=0,_=p;_;_=ur(_))m++;for(;0<g-m;)y=ur(y),g--;for(;0<m-g;)p=ur(p),m--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=ur(y),p=ur(p)}y=null}else y=null;h!==null&&tf(d,f,h,y,!1),v!==null&&k!==null&&tf(d,k,v,y,!0)}}e:{if(f=u?dr(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var x=Ev;else if(Ld(f))if(Nd)x=Rv;else{x=Tv;var b=Cv}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=Pv);if(x&&(x=x(e,u))){Md(d,x,n,c);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&ma(f,"number",f.value)}switch(b=u?dr(u):window,e){case"focusin":(Ld(b)||b.contentEditable==="true")&&(ar=b,Ha=u,mo=null);break;case"focusout":mo=Ha=ar=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":qa=!1,Vd(d,n,c);break;case"selectionchange":if(Ov)break;case"keydown":case"keyup":Vd(d,n,c)}var E;if(Fa)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else sr?Od(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Rd&&n.locale!=="ko"&&(sr||R!=="onCompositionStart"?R==="onCompositionEnd"&&sr&&(E=bd()):(Yt=c,Ma="value"in Yt?Yt.value:Yt.textContent,sr=!0)),b=bi(u,R),0<b.length&&(R=new Td(R,e,null,n,c),d.push({event:R,listeners:b}),E?R.data=E:(E=Id(n),E!==null&&(R.data=E)))),(E=xv?_v(e,n):kv(e,n))&&(u=bi(u,"onBeforeInput"),0<u.length&&(c=new Td("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}Zd(d,t)})}function wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Zr(e,n),i!=null&&r.unshift(wo(e,i,o)),i=Zr(e,t),i!=null&&r.push(wo(e,i,o))),e=e.return}return r}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tf(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=Zr(n,i),l!=null&&s.unshift(wo(n,l,a))):o||(l=Zr(n,i),l!=null&&s.push(wo(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Nv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function nf(e){return(typeof e=="string"?e:""+e).replace(Nv,`
`).replace($v,"")}function Ei(e,t,n){if(t=nf(t),nf(e)!==t&&n)throw Error(P(425))}function Ci(){}var Xa=null,Za=null;function el(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,rf=typeof Promise=="function"?Promise:void 0,zv=typeof queueMicrotask=="function"?queueMicrotask:typeof rf<"u"?function(e){return rf.resolve(null).then(e).catch(Uv)}:tl;function Uv(e){setTimeout(function(){throw e})}function nl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),lo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);lo(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function of(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),vt="__reactFiber$"+cr,xo="__reactProps$"+cr,Pt="__reactContainer$"+cr,rl="__reactEvents$"+cr,Fv="__reactListeners$"+cr,Bv="__reactHandles$"+cr;function Tn(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=of(e);e!==null;){if(n=e[vt])return n;e=of(e)}return t}e=n,n=e.parentNode}return null}function _o(e){return e=e[vt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Ti(e){return e[xo]||null}var ol=[],fr=-1;function en(e){return{current:e}}function Z(e){0>fr||(e.current=ol[fr],ol[fr]=null,fr--)}function J(e,t){fr++,ol[fr]=e.current,e.current=t}var tn={},we=en(tn),Ae=en(!1),Pn=tn;function hr(e,t){var n=e.type.contextTypes;if(!n)return tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oe(e){return e=e.childContextTypes,e!=null}function Pi(){Z(Ae),Z(we)}function sf(e,t,n){if(we.current!==tn)throw Error(P(168));J(we,t),J(Ae,n)}function af(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(P(108,Cm(e)||"Unknown",o));return re({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,Pn=we.current,J(we,e),J(Ae,Ae.current),!0}function lf(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=af(e,t,Pn),r.__reactInternalMemoizedMergedChildContext=e,Z(Ae),Z(we),J(we,e)):Z(Ae),J(Ae,n)}var Rt=null,ji=!1,il=!1;function uf(e){Rt===null?Rt=[e]:Rt.push(e)}function Wv(e){ji=!0,uf(e)}function nn(){if(!il&&Rt!==null){il=!0;var e=0,t=K;try{var n=Rt;for(K=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,ji=!1}catch(o){throw Rt!==null&&(Rt=Rt.slice(e+1)),cd(Ta,nn),o}finally{K=t,il=!1}}return null}var pr=[],gr=0,Ai=null,Oi=0,Ke=[],Qe=0,Rn=null,jt=1,At="";function jn(e,t){pr[gr++]=Oi,pr[gr++]=Ai,Ai=e,Oi=t}function cf(e,t,n){Ke[Qe++]=jt,Ke[Qe++]=At,Ke[Qe++]=Rn,Rn=e;var r=jt;e=At;var o=32-tt(r)-1;r&=~(1<<o),n+=1;var i=32-tt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,jt=1<<32-tt(t)+o|n<<o|r,At=i+e}else jt=1<<i|n<<o|r,At=e}function sl(e){e.return!==null&&(jn(e,1),cf(e,1,0))}function al(e){for(;e===Ai;)Ai=pr[--gr],pr[gr]=null,Oi=pr[--gr],pr[gr]=null;for(;e===Rn;)Rn=Ke[--Qe],Ke[Qe]=null,At=Ke[--Qe],Ke[Qe]=null,jt=Ke[--Qe],Ke[Qe]=null}var Be=null,We=null,ne=!1,rt=null;function df(e,t){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ff(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,We=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rn!==null?{id:jt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,We=null,!0):!1;default:return!1}}function ll(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ul(e){if(ne){var t=We;if(t){var n=t;if(!ff(e,t)){if(ll(e))throw Error(P(418));t=Zt(n.nextSibling);var r=Be;t&&ff(e,t)?df(r,n):(e.flags=e.flags&-4097|2,ne=!1,Be=e)}}else{if(ll(e))throw Error(P(418));e.flags=e.flags&-4097|2,ne=!1,Be=e}}}function hf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Ii(e){if(e!==Be)return!1;if(!ne)return hf(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!el(e.type,e.memoizedProps)),t&&(t=We)){if(ll(e))throw pf(),Error(P(418));for(;t;)df(e,t),t=Zt(t.nextSibling)}if(hf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=Zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=Be?Zt(e.stateNode.nextSibling):null;return!0}function pf(){for(var e=We;e;)e=Zt(e.nextSibling)}function mr(){We=Be=null,ne=!1}function cl(e){rt===null?rt=[e]:rt.push(e)}var Vv=Tt.ReactCurrentBatchConfig;function ko(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gf(e){var t=e._init;return t(e._payload)}function mf(e){function t(p,g){if(e){var m=p.deletions;m===null?(p.deletions=[g],p.flags|=16):m.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function o(p,g){return p=dn(p,g),p.index=0,p.sibling=null,p}function i(p,g,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<g?(p.flags|=2,g):m):(p.flags|=2,g)):(p.flags|=1048576,g)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,g,m,_){return g===null||g.tag!==6?(g=tu(m,p.mode,_),g.return=p,g):(g=o(g,m),g.return=p,g)}function l(p,g,m,_){var x=m.type;return x===er?c(p,g,m.props.children,_,m.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ht&&gf(x)===g.type)?(_=o(g,m.props),_.ref=ko(p,g,m),_.return=p,_):(_=os(m.type,m.key,m.props,null,p.mode,_),_.ref=ko(p,g,m),_.return=p,_)}function u(p,g,m,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=nu(m,p.mode,_),g.return=p,g):(g=o(g,m.children||[]),g.return=p,g)}function c(p,g,m,_,x){return g===null||g.tag!==7?(g=Dn(m,p.mode,_,x),g.return=p,g):(g=o(g,m),g.return=p,g)}function d(p,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=tu(""+g,p.mode,m),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ti:return m=os(g.type,g.key,g.props,null,p.mode,m),m.ref=ko(p,null,g),m.return=p,m;case Zn:return g=nu(g,p.mode,m),g.return=p,g;case Ht:var _=g._init;return d(p,_(g._payload),m)}if(Jr(g)||Kr(g))return g=Dn(g,p.mode,m,null),g.return=p,g;Li(p,g)}return null}function f(p,g,m,_){var x=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return x!==null?null:a(p,g,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ti:return m.key===x?l(p,g,m,_):null;case Zn:return m.key===x?u(p,g,m,_):null;case Ht:return x=m._init,f(p,g,x(m._payload),_)}if(Jr(m)||Kr(m))return x!==null?null:c(p,g,m,_,null);Li(p,m)}return null}function h(p,g,m,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(m)||null,a(g,p,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ti:return p=p.get(_.key===null?m:_.key)||null,l(g,p,_,x);case Zn:return p=p.get(_.key===null?m:_.key)||null,u(g,p,_,x);case Ht:var b=_._init;return h(p,g,m,b(_._payload),x)}if(Jr(_)||Kr(_))return p=p.get(m)||null,c(g,p,_,x,null);Li(g,_)}return null}function v(p,g,m,_){for(var x=null,b=null,E=g,R=g=0,$=null;E!==null&&R<m.length;R++){E.index>R?($=E,E=null):$=E.sibling;var A=f(p,E,m[R],_);if(A===null){E===null&&(E=$);break}e&&E&&A.alternate===null&&t(p,E),g=i(A,g,R),b===null?x=A:b.sibling=A,b=A,E=$}if(R===m.length)return n(p,E),ne&&jn(p,R),x;if(E===null){for(;R<m.length;R++)E=d(p,m[R],_),E!==null&&(g=i(E,g,R),b===null?x=E:b.sibling=E,b=E);return ne&&jn(p,R),x}for(E=r(p,E);R<m.length;R++)$=h(E,p,R,m[R],_),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?R:$.key),g=i($,g,R),b===null?x=$:b.sibling=$,b=$);return e&&E.forEach(function(U){return t(p,U)}),ne&&jn(p,R),x}function y(p,g,m,_){var x=Kr(m);if(typeof x!="function")throw Error(P(150));if(m=x.call(m),m==null)throw Error(P(151));for(var b=x=null,E=g,R=g=0,$=null,A=m.next();E!==null&&!A.done;R++,A=m.next()){E.index>R?($=E,E=null):$=E.sibling;var U=f(p,E,A.value,_);if(U===null){E===null&&(E=$);break}e&&E&&U.alternate===null&&t(p,E),g=i(U,g,R),b===null?x=U:b.sibling=U,b=U,E=$}if(A.done)return n(p,E),ne&&jn(p,R),x;if(E===null){for(;!A.done;R++,A=m.next())A=d(p,A.value,_),A!==null&&(g=i(A,g,R),b===null?x=A:b.sibling=A,b=A);return ne&&jn(p,R),x}for(E=r(p,E);!A.done;R++,A=m.next())A=h(E,p,R,A.value,_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?R:A.key),g=i(A,g,R),b===null?x=A:b.sibling=A,b=A);return e&&E.forEach(function(M){return t(p,M)}),ne&&jn(p,R),x}function k(p,g,m,_){if(typeof m=="object"&&m!==null&&m.type===er&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ti:e:{for(var x=m.key,b=g;b!==null;){if(b.key===x){if(x=m.type,x===er){if(b.tag===7){n(p,b.sibling),g=o(b,m.props.children),g.return=p,p=g;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ht&&gf(x)===b.type){n(p,b.sibling),g=o(b,m.props),g.ref=ko(p,b,m),g.return=p,p=g;break e}n(p,b);break}else t(p,b);b=b.sibling}m.type===er?(g=Dn(m.props.children,p.mode,_,m.key),g.return=p,p=g):(_=os(m.type,m.key,m.props,null,p.mode,_),_.ref=ko(p,g,m),_.return=p,p=_)}return s(p);case Zn:e:{for(b=m.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){n(p,g.sibling),g=o(g,m.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=nu(m,p.mode,_),g.return=p,p=g}return s(p);case Ht:return b=m._init,k(p,g,b(m._payload),_)}if(Jr(m))return v(p,g,m,_);if(Kr(m))return y(p,g,m,_);Li(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(n(p,g.sibling),g=o(g,m),g.return=p,p=g):(n(p,g),g=tu(m,p.mode,_),g.return=p,p=g),s(p)):n(p,g)}return k}var vr=mf(!0),vf=mf(!1),Mi=en(null),Ni=null,yr=null,dl=null;function fl(){dl=yr=Ni=null}function hl(e){var t=Mi.current;Z(Mi),e._currentValue=t}function pl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wr(e,t){Ni=e,dl=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(dl!==e)if(e={context:e,memoizedValue:t,next:null},yr===null){if(Ni===null)throw Error(P(308));yr=e,Ni.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return t}var An=null;function gl(e){An===null?An=[e]:An.push(e)}function yf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,gl(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ot(e,r)}function Ot(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rn=!1;function ml(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function on(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ot(e,n)}return o=r.interleaved,o===null?(t.next=t,gl(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ot(e,n)}function $i(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ja(e,n)}}function xf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Di(e,t,n,r){var o=e.updateQueue;rn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,c=u=l=null,a=i;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,y=a;switch(f=t,h=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(h,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(h,d,f):v,f==null)break e;d=re({},d,f);break e;case 2:rn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,s|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Ln|=s,e.lanes=s,e.memoizedState=d}}function _f(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(P(191,o));o.call(r)}}}var So={},yt=en(So),bo=en(So),Eo=en(So);function On(e){if(e===So)throw Error(P(174));return e}function vl(e,t){switch(J(Eo,t),J(bo,e),J(yt,So),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ya(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ya(t,e)}Z(yt),J(yt,t)}function xr(){Z(yt),Z(bo),Z(Eo)}function kf(e){On(Eo.current);var t=On(yt.current),n=ya(t,e.type);t!==n&&(J(bo,e),J(yt,n))}function yl(e){bo.current===e&&(Z(yt),Z(bo))}var oe=en(0);function zi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wl=[];function xl(){for(var e=0;e<wl.length;e++)wl[e]._workInProgressVersionPrimary=null;wl.length=0}var Ui=Tt.ReactCurrentDispatcher,_l=Tt.ReactCurrentBatchConfig,In=0,ie=null,ce=null,he=null,Fi=!1,Co=!1,To=0,Hv=0;function xe(){throw Error(P(321))}function kl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nt(e[n],t[n]))return!1;return!0}function Sl(e,t,n,r,o,i){if(In=i,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ui.current=e===null||e.memoizedState===null?Qv:Jv,e=n(r,o),Co){i=0;do{if(Co=!1,To=0,25<=i)throw Error(P(301));i+=1,he=ce=null,t.updateQueue=null,Ui.current=Yv,e=n(r,o)}while(Co)}if(Ui.current=Vi,t=ce!==null&&ce.next!==null,In=0,he=ce=ie=null,Fi=!1,t)throw Error(P(300));return e}function bl(){var e=To!==0;return To=0,e}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?ie.memoizedState=he=e:he=he.next=e,he}function Ye(){if(ce===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var t=he===null?ie.memoizedState:he.next;if(t!==null)he=t,ce=e;else{if(e===null)throw Error(P(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},he===null?ie.memoizedState=he=e:he=he.next=e}return he}function Po(e,t){return typeof t=="function"?t(e):t}function El(e){var t=Ye(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=ce,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var c=u.lane;if((In&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,ie.lanes|=c,Ln|=c}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,nt(r,t.memoizedState)||(Ie=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ie.lanes|=i,Ln|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Cl(e){var t=Ye(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);nt(i,t.memoizedState)||(Ie=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Sf(){}function bf(e,t){var n=ie,r=Ye(),o=t(),i=!nt(r.memoizedState,o);if(i&&(r.memoizedState=o,Ie=!0),r=r.queue,Tl(Tf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,Ro(9,Cf.bind(null,n,r,o,t),void 0,null),pe===null)throw Error(P(349));In&30||Ef(n,t,o)}return o}function Ef(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cf(e,t,n,r){t.value=n,t.getSnapshot=r,Pf(t)&&Rf(e)}function Tf(e,t,n){return n(function(){Pf(t)&&Rf(e)})}function Pf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nt(e,n)}catch{return!0}}function Rf(e){var t=Ot(e,1);t!==null&&at(t,e,1,-1)}function jf(e){var t=wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t.queue=e,e=e.dispatch=Kv.bind(null,ie,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Af(){return Ye().memoizedState}function Bi(e,t,n,r){var o=wt();ie.flags|=e,o.memoizedState=Ro(1|t,n,void 0,r===void 0?null:r)}function Wi(e,t,n,r){var o=Ye();r=r===void 0?null:r;var i=void 0;if(ce!==null){var s=ce.memoizedState;if(i=s.destroy,r!==null&&kl(r,s.deps)){o.memoizedState=Ro(t,n,i,r);return}}ie.flags|=e,o.memoizedState=Ro(1|t,n,i,r)}function Of(e,t){return Bi(8390656,8,e,t)}function Tl(e,t){return Wi(2048,8,e,t)}function If(e,t){return Wi(4,2,e,t)}function Lf(e,t){return Wi(4,4,e,t)}function Mf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nf(e,t,n){return n=n!=null?n.concat([e]):null,Wi(4,4,Mf.bind(null,t,e),n)}function Pl(){}function $f(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Df(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zf(e,t,n){return In&21?(nt(n,t)||(n=pd(),ie.lanes|=n,Ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=n)}function qv(e,t){var n=K;K=n!==0&&4>n?n:4,e(!0);var r=_l.transition;_l.transition={};try{e(!1),t()}finally{K=n,_l.transition=r}}function Uf(){return Ye().memoizedState}function Gv(e,t,n){var r=un(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ff(e))Bf(t,n);else if(n=yf(e,t,n,r),n!==null){var o=Pe();at(n,e,r,o),Wf(n,t,r)}}function Kv(e,t,n){var r=un(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ff(e))Bf(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,nt(a,s)){var l=t.interleaved;l===null?(o.next=o,gl(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=yf(e,t,o,r),n!==null&&(o=Pe(),at(n,e,r,o),Wf(n,t,r))}}function Ff(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Bf(e,t){Co=Fi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ja(e,n)}}var Vi={readContext:Je,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},Qv={readContext:Je,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Of,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bi(4194308,4,Mf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bi(4,2,e,t)},useMemo:function(e,t){var n=wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gv.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:jf,useDebugValue:Pl,useDeferredValue:function(e){return wt().memoizedState=e},useTransition:function(){var e=jf(!1),t=e[0];return e=qv.bind(null,e[1]),wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ie,o=wt();if(ne){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),pe===null)throw Error(P(349));In&30||Ef(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Of(Tf.bind(null,r,i,e),[e]),r.flags|=2048,Ro(9,Cf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=wt(),t=pe.identifierPrefix;if(ne){var n=At,r=jt;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=To++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Hv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jv={readContext:Je,useCallback:$f,useContext:Je,useEffect:Tl,useImperativeHandle:Nf,useInsertionEffect:If,useLayoutEffect:Lf,useMemo:Df,useReducer:El,useRef:Af,useState:function(){return El(Po)},useDebugValue:Pl,useDeferredValue:function(e){var t=Ye();return zf(t,ce.memoizedState,e)},useTransition:function(){var e=El(Po)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Sf,useSyncExternalStore:bf,useId:Uf,unstable_isNewReconciler:!1},Yv={readContext:Je,useCallback:$f,useContext:Je,useEffect:Tl,useImperativeHandle:Nf,useInsertionEffect:If,useLayoutEffect:Lf,useMemo:Df,useReducer:Cl,useRef:Af,useState:function(){return Cl(Po)},useDebugValue:Pl,useDeferredValue:function(e){var t=Ye();return ce===null?t.memoizedState=e:zf(t,ce.memoizedState,e)},useTransition:function(){var e=Cl(Po)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Sf,useSyncExternalStore:bf,useId:Uf,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hi={isMounted:function(e){return(e=e._reactInternals)?Cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pe(),o=un(e),i=It(r,o);i.payload=t,n!=null&&(i.callback=n),t=on(e,i,o),t!==null&&(at(t,e,o,r),$i(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pe(),o=un(e),i=It(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=on(e,i,o),t!==null&&(at(t,e,o,r),$i(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),r=un(e),o=It(n,r);o.tag=2,t!=null&&(o.callback=t),t=on(e,o,r),t!==null&&(at(t,e,r,n),$i(t,e,r))}};function Vf(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!go(n,r)||!go(o,i):!0}function Hf(e,t,n){var r=!1,o=tn,i=t.contextType;return typeof i=="object"&&i!==null?i=Je(i):(o=Oe(t)?Pn:we.current,r=t.contextTypes,i=(r=r!=null)?hr(e,o):tn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function qf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hi.enqueueReplaceState(t,t.state,null)}function jl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ml(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Je(i):(i=Oe(t)?Pn:we.current,o.context=hr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Rl(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Hi.enqueueReplaceState(o,o.state,null),Di(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function _r(e,t){try{var n="",r=t;do n+=Em(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Al(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ol(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Xv=typeof WeakMap=="function"?WeakMap:Map;function Gf(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xi||(Xi=!0,Gl=r),Ol(e,t)},n}function Kf(e,t,n){n=It(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ol(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ol(e,t),typeof r!="function"&&(an===null?an=new Set([this]):an.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Qf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Xv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=fy.bind(null,e,t,n),t.then(e,e))}function Jf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yf(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,on(n,t,1))),n.lanes|=1),e)}var Zv=Tt.ReactCurrentOwner,Ie=!1;function Te(e,t,n,r){t.child=e===null?vf(t,null,n,r):vr(t,e.child,n,r)}function Xf(e,t,n,r,o){n=n.render;var i=t.ref;return wr(t,o),r=Sl(e,t,n,r,i,o),n=bl(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Lt(e,t,o)):(ne&&n&&sl(t),t.flags|=1,Te(e,t,r,o),t.child)}function Zf(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!eu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,eh(e,t,i,r,o)):(e=os(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:go,n(s,r)&&e.ref===t.ref)return Lt(e,t,o)}return t.flags|=1,e=dn(i,r),e.ref=t.ref,e.return=t,t.child=e}function eh(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(go(i,r)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,Lt(e,t,o)}return Il(e,t,n,r,o)}function th(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Sr,Ve),Ve|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Sr,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,J(Sr,Ve),Ve|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,J(Sr,Ve),Ve|=r;return Te(e,t,o,n),t.child}function nh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Il(e,t,n,r,o){var i=Oe(n)?Pn:we.current;return i=hr(t,i),wr(t,o),n=Sl(e,t,n,r,i,o),r=bl(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Lt(e,t,o)):(ne&&r&&sl(t),t.flags|=1,Te(e,t,n,o),t.child)}function rh(e,t,n,r,o){if(Oe(n)){var i=!0;Ri(t)}else i=!1;if(wr(t,o),t.stateNode===null)Gi(e,t),Hf(t,n,r),jl(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Oe(n)?Pn:we.current,u=hr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&qf(t,s,r,u),rn=!1;var f=t.memoizedState;s.state=f,Di(t,r,s,o),l=t.memoizedState,a!==r||f!==l||Ae.current||rn?(typeof c=="function"&&(Rl(t,n,c,r),l=t.memoizedState),(a=rn||Vf(t,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,wf(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ot(t.type,a),s.props=u,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Je(l):(l=Oe(n)?Pn:we.current,l=hr(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&qf(t,s,r,l),rn=!1,f=t.memoizedState,s.state=f,Di(t,r,s,o);var v=t.memoizedState;a!==d||f!==v||Ae.current||rn?(typeof h=="function"&&(Rl(t,n,h,r),v=t.memoizedState),(u=rn||Vf(t,n,u,r,f,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ll(e,t,n,r,i,o)}function Ll(e,t,n,r,o,i){nh(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&lf(t,n,!1),Lt(e,t,i);r=t.stateNode,Zv.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=vr(t,e.child,null,i),t.child=vr(t,null,a,i)):Te(e,t,a,i),t.memoizedState=r.state,o&&lf(t,n,!0),t.child}function oh(e){var t=e.stateNode;t.pendingContext?sf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sf(e,t.context,!1),vl(e,t.containerInfo)}function ih(e,t,n,r,o){return mr(),cl(o),t.flags|=256,Te(e,t,n,r),t.child}var Ml={dehydrated:null,treeContext:null,retryLane:0};function Nl(e){return{baseLanes:e,cachePool:null,transitions:null}}function sh(e,t,n){var r=t.pendingProps,o=oe.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),J(oe,o&1),e===null)return ul(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=is(s,r,0,null),e=Dn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Nl(n),t.memoizedState=Ml,e):$l(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return ey(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=dn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=dn(a,i):(i=Dn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Nl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Ml,r}return i=e.child,e=i.sibling,r=dn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $l(e,t){return t=is({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qi(e,t,n,r){return r!==null&&cl(r),vr(t,e.child,null,n),e=$l(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ey(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Al(Error(P(422))),qi(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=is({mode:"visible",children:r.children},o,0,null),i=Dn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&vr(t,e.child,null,s),t.child.memoizedState=Nl(s),t.memoizedState=Ml,i);if(!(t.mode&1))return qi(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=Al(i,r,void 0),qi(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ie||a){if(r=pe,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ot(e,o),at(r,e,o,-1))}return Zl(),r=Al(Error(P(421))),qi(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=hy.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,We=Zt(o.nextSibling),Be=t,ne=!0,rt=null,e!==null&&(Ke[Qe++]=jt,Ke[Qe++]=At,Ke[Qe++]=Rn,jt=e.id,At=e.overflow,Rn=t),t=$l(t,r.children),t.flags|=4096,t)}function ah(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pl(e.return,t,n)}function Dl(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function lh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Te(e,t,r.children,n),r=oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ah(e,n,t);else if(e.tag===19)ah(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(J(oe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&zi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Dl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&zi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Dl(t,!0,n,null,i);break;case"together":Dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ty(e,t,n){switch(t.tag){case 3:oh(t),mr();break;case 5:kf(t);break;case 1:Oe(t.type)&&Ri(t);break;case 4:vl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;J(Mi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(J(oe,oe.current&1),t.flags|=128,null):n&t.child.childLanes?sh(e,t,n):(J(oe,oe.current&1),e=Lt(e,t,n),e!==null?e.sibling:null);J(oe,oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),J(oe,oe.current),r)break;return null;case 22:case 23:return t.lanes=0,th(e,t,n)}return Lt(e,t,n)}var uh,zl,ch,dh;uh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zl=function(){},ch=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,On(yt.current);var i=null;switch(n){case"input":o=pa(e,o),r=pa(e,r),i=[];break;case"select":o=re({},o,{value:void 0}),r=re({},r,{value:void 0}),i=[];break;case"textarea":o=va(e,o),r=va(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ci)}wa(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&X("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},dh=function(e,t,n,r){n!==r&&(t.flags|=4)};function jo(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ny(e,t,n){var r=t.pendingProps;switch(al(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Oe(t.type)&&Pi(),_e(t),null;case 3:return r=t.stateNode,xr(),Z(Ae),Z(we),xl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rt!==null&&(Jl(rt),rt=null))),zl(e,t),_e(t),null;case 5:yl(t);var o=On(Eo.current);if(n=t.type,e!==null&&t.stateNode!=null)ch(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return _e(t),null}if(e=On(yt.current),Ii(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[vt]=t,r[xo]=i,e=(t.mode&1)!==0,n){case"dialog":X("cancel",r),X("close",r);break;case"iframe":case"object":case"embed":X("load",r);break;case"video":case"audio":for(o=0;o<vo.length;o++)X(vo[o],r);break;case"source":X("error",r);break;case"img":case"image":case"link":X("error",r),X("load",r);break;case"details":X("toggle",r);break;case"input":Vc(r,i),X("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},X("invalid",r);break;case"textarea":Gc(r,i),X("invalid",r)}wa(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ei(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ei(r.textContent,a,e),o=["children",""+a]):Gr.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&X("scroll",r)}switch(n){case"input":ni(r),qc(r,i,!0);break;case"textarea":ni(r),Qc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ci)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[vt]=t,e[xo]=r,uh(e,t,!1,!1),t.stateNode=e;e:{switch(s=xa(n,r),n){case"dialog":X("cancel",e),X("close",e),o=r;break;case"iframe":case"object":case"embed":X("load",e),o=r;break;case"video":case"audio":for(o=0;o<vo.length;o++)X(vo[o],e);o=r;break;case"source":X("error",e),o=r;break;case"img":case"image":case"link":X("error",e),X("load",e),o=r;break;case"details":X("toggle",e),o=r;break;case"input":Vc(e,r),o=pa(e,r),X("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=re({},r,{value:void 0}),X("invalid",e);break;case"textarea":Gc(e,r),o=va(e,r),X("invalid",e);break;default:o=r}wa(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Zc(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yc(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yr(e,l):typeof l=="number"&&Yr(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&X("scroll",e):l!=null&&ra(e,i,l,s))}switch(n){case"input":ni(e),qc(e,r,!1);break;case"textarea":ni(e),Qc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?tr(e,!!r.multiple,i,!1):r.defaultValue!=null&&tr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ci)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)dh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=On(Eo.current),On(yt.current),Ii(t)){if(r=t.stateNode,n=t.memoizedProps,r[vt]=t,(i=r.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:Ei(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ei(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vt]=t,t.stateNode=r}return _e(t),null;case 13:if(Z(oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&We!==null&&t.mode&1&&!(t.flags&128))pf(),mr(),t.flags|=98560,i=!1;else if(i=Ii(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[vt]=t}else mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),i=!1}else rt!==null&&(Jl(rt),rt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?de===0&&(de=3):Zl())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return xr(),zl(e,t),e===null&&yo(t.stateNode.containerInfo),_e(t),null;case 10:return hl(t.type._context),_e(t),null;case 17:return Oe(t.type)&&Pi(),_e(t),null;case 19:if(Z(oe),i=t.memoizedState,i===null)return _e(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)jo(i,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=zi(e),s!==null){for(t.flags|=128,jo(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(oe,oe.current&1|2),t.child}e=e.sibling}i.tail!==null&&le()>br&&(t.flags|=128,r=!0,jo(i,!1),t.lanes=4194304)}else{if(!r)if(e=zi(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ne)return _e(t),null}else 2*le()-i.renderingStartTime>br&&n!==1073741824&&(t.flags|=128,r=!0,jo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=le(),t.sibling=null,n=oe.current,J(oe,r?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return Xl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ve&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function ry(e,t){switch(al(t),t.tag){case 1:return Oe(t.type)&&Pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xr(),Z(Ae),Z(we),xl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yl(t),null;case 13:if(Z(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(oe),null;case 4:return xr(),null;case 10:return hl(t.type._context),null;case 22:case 23:return Xl(),null;case 24:return null;default:return null}}var Ki=!1,ke=!1,oy=typeof WeakSet=="function"?WeakSet:Set,O=null;function kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function Ul(e,t,n){try{n()}catch(r){ae(e,t,r)}}var fh=!1;function iy(e,t){if(Xa=pi,e=Wd(),Va(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===o&&(a=s),f===i&&++c===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Za={focusedElem:e,selectionRange:n},pi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,k=v.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:ot(t.type,y),k);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(_){ae(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=fh,fh=!1,v}function Ao(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ul(t,n,i)}o=o.next}while(o!==r)}}function Qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hh(e){var t=e.alternate;t!==null&&(e.alternate=null,hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[xo],delete t[rl],delete t[Fv],delete t[Bv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ph(e){return e.tag===5||e.tag===3||e.tag===4}function gh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ci));else if(r!==4&&(e=e.child,e!==null))for(Bl(e,t,n),e=e.sibling;e!==null;)Bl(e,t,n),e=e.sibling}function Wl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wl(e,t,n),e=e.sibling;e!==null;)Wl(e,t,n),e=e.sibling}var ve=null,it=!1;function sn(e,t,n){for(n=n.child;n!==null;)mh(e,t,n),n=n.sibling}function mh(e,t,n){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(li,n)}catch{}switch(n.tag){case 5:ke||kr(n,t);case 6:var r=ve,o=it;ve=null,sn(e,t,n),ve=r,it=o,ve!==null&&(it?(e=ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(it?(e=ve,n=n.stateNode,e.nodeType===8?nl(e.parentNode,n):e.nodeType===1&&nl(e,n),lo(e)):nl(ve,n.stateNode));break;case 4:r=ve,o=it,ve=n.stateNode.containerInfo,it=!0,sn(e,t,n),ve=r,it=o;break;case 0:case 11:case 14:case 15:if(!ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ul(n,t,s),o=o.next}while(o!==r)}sn(e,t,n);break;case 1:if(!ke&&(kr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ae(n,t,a)}sn(e,t,n);break;case 21:sn(e,t,n);break;case 22:n.mode&1?(ke=(r=ke)||n.memoizedState!==null,sn(e,t,n),ke=r):sn(e,t,n);break;default:sn(e,t,n)}}function vh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oy),t.forEach(function(r){var o=py.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function st(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ve=a.stateNode,it=!1;break e;case 3:ve=a.stateNode.containerInfo,it=!0;break e;case 4:ve=a.stateNode.containerInfo,it=!0;break e}a=a.return}if(ve===null)throw Error(P(160));mh(i,s,o),ve=null,it=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){ae(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yh(t,e),t=t.sibling}function yh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),xt(e),r&4){try{Ao(3,e,e.return),Qi(3,e)}catch(y){ae(e,e.return,y)}try{Ao(5,e,e.return)}catch(y){ae(e,e.return,y)}}break;case 1:st(t,e),xt(e),r&512&&n!==null&&kr(n,n.return);break;case 5:if(st(t,e),xt(e),r&512&&n!==null&&kr(n,n.return),e.flags&32){var o=e.stateNode;try{Yr(o,"")}catch(y){ae(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Hc(o,i),xa(a,s);var u=xa(a,i);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?Zc(o,d):c==="dangerouslySetInnerHTML"?Yc(o,d):c==="children"?Yr(o,d):ra(o,c,d,u)}switch(a){case"input":ga(o,i);break;case"textarea":Kc(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?tr(o,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?tr(o,!!i.multiple,i.defaultValue,!0):tr(o,!!i.multiple,i.multiple?[]:"",!1))}o[xo]=i}catch(y){ae(e,e.return,y)}}break;case 6:if(st(t,e),xt(e),r&4){if(e.stateNode===null)throw Error(P(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(y){ae(e,e.return,y)}}break;case 3:if(st(t,e),xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lo(t.containerInfo)}catch(y){ae(e,e.return,y)}break;case 4:st(t,e),xt(e);break;case 13:st(t,e),xt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(ql=le())),r&4&&vh(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ke=(u=ke)||c,st(t,e),ke=u):st(t,e),xt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(d=O=c;O!==null;){switch(f=O,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ao(4,f,f.return);break;case 1:kr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){ae(r,n,y)}}break;case 5:kr(f,f.return);break;case 22:if(f.memoizedState!==null){_h(d);continue}}h!==null?(h.return=f,O=h):_h(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Xc("display",s))}catch(y){ae(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ae(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:st(t,e),xt(e),r&4&&vh(e);break;case 21:break;default:st(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ph(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Yr(o,""),r.flags&=-33);var i=gh(e);Wl(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=gh(e);Bl(e,a,s);break;default:throw Error(P(161))}}catch(l){ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sy(e,t,n){O=e,wh(e)}function wh(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var o=O,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Ki;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||ke;a=Ki;var u=ke;if(Ki=s,(ke=l)&&!u)for(O=o;O!==null;)s=O,l=s.child,s.tag===22&&s.memoizedState!==null?kh(o):l!==null?(l.return=s,O=l):kh(o);for(;i!==null;)O=i,wh(i),i=i.sibling;O=o,Ki=a,ke=u}xh(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,O=i):xh(e)}}function xh(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||Qi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ke)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ot(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_f(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_f(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&lo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ke||t.flags&512&&Fl(t)}catch(f){ae(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function _h(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function kh(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qi(4,t)}catch(l){ae(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){ae(t,o,l)}}var i=t.return;try{Fl(t)}catch(l){ae(t,i,l)}break;case 5:var s=t.return;try{Fl(t)}catch(l){ae(t,s,l)}}}catch(l){ae(t,t.return,l)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var ay=Math.ceil,Ji=Tt.ReactCurrentDispatcher,Vl=Tt.ReactCurrentOwner,Xe=Tt.ReactCurrentBatchConfig,q=0,pe=null,ue=null,ye=0,Ve=0,Sr=en(0),de=0,Oo=null,Ln=0,Yi=0,Hl=0,Io=null,Le=null,ql=0,br=1/0,Mt=null,Xi=!1,Gl=null,an=null,Zi=!1,ln=null,es=0,Lo=0,Kl=null,ts=-1,ns=0;function Pe(){return q&6?le():ts!==-1?ts:ts=le()}function un(e){return e.mode&1?q&2&&ye!==0?ye&-ye:Vv.transition!==null?(ns===0&&(ns=pd()),ns):(e=K,e!==0||(e=window.event,e=e===void 0?16:Sd(e.type)),e):1}function at(e,t,n,r){if(50<Lo)throw Lo=0,Kl=null,Error(P(185));ro(e,n,r),(!(q&2)||e!==pe)&&(e===pe&&(!(q&2)&&(Yi|=n),de===4&&cn(e,ye)),Me(e,r),n===1&&q===0&&!(t.mode&1)&&(br=le()+500,ji&&nn()))}function Me(e,t){var n=e.callbackNode;Vm(e,t);var r=di(e,e===pe?ye:0);if(r===0)n!==null&&dd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&dd(n),t===1)e.tag===0?Wv(bh.bind(null,e)):uf(bh.bind(null,e)),zv(function(){!(q&6)&&nn()}),n=null;else{switch(gd(r)){case 1:n=Ta;break;case 4:n=fd;break;case 16:n=ai;break;case 536870912:n=hd;break;default:n=ai}n=Oh(n,Sh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Sh(e,t){if(ts=-1,ns=0,q&6)throw Error(P(327));var n=e.callbackNode;if(Er()&&e.callbackNode!==n)return null;var r=di(e,e===pe?ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rs(e,r);else{t=r;var o=q;q|=2;var i=Ch();(pe!==e||ye!==t)&&(Mt=null,br=le()+500,Nn(e,t));do try{cy();break}catch(a){Eh(e,a)}while(!0);fl(),Ji.current=i,q=o,ue!==null?t=0:(pe=null,ye=0,t=de)}if(t!==0){if(t===2&&(o=Pa(e),o!==0&&(r=o,t=Ql(e,o))),t===1)throw n=Oo,Nn(e,0),cn(e,r),Me(e,le()),n;if(t===6)cn(e,r);else{if(o=e.current.alternate,!(r&30)&&!ly(o)&&(t=rs(e,r),t===2&&(i=Pa(e),i!==0&&(r=i,t=Ql(e,i))),t===1))throw n=Oo,Nn(e,0),cn(e,r),Me(e,le()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:$n(e,Le,Mt);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=ql+500-le(),10<t)){if(di(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Pe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=tl($n.bind(null,e,Le,Mt),t);break}$n(e,Le,Mt);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-tt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ay(r/1960))-r,10<r){e.timeoutHandle=tl($n.bind(null,e,Le,Mt),r);break}$n(e,Le,Mt);break;case 5:$n(e,Le,Mt);break;default:throw Error(P(329))}}}return Me(e,le()),e.callbackNode===n?Sh.bind(null,e):null}function Ql(e,t){var n=Io;return e.current.memoizedState.isDehydrated&&(Nn(e,t).flags|=256),e=rs(e,t),e!==2&&(t=Le,Le=n,t!==null&&Jl(t)),e}function Jl(e){Le===null?Le=e:Le.push.apply(Le,e)}function ly(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!nt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~Hl,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tt(t),r=1<<n;e[n]=-1,t&=~r}}function bh(e){if(q&6)throw Error(P(327));Er();var t=di(e,0);if(!(t&1))return Me(e,le()),null;var n=rs(e,t);if(e.tag!==0&&n===2){var r=Pa(e);r!==0&&(t=r,n=Ql(e,r))}if(n===1)throw n=Oo,Nn(e,0),cn(e,t),Me(e,le()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,Le,Mt),Me(e,le()),null}function Yl(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(br=le()+500,ji&&nn())}}function Mn(e){ln!==null&&ln.tag===0&&!(q&6)&&Er();var t=q;q|=1;var n=Xe.transition,r=K;try{if(Xe.transition=null,K=1,e)return e()}finally{K=r,Xe.transition=n,q=t,!(q&6)&&nn()}}function Xl(){Ve=Sr.current,Z(Sr)}function Nn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dv(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(al(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pi();break;case 3:xr(),Z(Ae),Z(we),xl();break;case 5:yl(r);break;case 4:xr();break;case 13:Z(oe);break;case 19:Z(oe);break;case 10:hl(r.type._context);break;case 22:case 23:Xl()}n=n.return}if(pe=e,ue=e=dn(e.current,null),ye=Ve=t,de=0,Oo=null,Hl=Yi=Ln=0,Le=Io=null,An!==null){for(t=0;t<An.length;t++)if(n=An[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}An=null}return e}function Eh(e,t){do{var n=ue;try{if(fl(),Ui.current=Vi,Fi){for(var r=ie.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Fi=!1}if(In=0,he=ce=ie=null,Co=!1,To=0,Vl.current=null,n===null||n.return===null){de=1,Oo=t,ue=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Jf(s);if(h!==null){h.flags&=-257,Yf(h,s,a,i,t),h.mode&1&&Qf(i,u,t),t=h,l=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){Qf(i,u,t),Zl();break e}l=Error(P(426))}}else if(ne&&a.mode&1){var k=Jf(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Yf(k,s,a,i,t),cl(_r(l,a));break e}}i=l=_r(l,a),de!==4&&(de=2),Io===null?Io=[i]:Io.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Gf(i,l,t);xf(i,p);break e;case 1:a=l;var g=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(an===null||!an.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Kf(i,a,t);xf(i,_);break e}}i=i.return}while(i!==null)}Ph(n)}catch(x){t=x,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function Ch(){var e=Ji.current;return Ji.current=Vi,e===null?Vi:e}function Zl(){(de===0||de===3||de===2)&&(de=4),pe===null||!(Ln&268435455)&&!(Yi&268435455)||cn(pe,ye)}function rs(e,t){var n=q;q|=2;var r=Ch();(pe!==e||ye!==t)&&(Mt=null,Nn(e,t));do try{uy();break}catch(o){Eh(e,o)}while(!0);if(fl(),q=n,Ji.current=r,ue!==null)throw Error(P(261));return pe=null,ye=0,de}function uy(){for(;ue!==null;)Th(ue)}function cy(){for(;ue!==null&&!Mm();)Th(ue)}function Th(e){var t=Ah(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?Ph(e):ue=t,Vl.current=null}function Ph(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ry(n,t),n!==null){n.flags&=32767,ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{de=6,ue=null;return}}else if(n=ny(n,t,Ve),n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);de===0&&(de=5)}function $n(e,t,n){var r=K,o=Xe.transition;try{Xe.transition=null,K=1,dy(e,t,n,r)}finally{Xe.transition=o,K=r}return null}function dy(e,t,n,r){do Er();while(ln!==null);if(q&6)throw Error(P(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Hm(e,i),e===pe&&(ue=pe=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zi||(Zi=!0,Oh(ai,function(){return Er(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xe.transition,Xe.transition=null;var s=K;K=1;var a=q;q|=4,Vl.current=null,iy(e,n),yh(n,e),Av(Za),pi=!!Xa,Za=Xa=null,e.current=n,sy(n),Nm(),q=a,K=s,Xe.transition=i}else e.current=n;if(Zi&&(Zi=!1,ln=e,es=o),i=e.pendingLanes,i===0&&(an=null),zm(n.stateNode),Me(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Xi)throw Xi=!1,e=Gl,Gl=null,e;return es&1&&e.tag!==0&&Er(),i=e.pendingLanes,i&1?e===Kl?Lo++:(Lo=0,Kl=e):Lo=0,nn(),null}function Er(){if(ln!==null){var e=gd(es),t=Xe.transition,n=K;try{if(Xe.transition=null,K=16>e?16:e,ln===null)var r=!1;else{if(e=ln,ln=null,es=0,q&6)throw Error(P(331));var o=q;for(q|=4,O=e.current;O!==null;){var i=O,s=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Ao(8,c,i)}var d=c.child;if(d!==null)d.return=c,O=d;else for(;O!==null;){c=O;var f=c.sibling,h=c.return;if(hh(c),c===u){O=null;break}if(f!==null){f.return=h,O=f;break}O=h}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}O=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,O=s;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ao(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,O=p;break e}O=i.return}}var g=e.current;for(O=g;O!==null;){s=O;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,O=m;else e:for(s=g;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qi(9,a)}}catch(x){ae(a,a.return,x)}if(a===s){O=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,O=_;break e}O=a.return}}if(q=o,nn(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(li,e)}catch{}r=!0}return r}finally{K=n,Xe.transition=t}}return!1}function Rh(e,t,n){t=_r(n,t),t=Gf(e,t,1),e=on(e,t,1),t=Pe(),e!==null&&(ro(e,1,t),Me(e,t))}function ae(e,t,n){if(e.tag===3)Rh(e,e,n);else for(;t!==null;){if(t.tag===3){Rh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(an===null||!an.has(r))){e=_r(n,e),e=Kf(t,e,1),t=on(t,e,1),e=Pe(),t!==null&&(ro(t,1,e),Me(t,e));break}}t=t.return}}function fy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&n,pe===e&&(ye&n)===n&&(de===4||de===3&&(ye&130023424)===ye&&500>le()-ql?Nn(e,0):Hl|=n),Me(e,t)}function jh(e,t){t===0&&(e.mode&1?(t=ci,ci<<=1,!(ci&130023424)&&(ci=4194304)):t=1);var n=Pe();e=Ot(e,t),e!==null&&(ro(e,t,n),Me(e,n))}function hy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jh(e,n)}function py(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),jh(e,n)}var Ah;Ah=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)Ie=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ie=!1,ty(e,t,n);Ie=!!(e.flags&131072)}else Ie=!1,ne&&t.flags&1048576&&cf(t,Oi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gi(e,t),e=t.pendingProps;var o=hr(t,we.current);wr(t,n),o=Sl(null,t,r,e,o,n);var i=bl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oe(r)?(i=!0,Ri(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ml(t),o.updater=Hi,t.stateNode=o,o._reactInternals=t,jl(t,r,e,n),t=Ll(null,t,r,!0,i,n)):(t.tag=0,ne&&i&&sl(t),Te(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=my(r),e=ot(r,e),o){case 0:t=Il(null,t,r,e,n);break e;case 1:t=rh(null,t,r,e,n);break e;case 11:t=Xf(null,t,r,e,n);break e;case 14:t=Zf(null,t,r,ot(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ot(r,o),Il(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ot(r,o),rh(e,t,r,o,n);case 3:e:{if(oh(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,o=i.element,wf(e,t),Di(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=_r(Error(P(423)),t),t=ih(e,t,r,n,o);break e}else if(r!==o){o=_r(Error(P(424)),t),t=ih(e,t,r,n,o);break e}else for(We=Zt(t.stateNode.containerInfo.firstChild),Be=t,ne=!0,rt=null,n=vf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),r===o){t=Lt(e,t,n);break e}Te(e,t,r,n)}t=t.child}return t;case 5:return kf(t),e===null&&ul(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,el(r,o)?s=null:i!==null&&el(r,i)&&(t.flags|=32),nh(e,t),Te(e,t,s,n),t.child;case 6:return e===null&&ul(t),null;case 13:return sh(e,t,n);case 4:return vl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vr(t,null,r,n):Te(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ot(r,o),Xf(e,t,r,o,n);case 7:return Te(e,t,t.pendingProps,n),t.child;case 8:return Te(e,t,t.pendingProps.children,n),t.child;case 12:return Te(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,J(Mi,r._currentValue),r._currentValue=s,i!==null)if(nt(i.value,s)){if(i.children===o.children&&!Ae.current){t=Lt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=It(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),pl(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(P(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),pl(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Te(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,wr(t,n),o=Je(o),r=r(o),t.flags|=1,Te(e,t,r,n),t.child;case 14:return r=t.type,o=ot(r,t.pendingProps),o=ot(r.type,o),Zf(e,t,r,o,n);case 15:return eh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ot(r,o),Gi(e,t),t.tag=1,Oe(r)?(e=!0,Ri(t)):e=!1,wr(t,n),Hf(t,r,o),jl(t,r,o,n),Ll(null,t,r,!0,e,n);case 19:return lh(e,t,n);case 22:return th(e,t,n)}throw Error(P(156,t.tag))};function Oh(e,t){return cd(e,t)}function gy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(e,t,n,r){return new gy(e,t,n,r)}function eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function my(e){if(typeof e=="function")return eu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sa)return 11;if(e===ua)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=Ze(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function os(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")eu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case er:return Dn(n.children,o,i,t);case oa:s=8,o|=8;break;case ia:return e=Ze(12,n,t,o|2),e.elementType=ia,e.lanes=i,e;case aa:return e=Ze(13,n,t,o),e.elementType=aa,e.lanes=i,e;case la:return e=Ze(19,n,t,o),e.elementType=la,e.lanes=i,e;case Uc:return is(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dc:s=10;break e;case zc:s=9;break e;case sa:s=11;break e;case ua:s=14;break e;case Ht:s=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Ze(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Dn(e,t,n,r){return e=Ze(7,e,r,t),e.lanes=n,e}function is(e,t,n,r){return e=Ze(22,e,r,t),e.elementType=Uc,e.lanes=n,e.stateNode={isHidden:!1},e}function tu(e,t,n){return e=Ze(6,e,null,t),e.lanes=n,e}function nu(e,t,n){return t=Ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vy(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ru(e,t,n,r,o,i,s,a,l){return e=new vy(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ml(i),e}function yy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ih(e){if(!e)return tn;e=e._reactInternals;e:{if(Cn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Oe(n))return af(e,n,t)}return t}function Lh(e,t,n,r,o,i,s,a,l){return e=ru(n,r,!0,e,o,i,s,a,l),e.context=Ih(null),n=e.current,r=Pe(),o=un(n),i=It(r,o),i.callback=t??null,on(n,i,o),e.current.lanes=o,ro(e,o,r),Me(e,r),e}function ss(e,t,n,r){var o=t.current,i=Pe(),s=un(o);return n=Ih(n),t.context===null?t.context=n:t.pendingContext=n,t=It(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=on(o,t,s),e!==null&&(at(e,o,s,i),$i(e,o,s)),s}function as(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ou(e,t){Mh(e,t),(e=e.alternate)&&Mh(e,t)}function wy(){return null}var Nh=typeof reportError=="function"?reportError:function(e){console.error(e)};function iu(e){this._internalRoot=e}ls.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));ss(e,t,null,null)},ls.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mn(function(){ss(null,e,null,null)}),t[Pt]=null}};function ls(e){this._internalRoot=e}ls.prototype.unstable_scheduleHydration=function(e){if(e){var t=yd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&t!==0&&t<Jt[n].priority;n++);Jt.splice(n,0,e),n===0&&_d(e)}};function su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function us(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $h(){}function xy(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=as(s);i.call(u)}}var s=Lh(t,r,e,0,null,!1,!1,"",$h);return e._reactRootContainer=s,e[Pt]=s.current,yo(e.nodeType===8?e.parentNode:e),Mn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=as(l);a.call(u)}}var l=ru(e,0,!1,null,null,!1,!1,"",$h);return e._reactRootContainer=l,e[Pt]=l.current,yo(e.nodeType===8?e.parentNode:e),Mn(function(){ss(t,l,n,r)}),l}function cs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=as(s);a.call(l)}}ss(t,s,e,o)}else s=xy(n,t,e,o,r);return as(s)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=no(t.pendingLanes);n!==0&&(ja(t,n|1),Me(t,le()),!(q&6)&&(br=le()+500,nn()))}break;case 13:Mn(function(){var r=Ot(e,1);if(r!==null){var o=Pe();at(r,e,1,o)}}),ou(e,1)}},Aa=function(e){if(e.tag===13){var t=Ot(e,134217728);if(t!==null){var n=Pe();at(t,e,134217728,n)}ou(e,134217728)}},vd=function(e){if(e.tag===13){var t=un(e),n=Ot(e,t);if(n!==null){var r=Pe();at(n,e,t,r)}ou(e,t)}},yd=function(){return K},wd=function(e,t){var n=K;try{return K=e,t()}finally{K=n}},Sa=function(e,t,n){switch(t){case"input":if(ga(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Ti(r);if(!o)throw Error(P(90));Wc(r),ga(r,o)}}}break;case"textarea":Kc(e,n);break;case"select":t=n.value,t!=null&&tr(e,!!n.multiple,t,!1)}},rd=Yl,od=Mn;var _y={usingClientEntryPoint:!1,Events:[_o,dr,Ti,td,nd,Yl]},Mo={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ky={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ld(e),e===null?null:e.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||wy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{li=ds.inject(ky),mt=ds}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_y,ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!su(t))throw Error(P(200));return yy(e,t,null,n)},ze.createRoot=function(e,t){if(!su(e))throw Error(P(299));var n=!1,r="",o=Nh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ru(e,1,!1,null,null,n,!1,r,o),e[Pt]=t.current,yo(e.nodeType===8?e.parentNode:e),new iu(t)},ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=ld(t),e=e===null?null:e.stateNode,e},ze.flushSync=function(e){return Mn(e)},ze.hydrate=function(e,t,n){if(!us(t))throw Error(P(200));return cs(null,e,t,!0,n)},ze.hydrateRoot=function(e,t,n){if(!su(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Nh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Lh(t,null,e,1,n??null,o,!1,i,s),e[Pt]=t.current,yo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ls(t)},ze.render=function(e,t,n){if(!us(t))throw Error(P(200));return cs(null,e,t,!1,n)},ze.unmountComponentAtNode=function(e){if(!us(e))throw Error(P(40));return e._reactRootContainer?(Mn(function(){cs(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1},ze.unstable_batchedUpdates=Yl,ze.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!us(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return cs(e,t,n,!1,r)},ze.version="18.3.1-next-f1338f8080-20240426";function Dh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dh)}catch(e){console.error(e)}}Dh(),Oc.exports=ze;var au=Oc.exports,zh,Uh=au;zh=Uh.createRoot,Uh.hydrateRoot;var Fh={exports:{}},fs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy=w,by=Symbol.for("react.element"),Ey=Symbol.for("react.fragment"),Cy=Object.prototype.hasOwnProperty,Ty=Sy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Py={key:!0,ref:!0,__self:!0,__source:!0};function Bh(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Cy.call(t,r)&&!Py.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:by,type:e,key:i,ref:s,props:o,_owner:Ty.current}}fs.Fragment=Ey,fs.jsx=Bh,fs.jsxs=Bh,Fh.exports=fs;var S=Fh.exports;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wh=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...a},l)=>w.createElement("svg",{ref:l,...jy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Wh("lucide",o),...a},[...s.map(([u,c])=>w.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const n=w.forwardRef(({className:r,...o},i)=>w.createElement(Ay,{ref:i,iconNode:t,className:Wh(`lucide-${Ry(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=Se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=Se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Se("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Se("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Se("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Se("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Se("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Se("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Se("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),By=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Promise.resolve().then(()=>Tr).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class lu extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Wy extends lu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Vy extends lu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Hy extends lu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uu||(uu={}));var qy=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Gy{constructor(t,{headers:n={},customFetch:r,region:o=uu.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=By(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return qy(this,void 0,void 0,function*(){try{const{headers:o,method:i,body:s}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:u}).catch(v=>{throw new Wy(v)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new Vy(c);if(!c.ok)throw new Hy(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield c.json():f==="application/octet-stream"?h=yield c.blob():f==="text/event-stream"?h=c:f==="multipart/form-data"?h=yield c.formData():h=yield c.text(),{data:h,error:null}}catch(o){return{data:null,error:o}}})}}var Ne={},cu={},ps={},No={},gs={},ms={},Ky=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cr=Ky();const Qy=Cr.fetch,Qh=Cr.fetch.bind(Cr),Jh=Cr.Headers,Jy=Cr.Request,Yy=Cr.Response,Tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jh,Request:Jy,Response:Yy,default:Qh,fetch:Qy},Symbol.toStringTag,{value:"Module"})),Xy=nm(Tr);var vs={};Object.defineProperty(vs,"__esModule",{value:!0});let Zy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};vs.default=Zy;var Yh=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ms,"__esModule",{value:!0});const e0=Yh(Xy),t0=Yh(vs);let n0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=e0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,l;let u=null,c=null,d=null,f=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=p:c=JSON.parse(p))}const y=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&k&&k.length>1&&(d=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,h="OK")}catch{i.status===404&&y===""?(f=204,h="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,h="OK"),u&&this.shouldThrowOnError)throw new t0.default(u)}return{error:u,data:c,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,l;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};ms.default=n0;var r0=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gs,"__esModule",{value:!0});const o0=r0(ms);let i0=class extends o0.default{select(t){let n=!1;const r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){const i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};gs.default=i0;var s0=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(No,"__esModule",{value:!0});const a0=s0(gs);let l0=class extends a0.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};No.default=l0;var u0=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ps,"__esModule",{value:!0});const $o=u0(No);let c0=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new $o.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new $o.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){const s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new $o.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new $o.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new $o.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ps.default=c0;var ys={},ws={};Object.defineProperty(ws,"__esModule",{value:!0}),ws.version=void 0,ws.version="0.0.0-automated",Object.defineProperty(ys,"__esModule",{value:!0}),ys.DEFAULT_HEADERS=void 0;const d0=ws;ys.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${d0.version}`};var Xh=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cu,"__esModule",{value:!0});const f0=Xh(ps),h0=Xh(No),p0=ys;let g0=class Zg{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},p0.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new f0.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Zg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){let s;const a=new URL(`${this.url}/rpc/${t}`);let l;r||o?(s=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(s="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new h0.default({method:s,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};cu.default=g0;var Pr=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const Zh=Pr(cu);Ne.PostgrestClient=Zh.default;const ep=Pr(ps);Ne.PostgrestQueryBuilder=ep.default;const tp=Pr(No);Ne.PostgrestFilterBuilder=tp.default;const np=Pr(gs);Ne.PostgrestTransformBuilder=np.default;const rp=Pr(ms);Ne.PostgrestBuilder=rp.default;const op=Pr(vs);Ne.PostgrestError=op.default;var m0=Ne.default={PostgrestClient:Zh.default,PostgrestQueryBuilder:ep.default,PostgrestFilterBuilder:tp.default,PostgrestTransformBuilder:np.default,PostgrestBuilder:rp.default,PostgrestError:op.default};const{PostgrestClient:v0,PostgrestQueryBuilder:xk,PostgrestFilterBuilder:_k,PostgrestTransformBuilder:kk,PostgrestBuilder:Sk,PostgrestError:bk}=m0;let du;typeof window>"u"?du=require("ws"):du=window.WebSocket;const y0=du,w0={"X-Client-Info":"realtime-js/2.11.10"},x0="1.0.0",ip=1e4,_0=1e3;var Rr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rr||(Rr={}));var Re;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Re||(Re={}));var lt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lt||(lt={}));var fu;(function(e){e.websocket="websocket"})(fu||(fu={}));var zn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zn||(zn={}));class k0{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(t.slice(s,s+o));s=s+o;const l=r.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class sp{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Y||(Y={}));const ap=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=S0(s,e,t,o),i),{})},S0=(e,t,n,r)=>{const o=t.find(a=>a.name===e),i=o==null?void 0:o.type,s=n[e];return i&&!r.includes(i)?lp(i,s):hu(s)},lp=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return T0(t,n)}switch(e){case Y.bool:return b0(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return E0(t);case Y.json:case Y.jsonb:return C0(t);case Y.timestamp:return P0(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return hu(t);default:return hu(t)}},hu=e=>e,b0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},E0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},C0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},T0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>lp(t,a))}return e},P0=e=>typeof e=="string"?e.replace(" ","T"):e,up=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class pu{constructor(t,n,r={},o=ip){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cp||(cp={}));class Do{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Do.syncState(this.state,o,i,s),this.pendingDiffs.forEach(l=>{this.state=Do.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Do.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const i=this.cloneDeep(t),s=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const d=i[u];if(d){const f=c.map(k=>k.presence_ref),h=d.map(k=>k.presence_ref),v=c.filter(k=>h.indexOf(k.presence_ref)<0),y=d.filter(k=>f.indexOf(k.presence_ref)<0);v.length>0&&(a[u]=v),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,o)}static syncDiff(t,n,r,o){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(s,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,o(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dp||(dp={}));var fp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fp||(fp={}));var Nt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class gu{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pu(this,lt.join,this.params,this.timeout),this.rejoinTimer=new sp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lt.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Do(this),this.broadcastEndpointURL=up(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(c=>t==null?void 0:t(Nt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(Nt.CLOSED));const l={},u={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){t==null||t(Nt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,v=[];for(let y=0;y<h;y++){const k=f[y],{filter:{event:p,schema:g,table:m,filter:_}}=k,x=c&&c[y];if(x&&x.event===p&&x.schema===g&&x.table===m&&x.filter===_)v.push(Object.assign(Object.assign({},k),{id:x.id}));else{this.unsubscribe(),this.state=Re.errored,t==null||t(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Nt.SUBSCRIBED);return}}).receive("error",c=>{this.state=Re.errored,t==null||t(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Re.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const o=new pu(this,lt.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new pu(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;const s=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=lt;if(r&&[a,l,u,c].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var v,y,k;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(y=h.filter)===null||y===void 0?void 0:y.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var v,y,k,p,g,m;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const _=h.id,x=(v=h.filter)===null||v===void 0?void 0:v.event;return _&&((y=n.ids)===null||y===void 0?void 0:y.includes(_))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const _=(g=(p=h==null?void 0:h.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:k,commit_timestamp:p,type:g,errors:m}=v;f=Object.assign(Object.assign({},{schema:y,table:k,commit_timestamp:p,eventType:g,new:{},old:{},errors:m}),this._getPayloadRecords(v))}h.callback(f,r)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&gu.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lt.close,{},t)}_onError(t){this._on(lt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ap(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ap(t.columns,t.old_record)),n}}const hp=()=>{},R0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j0{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=w0,this.params={},this.timeout=ip,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hp,this.ref=0,this.logger=hp,this.conn=null,this.sendBuffer=[],this.serializer=new k0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>Promise.resolve().then(()=>Tr).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${fu.websocket}`,this.httpEndpoint=up(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sp(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=y0),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new A0(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:x0}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rr.connecting:return zn.Connecting;case Rr.open:return zn.Open;case Rr.closing:return zn.Closing;default:return zn.Closed}}isConnected(){return this.connectionState()===zn.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{const i=new gu(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(lt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(_0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(lt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([R0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class A0{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Rr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class mu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class O0 extends mu{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class vu extends mu{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var I0=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const pp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Promise.resolve().then(()=>Tr).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},L0=()=>I0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(()=>Tr)).Response:Response}),yu=e=>{if(Array.isArray(e))return e.map(n=>yu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=yu(r)}),t};var Un=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const wu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),M0=(e,t,n)=>Un(void 0,void 0,void 0,function*(){const r=yield L0();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{t(new O0(wu(o),e.status||500))}).catch(o=>{t(new vu(wu(o),o))}):t(new vu(wu(e),e))}),N0=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function zo(e,t,n,r,o,i){return Un(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,N0(t,r,o,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>M0(l,a,r))})})}function xs(e,t,n,r){return Un(this,void 0,void 0,function*(){return zo(e,"GET",t,n,r)})}function fn(e,t,n,r,o){return Un(this,void 0,void 0,function*(){return zo(e,"POST",t,r,o,n)})}function $0(e,t,n,r,o){return Un(this,void 0,void 0,function*(){return zo(e,"PUT",t,r,o,n)})}function D0(e,t,n,r){return Un(this,void 0,void 0,function*(){return zo(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function gp(e,t,n,r,o){return Un(this,void 0,void 0,function*(){return zo(e,"DELETE",t,r,o,n)})}var $e=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const z0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class U0{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=pp(o)}uploadOrUpdate(t,n,r,o){return $e(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},mp),o);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),o!=null&&o.headers&&(a=Object.assign(Object.assign({},a),o.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(t,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return $e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:mp.upsert},o),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return $e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const i=yield fn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new mu("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}update(t,n,r){return $e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return $e(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(ge(o))return{data:null,error:o};throw o}})}copy(t,n,r){return $e(this,void 0,void 0,function*(){try{return{data:{path:(yield fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(ge(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return $e(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield fn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(ge(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return $e(this,void 0,void 0,function*(){try{const o=yield fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(ge(o))return{data:null,error:o};throw o}})}download(t,n){return $e(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield xs(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}})}info(t){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield xs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:yu(r),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}exists(t){return $e(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield D0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ge(r)&&r instanceof vu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&o.push(l);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return $e(this,void 0,void 0,function*(){try{return{data:yield gp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}list(t,n,r){return $e(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},z0),n),{prefix:t||""});return{data:yield fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(ge(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const F0={"X-Client-Info":"storage-js/2.7.1"};var jr=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class B0{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},F0),n),this.fetch=pp(r)}listBuckets(){return jr(this,void 0,void 0,function*(){try{return{data:yield xs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}})}getBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield xs(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return jr(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return jr(this,void 0,void 0,function*(){try{return{data:yield $0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}deleteBucket(t){return jr(this,void 0,void 0,function*(){try{return{data:yield gp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}}class W0 extends B0{constructor(t,n={},r){super(t,n,r)}from(t){return new U0(this.url,this.headers,t,this.fetch)}}const V0="2.50.0";let Uo="";typeof Deno<"u"?Uo="deno":typeof document<"u"?Uo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uo="react-native":Uo="node";const H0={headers:{"X-Client-Info":`supabase-js-${Uo}/${V0}`}},q0={schema:"public"},G0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K0={};var Q0=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const J0=e=>{let t;return e?t=e:typeof fetch>"u"?t=Qh:t=fetch,(...n)=>t(...n)},Y0=()=>typeof Headers>"u"?Jh:Headers,X0=(e,t,n)=>{const r=J0(n),o=Y0();return(i,s)=>Q0(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new o(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},s),{headers:u}))})};var Z0=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function ew(e){return e.endsWith("/")?e:e+"/"}function tw(e,t){var n,r;const{db:o,auth:i,realtime:s,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:Object.assign(Object.assign({},l),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Z0(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const vp="2.70.0",Ar=30*1e3,xu=3,_u=xu*Ar,nw="http://localhost:9999",rw="supabase.auth.token",ow={"X-Client-Info":`gotrue-js/${vp}`},ku="X-Supabase-Api-Version",yp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sw=6e5;class Su extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class aw extends Su{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function lw(e){return z(e)&&e.name==="AuthApiError"}class wp extends Su{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class hn extends Su{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class pn extends hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uw(e){return z(e)&&e.name==="AuthSessionMissingError"}class _s extends hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ks extends hn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ss extends hn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cw(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class xp extends hn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bu extends hn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Eu(e){return z(e)&&e.name==="AuthRetryableFetchError"}class _p extends hn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Fo extends hn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kp=` 	
\r=`.split(""),dw=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kp.length;t+=1)e[kp[t].charCodeAt(0)]=-2;for(let t=0;t<bs.length;t+=1)e[bs[t].charCodeAt(0)]=t;return e})();function Sp(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(bs[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(bs[r]),t.queuedBits-=6}}function bp(e,t,n){const r=dw[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ep(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{pw(s,r,n)};for(let s=0;s<e.length;s+=1)bp(e.charCodeAt(s),o,i);return t.join("")}function fw(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function hw(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}fw(r,t)}}function pw(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function gw(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)bp(e.charCodeAt(o),n,r);return new Uint8Array(t)}function mw(e){const t=[];return hw(e,n=>t.push(n)),new Uint8Array(t)}function vw(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>Sp(o,n,r)),Sp(null,n,r),t.join("")}function yw(e){return Math.round(Date.now()/1e3)+e}function ww(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",Fn={tested:!1,writable:!1},Bo=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fn.tested)return Fn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fn.tested=!0,Fn.writable=!0}catch{Fn.tested=!0,Fn.writable=!1}return Fn.writable};function xw(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const Cp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Promise.resolve().then(()=>Tr).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_w=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Tp=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Es=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Cs=async(e,t)=>{await e.removeItem(t)};class Ts{constructor(){this.promise=new Ts.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ts.promiseConstructor=Promise;function Cu(e){const t=e.split(".");if(t.length!==3)throw new Fo("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!iw.test(t[r]))throw new Fo("JWT not in base64url format");return{header:JSON.parse(Ep(t[0])),payload:JSON.parse(Ep(t[1])),signature:gw(t[2]),raw:{header:t[0],payload:t[1]}}}async function kw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Sw(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function bw(e){return("0"+e.toString(16)).substr(-2)}function Ew(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,bw).join("")}async function Cw(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function Tw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Cw(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Or(e,t,n=!1){const r=Ew();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Tp(e,`${t}-code-verifier`,o);const i=await Tw(r);return[i,r===i?"plain":"s256"]}const Pw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rw(e){const t=e.headers.get(ku);if(!t||!t.match(Pw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function jw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Aw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ow=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(e){if(!Ow.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Iw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Bn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lw=[502,503,504];async function Pp(e){var t;if(!_w(e))throw new bu(Bn(e),0);if(Lw.includes(e.status))throw new bu(Bn(e),e.status);let n;try{n=await e.json()}catch(i){throw new wp(Bn(i),i)}let r;const o=Rw(e);if(o&&o.getTime()>=yp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _p(Bn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new _p(Bn(n),e.status,n.weak_password.reasons);throw new aw(Bn(n),e.status||500,r)}const Mw=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function H(e,t,n,r){var o;const i=Object.assign({},r==null?void 0:r.headers);i[ku]||(i[ku]=yp["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Nw(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Nw(e,t,n,r,o,i){const s=Mw(t,r,o,i);let a;try{a=await e(n,Object.assign({},s))}catch(l){throw console.error(l),new bu(Bn(l),0)}if(a.ok||await Pp(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Pp(l)}}function $t(e){var t;let n=null;Uw(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=yw(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Rp(e){const t=$t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $w(e){return{data:e,error:null}}function Dw(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=Iw(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function zw(e){return e}function Uw(e){return e.access_token&&e.refresh_token&&e.expires_in}const Tu=["global","local","others"];var Fw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class Bw{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Cp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Tu[0]){if(Tu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tu.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:gn})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Fw(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Dw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gn})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:zw});if(c.error)throw c.error;const d=await c.json(),f=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ir(t);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gn})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ir(t);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:gn})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ir(t);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:gn})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ir(t.userId);try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ir(t.userId),Ir(t.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}const Ww={getItem:e=>Bo()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Bo()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Bo()&&globalThis.localStorage.removeItem(e)}};function jp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Vw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Lr={debug:!!(globalThis&&Bo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ap extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Hw extends Ap{}async function qw(e,t,n){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Hw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Vw();const Gw={url:nw,storageKey:rw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ow,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Op(e,t,n){return await n()}class Wo{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wo.nextInstanceID,Wo.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Gw),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Bw({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Cp(o.fetch),this.lock=o.lock||Op,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ut()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=qw:this.lock=Op,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Bo()?this.storage=Ww:(this.memoryStorage={},this.storage=jp(this.memoryStorage)):(this.memoryStorage={},this.storage=jp(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vp}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=xw(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ut()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),cw(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return z(n)?{error:n}:{error:new wp("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:$t}),{data:s,error:a}=i;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,o;try{let i;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Or(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:v},xform:$t})}else if("phone"in t){const{phone:c,password:d,options:f}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(o=f==null?void 0:f.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$t})}else throw new ks("You must provide either an email or phone number and a password");const{data:s,error:a}=i;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:s,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rp})}else if("phone"in t){const{phone:i,password:s,options:a}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Rp})}else throw new ks("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _s}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,o,i,s,a,l,u,c,d,f,h;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:k,wallet:p,statement:g,options:m}=t;let _;if(ut())if(typeof p=="object")_=p;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const x=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),g?{statement:g}:null));let E;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")E=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)E=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),y=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${x.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(o=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((s=m==null?void 0:m.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=b}}try{const{data:k,error:p}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:vw(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:$t});if(p)throw p;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new _s}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:p})}catch(k){if(z(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const n=await Es(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:i,error:s}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:$t});if(await Cs(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _s}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:s})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:i,nonce:s}=t,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$t}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new _s}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,i,s;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Or(this.storage,this.storageKey));const{error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ks("You must provide either an email or phone number.")}catch(a){if(z(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let o,i;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:$t});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(z(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Or(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:$w})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new pn;const{error:o}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(z(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:i}=t,{error:s}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:r,type:o,options:i}=t,{data:s,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new ks("You must provide either an email or phone number and a type")}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Es(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<_u:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gn}):await this._useSession(async n=>{var r,o,i;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:gn})})}catch(n){if(z(n))return uw(n)&&(await this._removeSession(),await Cs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:i}=r;if(i)throw i;if(!o.session)throw new pn;const s=o.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Or(this.storage,this.storageKey));const{data:u,error:c}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:gn});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pn;const n=Date.now()/1e3;let r=n,o=!0,i=null;const{payload:s}=Cu(t.access_token);if(s.exp&&(r=s.exp,o=r<=n),o){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(z(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:a}=n;if(a)throw a;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new pn;const{session:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(z(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ut())throw new Ss("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ss(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ss("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xp("No code detected.");const{data:g,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:i,refresh_token:s,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!s||!u)throw new Ss("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=Ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const v=f-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:y,error:k}=await this._getUser(i);if(k)throw k;const p={provider_token:r,provider_refresh_token:o,access_token:i,expires_in:d,expires_at:f,refresh_token:s,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(z(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Es(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{error:i};const s=(r=o.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,t);if(a&&!(lw(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Cs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ww(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:i},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Or(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:o}=await this._useSession(async i=>{var s,a,l,u,c;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(o)throw o;return ut()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(z(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)throw s;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Sw(async o=>(o>0&&await kw(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:$t})),(o,i)=>{const s=200*Math.pow(2,o);return i&&Eu(i)&&Date.now()+s-r<Ar})}catch(r){if(this._debug(n,"error",r),z(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ut()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Es(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<_u;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${_u}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Eu(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ts;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new pn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(o,"error",i),z(i)){const s={session:null,error:i};return Eu(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Tp(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Cs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ar);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ar}ms, refresh threshold is ${xu} ticks`),o<=xu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ap)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,s]=await Or(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);o.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=l==null?void 0:l.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{data:null,error:i};const{data:s,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(z(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],o=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:o,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:i}=t;if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Cu(o.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r||(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+sw>Date.now()))return r;const{data:o,error:i}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!o.keys||o.keys.length===0)throw new Fo("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(s=>s.kid===t),!r)throw new Fo("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};r=h.session.access_token}const{header:o,payload:i,signature:s,raw:{header:a,payload:l}}=Cu(r);if(jw(i.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:o,signature:s},error:null}}const u=Aw(o.alg),c=await this.fetchJwk(o.kid,n),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,s,mw(`${a}.${l}`)))throw new Fo("Invalid JWT signature");return{data:{claims:i,header:o,signature:s},error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}}Wo.nextInstanceID=0;const Kw=Wo;class Qw extends Kw{constructor(t){super(t)}}var Jw=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Yw{constructor(t,n,r){var o,i,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=ew(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:q0,realtime:K0,auth:Object.assign(Object.assign({},G0),{storageKey:u}),global:H0},d=tw(r??{},c);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=X0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new v0(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Gy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new W0(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Jw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qw({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new j0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xw=((e,t,n)=>new Yw(e,t,n))("https://fhsjhoygllcchfinalih.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZoc2pob3lnbGxjY2hmaW5hbGloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4MzcsImV4cCI6MjA2MzU5NzgzN30.2TEzTNMYMcVuBoC9t1zdkjZ66FosDzO-byE6WylI9Gg"),Zw=({onTranscription:e,isVoiceEnabled:t,autoPlayResponses:n})=>{const[r,o]=w.useState(!1),[i,s]=w.useState(!1),[a,l]=w.useState(0),[u,c]=w.useState(!1),[d,f]=w.useState(!1),[h,v]=w.useState("bark"),y=w.useRef(null),k=w.useRef([]),p=w.useRef(null),g=w.useRef(null),m=w.useRef(null),_=w.useRef(null);if(!t)return{isRecording:!1,isProcessing:!1,recordingTimer:0,isSpeaking:!1,voicePermissionDenied:!1,selectedVoice:"bark",startRecording:()=>{},stopRecording:()=>{},speakText:()=>{},stopSpeaking:()=>{},setSelectedVoice:()=>{}};w.useEffect(()=>{if(typeof window<"u"&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)){const N=window.webkitSpeechRecognition||window.SpeechRecognition;p.current=new N,p.current.continuous=!1,p.current.interimResults=!0,p.current.lang="en-US",p.current.onresult=I=>{const Q=Array.from(I.results).map(W=>W[0]).map(W=>W.transcript).join("");I.results[I.results.length-1].isFinal&&(e(Q),R())},p.current.onerror=I=>{console.error("Speech recognition error:",I.error),I.error==="not-allowed"&&f(!0),R()},p.current.onend=()=>{s(!1)}}},[e]);const x=w.useCallback(()=>{l(0),g.current=setInterval(()=>{l(N=>N>=14?(R(),0):N+1)},1e3)},[]),b=w.useCallback(()=>{g.current&&(clearInterval(g.current),g.current=null),l(0)},[]),E=w.useCallback(async()=>{if(!(!t||d))try{const N=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});m.current=N,f(!1),o(!0),k.current=[],x(),p.current?(s(!0),p.current.start()):(y.current=new MediaRecorder(N,{mimeType:"audio/webm;codecs=opus"}),y.current.ondataavailable=I=>{I.data.size>0&&k.current.push(I.data)},y.current.onstop=async()=>{s(!0);const I=new Blob(k.current,{type:"audio/webm"});await $(I)},y.current.start())}catch(N){console.error("Error accessing microphone:",N),f(!0),o(!1)}},[t,d,x]),R=w.useCallback(()=>{if(t){if(o(!1),b(),p.current)try{p.current.stop()}catch{console.log("Speech recognition already stopped")}y.current&&y.current.state==="recording"&&y.current.stop(),m.current&&(m.current.getTracks().forEach(N=>N.stop()),m.current=null)}},[b]),$=async N=>{try{const I=await N.arrayBuffer(),Q=btoa(String.fromCharCode(...new Uint8Array(I)));console.log("Would transcribe audio with Whisper API"),s(!1)}catch(I){console.error("Error transcribing audio:",I),s(!1)}},A=w.useCallback(async N=>{if(!(!t||!n||!N.trim())){M(),c(!0);try{console.log("Generating TTS with Together AI...");const{data:I,error:Q}=await Xw.functions.invoke("together-tts",{body:{text:N.trim(),voice:h}});if(Q){console.error("TTS error:",Q),U(N);return}if(I!=null&&I.audioContent){const W=Uint8Array.from(atob(I.audioContent),L=>L.charCodeAt(0)),G=new Blob([W],{type:"audio/wav"}),T=URL.createObjectURL(G),j=new Audio(T);_.current=j,j.onloadeddata=()=>{console.log("Audio loaded, playing..."),j.play().catch(L=>{console.error("Error playing audio:",L),c(!1)})},j.onended=()=>{c(!1),URL.revokeObjectURL(T),_.current=null},j.onerror=()=>{console.error("Audio playback error"),c(!1),URL.revokeObjectURL(T),_.current=null,U(N)}}else throw new Error("No audio content received")}catch(I){console.error("Error with Together AI TTS:",I),U(N)}}},[t,n,h]),U=w.useCallback(N=>{if(!t||typeof window>"u"||!window.speechSynthesis){c(!1);return}console.log("Using browser TTS fallback"),window.speechSynthesis.cancel();const I=new SpeechSynthesisUtterance(N);I.rate=.9,I.pitch=1,I.volume=.8;const W=window.speechSynthesis.getVoices().find(G=>G.name.includes("Natural")||G.name.includes("Enhanced")||G.name.includes("Premium"));W&&(I.voice=W),I.onstart=()=>c(!0),I.onend=()=>c(!1),I.onerror=()=>c(!1),window.speechSynthesis.speak(I)},[t]),M=w.useCallback(()=>{_.current&&(_.current.pause(),_.current=null),typeof window<"u"&&window.speechSynthesis&&window.speechSynthesis.cancel(),c(!1)},[t]);return w.useEffect(()=>()=>{b(),m.current&&m.current.getTracks().forEach(N=>N.stop()),M()},[b,M]),{isRecording:r,isProcessing:i,recordingTimer:a,isSpeaking:u,voicePermissionDenied:d,selectedVoice:h,startRecording:E,stopRecording:R,speakText:A,stopSpeaking:M,setSelectedVoice:v}},e1=({isRecording:e,isProcessing:t,recordingTimer:n,isSpeaking:r,voicePermissionDenied:o,isVoiceEnabled:i,onStartRecording:s,onStopRecording:a,onToggleVoice:l,onStopSpeaking:u,primaryColor:c})=>S.jsxs("div",{className:"voice-controls",style:{display:"flex",alignItems:"center",gap:"8px"},children:[S.jsx("button",{onClick:l,className:"chatbot-widget-button",style:{color:i?c:"#9ca3af",padding:"6px"},title:i?"Voice enabled":"Voice disabled",children:i?S.jsx(qh,{size:16}):S.jsx(Gh,{size:16})}),i&&!o&&S.jsxs(S.Fragment,{children:[!e&&!t&&!r&&S.jsx("button",{onClick:s,className:"chatbot-widget-voice-button",style:{backgroundColor:c,color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},onMouseEnter:d=>{d.currentTarget.style.transform="scale(1.05)"},onMouseLeave:d=>{d.currentTarget.style.transform="scale(1)"},title:"Click to start voice recording",children:S.jsx(Hh,{size:18})}),(e||t)&&S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[S.jsx("button",{onClick:a,className:"chatbot-widget-voice-button",style:{backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",animation:e?"chatbot-pulse 1.5s infinite":"none"},title:"Click to stop recording",children:t?S.jsx(Fy,{size:14}):S.jsx(Vh,{size:18})}),e&&S.jsxs("div",{style:{fontSize:"12px",color:"#ef4444",fontWeight:"600",minWidth:"30px"},children:[Math.max(0,15-n),"s"]}),t&&S.jsx("div",{style:{fontSize:"12px",color:c,fontWeight:"500"},children:"Processing..."})]}),r&&S.jsx("button",{onClick:u,className:"chatbot-widget-voice-button",style:{backgroundColor:c,color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",animation:"chatbot-pulse 2s infinite"},title:"Click to stop speaking",children:S.jsx(Gh,{size:18})})]}),o&&S.jsx("div",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"500",maxWidth:"120px",lineHeight:"1.2"},children:"Mic access denied"})]});function Dt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function t1(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ip(...e){return t=>e.forEach(n=>t1(n,t))}function Wn(...e){return w.useCallback(Ip(...e),e)}function n1(e,t=[]){let n=[];function r(i,s){const a=w.createContext(s),l=n.length;n=[...n,s];const u=d=>{var p;const{scope:f,children:h,...v}=d,y=((p=f==null?void 0:f[e])==null?void 0:p[l])||a,k=w.useMemo(()=>v,Object.values(v));return S.jsx(y.Provider,{value:k,children:h})};u.displayName=i+"Provider";function c(d,f){var y;const h=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,v=w.useContext(h);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,c]}const o=()=>{const i=n.map(s=>w.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,r1(o,...t)]}function r1(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Lp=w.forwardRef((e,t)=>{const{children:n,...r}=e,o=w.Children.toArray(n),i=o.find(o1);if(i){const s=i.props.children,a=o.map(l=>l===i?w.Children.count(s)>1?w.Children.only(null):w.isValidElement(s)?s.props.children:null:l);return S.jsx(Pu,{...r,ref:t,children:w.isValidElement(s)?w.cloneElement(s,void 0,a):null})}return S.jsx(Pu,{...r,ref:t,children:n})});Lp.displayName="Slot";var Pu=w.forwardRef((e,t)=>{const{children:n,...r}=e;if(w.isValidElement(n)){const o=s1(n);return w.cloneElement(n,{...i1(r,n.props),ref:t?Ip(t,o):o})}return w.Children.count(n)>1?w.Children.only(null):null});Pu.displayName="SlotClone";var Mp=({children:e})=>S.jsx(S.Fragment,{children:e});function o1(e){return w.isValidElement(e)&&e.type===Mp}function i1(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function s1(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var a1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Vn=a1.reduce((e,t)=>{const n=w.forwardRef((r,o)=>{const{asChild:i,...s}=r,a=i?Lp:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(a,{...s,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function l1(e,t){e&&au.flushSync(()=>e.dispatchEvent(t))}function Mr(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function u1(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var c1="DismissableLayer",Ru="dismissableLayer.update",d1="dismissableLayer.pointerDownOutside",f1="dismissableLayer.focusOutside",Np,$p=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dp=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=e,u=w.useContext($p),[c,d]=w.useState(null),f=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=w.useState({}),v=Wn(t,E=>d(E)),y=Array.from(u.layers),[k]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(k),g=c?y.indexOf(c):-1,m=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=p,x=g1(E=>{const R=E.target,$=[...u.branches].some(A=>A.contains(R));!_||$||(o==null||o(E),s==null||s(E),E.defaultPrevented||a==null||a())},f),b=m1(E=>{const R=E.target;[...u.branches].some(A=>A.contains(R))||(i==null||i(E),s==null||s(E),E.defaultPrevented||a==null||a())},f);return u1(E=>{g===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),w.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Np=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),zp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Np)}},[c,f,n,u]),w.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),zp())},[c,u]),w.useEffect(()=>{const E=()=>h({});return document.addEventListener(Ru,E),()=>document.removeEventListener(Ru,E)},[]),S.jsx(Vn.div,{...l,ref:v,style:{pointerEvents:m?_?"auto":"none":void 0,...e.style},onFocusCapture:Dt(e.onFocusCapture,b.onFocusCapture),onBlurCapture:Dt(e.onBlurCapture,b.onBlurCapture),onPointerDownCapture:Dt(e.onPointerDownCapture,x.onPointerDownCapture)})});Dp.displayName=c1;var h1="DismissableLayerBranch",p1=w.forwardRef((e,t)=>{const n=w.useContext($p),r=w.useRef(null),o=Wn(t,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),S.jsx(Vn.div,{...e,ref:o})});p1.displayName=h1;function g1(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Up(d1,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function m1(e,t=globalThis==null?void 0:globalThis.document){const n=Mr(e),r=w.useRef(!1);return w.useEffect(()=>{const o=i=>{i.target&&!r.current&&Up(f1,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zp(){const e=new CustomEvent(Ru);document.dispatchEvent(e)}function Up(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?l1(o,i):o.dispatchEvent(i)}var Nr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},v1=ym.useId||(()=>{}),y1=0;function w1(e){const[t,n]=w.useState(v1());return Nr(()=>{n(r=>r??String(y1++))},[e]),t?`radix-${t}`:""}const x1=["top","right","bottom","left"],mn=Math.min,He=Math.max,Ps=Math.round,Rs=Math.floor,vn=e=>({x:e,y:e}),_1={left:"right",right:"left",bottom:"top",top:"bottom"},k1={start:"end",end:"start"};function ju(e,t,n){return He(e,mn(t,n))}function zt(e,t){return typeof e=="function"?e(t):e}function Ut(e){return e.split("-")[0]}function $r(e){return e.split("-")[1]}function Au(e){return e==="x"?"y":"x"}function Ou(e){return e==="y"?"height":"width"}function yn(e){return["top","bottom"].includes(Ut(e))?"y":"x"}function Iu(e){return Au(yn(e))}function S1(e,t,n){n===void 0&&(n=!1);const r=$r(e),o=Iu(e),i=Ou(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=js(s)),[s,js(s)]}function b1(e){const t=js(e);return[Lu(e),t,Lu(t)]}function Lu(e){return e.replace(/start|end/g,t=>k1[t])}function E1(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function C1(e,t,n,r){const o=$r(e);let i=E1(Ut(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Lu)))),i}function js(e){return e.replace(/left|right|bottom|top/g,t=>_1[t])}function T1(e){return{top:0,right:0,bottom:0,left:0,...e}}function Fp(e){return typeof e!="number"?T1(e):{top:e,right:e,bottom:e,left:e}}function As(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Bp(e,t,n){let{reference:r,floating:o}=e;const i=yn(t),s=Iu(t),a=Ou(s),l=Ut(t),u=i==="y",c=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-o.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-o.width,y:d};break;default:h={x:r.x,y:r.y}}switch($r(t)){case"start":h[s]-=f*(n&&u?-1:1);break;case"end":h[s]+=f*(n&&u?-1:1);break}return h}const P1=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:d}=Bp(u,r,l),f=r,h={},v=0;for(let y=0;y<a.length;y++){const{name:k,fn:p}=a[y],{x:g,y:m,data:_,reset:x}=await p({x:c,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=g??c,d=m??d,h={...h,[k]:{...h[k],..._}},x&&v<=50&&(v++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(u=x.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):x.rects),{x:c,y:d}=Bp(u,f,l)),y=-1)}return{x:c,y:d,placement:f,strategy:o,middlewareData:h}};async function Vo(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=zt(t,e),v=Fp(h),k=a[f?d==="floating"?"reference":"floating":d],p=As(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(k)))==null||n?k:k.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),g=d==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,m=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(m))?await(i.getScale==null?void 0:i.getScale(m))||{x:1,y:1}:{x:1,y:1},x=As(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:m,strategy:l}):g);return{top:(p.top-x.top+v.top)/_.y,bottom:(x.bottom-p.bottom+v.bottom)/_.y,left:(p.left-x.left+v.left)/_.x,right:(x.right-p.right+v.right)/_.x}}const R1=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=zt(e,t)||{};if(u==null)return{};const d=Fp(c),f={x:n,y:r},h=Iu(o),v=Ou(h),y=await s.getDimensions(u),k=h==="y",p=k?"top":"left",g=k?"bottom":"right",m=k?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[h]-f[h]-i.floating[v],x=f[h]-i.reference[h],b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=b?b[m]:0;(!E||!await(s.isElement==null?void 0:s.isElement(b)))&&(E=a.floating[m]||i.floating[v]);const R=_/2-x/2,$=E/2-y[v]/2-1,A=mn(d[p],$),U=mn(d[g],$),M=A,N=E-y[v]-U,I=E/2-y[v]/2+R,Q=ju(M,I,N),W=!l.arrow&&$r(o)!=null&&I!==Q&&i.reference[v]/2-(I<M?A:U)-y[v]/2<0,G=W?I<M?I-M:I-N:0;return{[h]:f[h]+G,data:{[h]:Q,centerOffset:I-Q-G,...W&&{alignmentOffset:G}},reset:W}}}),j1=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...k}=zt(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const p=Ut(o),g=yn(a),m=Ut(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),x=f||(m||!y?[js(a)]:b1(a)),b=v!=="none";!f&&b&&x.push(...C1(a,y,v,_));const E=[a,...x],R=await Vo(t,k),$=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&$.push(R[p]),d){const I=S1(o,s,_);$.push(R[I[0]],R[I[1]])}if(A=[...A,{placement:o,overflows:$}],!$.every(I=>I<=0)){var U,M;const I=(((U=i.flip)==null?void 0:U.index)||0)+1,Q=E[I];if(Q)return{data:{index:I,overflows:A},reset:{placement:Q}};let W=(M=A.filter(G=>G.overflows[0]<=0).sort((G,T)=>G.overflows[1]-T.overflows[1])[0])==null?void 0:M.placement;if(!W)switch(h){case"bestFit":{var N;const G=(N=A.filter(T=>{if(b){const j=yn(T.placement);return j===g||j==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(j=>j>0).reduce((j,L)=>j+L,0)]).sort((T,j)=>T[1]-j[1])[0])==null?void 0:N[0];G&&(W=G);break}case"initialPlacement":W=a;break}if(o!==W)return{reset:{placement:W}}}return{}}}};function Wp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vp(e){return x1.some(t=>e[t]>=0)}const A1=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=zt(e,t);switch(r){case"referenceHidden":{const i=await Vo(t,{...o,elementContext:"reference"}),s=Wp(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Vp(s)}}}case"escaped":{const i=await Vo(t,{...o,altBoundary:!0}),s=Wp(i,n.floating);return{data:{escapedOffsets:s,escaped:Vp(s)}}}default:return{}}}}};async function O1(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Ut(n),a=$r(n),l=yn(n)==="y",u=["left","top"].includes(s)?-1:1,c=i&&l?-1:1,d=zt(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(h=a==="end"?v*-1:v),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const I1=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await O1(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},L1=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:k=>{let{x:p,y:g}=k;return{x:p,y:g}}},...l}=zt(e,t),u={x:n,y:r},c=await Vo(t,l),d=yn(Ut(o)),f=Au(d);let h=u[f],v=u[d];if(i){const k=f==="y"?"top":"left",p=f==="y"?"bottom":"right",g=h+c[k],m=h-c[p];h=ju(g,h,m)}if(s){const k=d==="y"?"top":"left",p=d==="y"?"bottom":"right",g=v+c[k],m=v-c[p];v=ju(g,v,m)}const y=a.fn({...t,[f]:h,[d]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[d]:s}}}}}},M1=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=zt(e,t),c={x:n,y:r},d=yn(o),f=Au(d);let h=c[f],v=c[d];const y=zt(a,t),k=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const m=f==="y"?"height":"width",_=i.reference[f]-i.floating[m]+k.mainAxis,x=i.reference[f]+i.reference[m]-k.mainAxis;h<_?h=_:h>x&&(h=x)}if(u){var p,g;const m=f==="y"?"width":"height",_=["top","left"].includes(Ut(o)),x=i.reference[d]-i.floating[m]+(_&&((p=s.offset)==null?void 0:p[d])||0)+(_?0:k.crossAxis),b=i.reference[d]+i.reference[m]+(_?0:((g=s.offset)==null?void 0:g[d])||0)-(_?k.crossAxis:0);v<x?v=x:v>b&&(v=b)}return{[f]:h,[d]:v}}}},N1=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:l=()=>{},...u}=zt(e,t),c=await Vo(t,u),d=Ut(o),f=$r(o),h=yn(o)==="y",{width:v,height:y}=i.floating;let k,p;d==="top"||d==="bottom"?(k=d,p=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(p=d,k=f==="end"?"top":"bottom");const g=y-c.top-c.bottom,m=v-c.left-c.right,_=mn(y-c[k],g),x=mn(v-c[p],m),b=!t.middlewareData.shift;let E=_,R=x;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=m),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=g),b&&!f){const A=He(c.left,0),U=He(c.right,0),M=He(c.top,0),N=He(c.bottom,0);h?R=v-2*(A!==0||U!==0?A+U:He(c.left,c.right)):E=y-2*(M!==0||N!==0?M+N:He(c.top,c.bottom))}await l({...t,availableWidth:R,availableHeight:E});const $=await s.getDimensions(a.floating);return v!==$.width||y!==$.height?{reset:{rects:!0}}:{}}}};function Os(){return typeof window<"u"}function Dr(e){return Hp(e)?(e.nodeName||"").toLowerCase():"#document"}function qe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _t(e){var t;return(t=(Hp(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Hp(e){return Os()?e instanceof Node||e instanceof qe(e).Node:!1}function ct(e){return Os()?e instanceof Element||e instanceof qe(e).Element:!1}function kt(e){return Os()?e instanceof HTMLElement||e instanceof qe(e).HTMLElement:!1}function qp(e){return!Os()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qe(e).ShadowRoot}function Ho(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=dt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function $1(e){return["table","td","th"].includes(Dr(e))}function Is(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Mu(e){const t=Nu(),n=ct(e)?dt(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function D1(e){let t=wn(e);for(;kt(t)&&!zr(t);){if(Mu(t))return t;if(Is(t))return null;t=wn(t)}return null}function Nu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zr(e){return["html","body","#document"].includes(Dr(e))}function dt(e){return qe(e).getComputedStyle(e)}function Ls(e){return ct(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wn(e){if(Dr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||qp(e)&&e.host||_t(e);return qp(t)?t.host:t}function Gp(e){const t=wn(e);return zr(t)?e.ownerDocument?e.ownerDocument.body:e.body:kt(t)&&Ho(t)?t:Gp(t)}function qo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Gp(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=qe(o);if(i){const a=$u(s);return t.concat(s,s.visualViewport||[],Ho(o)?o:[],a&&n?qo(a):[])}return t.concat(o,qo(o,[],n))}function $u(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Kp(e){const t=dt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=kt(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=Ps(n)!==i||Ps(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function Du(e){return ct(e)?e:e.contextElement}function Ur(e){const t=Du(e);if(!kt(t))return vn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Kp(t);let s=(i?Ps(n.width):n.width)/r,a=(i?Ps(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const z1=vn(0);function Qp(e){const t=qe(e);return!Nu()||!t.visualViewport?z1:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function U1(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==qe(e)?!1:t}function Hn(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Du(e);let s=vn(1);t&&(r?ct(r)&&(s=Ur(r)):s=Ur(e));const a=U1(i,n,r)?Qp(i):vn(0);let l=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,c=o.width/s.x,d=o.height/s.y;if(i){const f=qe(i),h=r&&ct(r)?qe(r):r;let v=f,y=$u(v);for(;y&&r&&h!==v;){const k=Ur(y),p=y.getBoundingClientRect(),g=dt(y),m=p.left+(y.clientLeft+parseFloat(g.paddingLeft))*k.x,_=p.top+(y.clientTop+parseFloat(g.paddingTop))*k.y;l*=k.x,u*=k.y,c*=k.x,d*=k.y,l+=m,u+=_,v=qe(y),y=$u(v)}}return As({width:c,height:d,x:l,y:u})}function F1(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=_t(r),a=t?Is(t.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=vn(1);const c=vn(0),d=kt(r);if((d||!d&&!i)&&((Dr(r)!=="body"||Ho(s))&&(l=Ls(r)),kt(r))){const f=Hn(r);u=Ur(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function B1(e){return Array.from(e.getClientRects())}function zu(e,t){const n=Ls(e).scrollLeft;return t?t.left+n:Hn(_t(e)).left+n}function W1(e){const t=_t(e),n=Ls(e),r=e.ownerDocument.body,o=He(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=He(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+zu(e);const a=-n.scrollTop;return dt(r).direction==="rtl"&&(s+=He(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function V1(e,t){const n=qe(e),r=_t(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const u=Nu();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function H1(e,t){const n=Hn(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=kt(e)?Ur(e):vn(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:s,height:a,x:l,y:u}}function Jp(e,t,n){let r;if(t==="viewport")r=V1(e,n);else if(t==="document")r=W1(_t(e));else if(ct(t))r=H1(t,n);else{const o=Qp(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return As(r)}function Yp(e,t){const n=wn(e);return n===t||!ct(n)||zr(n)?!1:dt(n).position==="fixed"||Yp(n,t)}function q1(e,t){const n=t.get(e);if(n)return n;let r=qo(e,[],!1).filter(a=>ct(a)&&Dr(a)!=="body"),o=null;const i=dt(e).position==="fixed";let s=i?wn(e):e;for(;ct(s)&&!zr(s);){const a=dt(s),l=Mu(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ho(s)&&!l&&Yp(e,s))?r=r.filter(c=>c!==s):o=a,s=wn(s)}return t.set(e,r),r}function G1(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Is(t)?[]:q1(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const d=Jp(t,c,o);return u.top=He(d.top,u.top),u.right=mn(d.right,u.right),u.bottom=mn(d.bottom,u.bottom),u.left=He(d.left,u.left),u},Jp(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function K1(e){const{width:t,height:n}=Kp(e);return{width:t,height:n}}function Q1(e,t,n){const r=kt(t),o=_t(t),i=n==="fixed",s=Hn(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=vn(0);if(r||!r&&!i)if((Dr(t)!=="body"||Ho(o))&&(a=Ls(t)),r){const h=Hn(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=zu(o));let u=0,c=0;if(o&&!r&&!i){const h=o.getBoundingClientRect();c=h.top+a.scrollTop,u=h.left+a.scrollLeft-zu(o,h)}const d=s.left+a.scrollLeft-l.x-u,f=s.top+a.scrollTop-l.y-c;return{x:d,y:f,width:s.width,height:s.height}}function Uu(e){return dt(e).position==="static"}function Xp(e,t){if(!kt(e)||dt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _t(e)===n&&(n=n.ownerDocument.body),n}function Zp(e,t){const n=qe(e);if(Is(e))return n;if(!kt(e)){let o=wn(e);for(;o&&!zr(o);){if(ct(o)&&!Uu(o))return o;o=wn(o)}return n}let r=Xp(e,t);for(;r&&$1(r)&&Uu(r);)r=Xp(r,t);return r&&zr(r)&&Uu(r)&&!Mu(r)?n:r||D1(e)||n}const J1=async function(e){const t=this.getOffsetParent||Zp,n=this.getDimensions,r=await n(e.floating);return{reference:Q1(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Y1(e){return dt(e).direction==="rtl"}const X1={convertOffsetParentRelativeRectToViewportRelativeRect:F1,getDocumentElement:_t,getClippingRect:G1,getOffsetParent:Zp,getElementRects:J1,getClientRects:B1,getDimensions:K1,getScale:Ur,isElement:ct,isRTL:Y1};function Z1(e,t){let n=null,r;const o=_t(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=Rs(c),v=Rs(o.clientWidth-(u+d)),y=Rs(o.clientHeight-(c+f)),k=Rs(u),g={rootMargin:-h+"px "+-v+"px "+-y+"px "+-k+"px",threshold:He(0,mn(1,l))||1};let m=!0;function _(x){const b=x[0].intersectionRatio;if(b!==l){if(!m)return s();b?s(!1,b):r=setTimeout(()=>{s(!1,1e-7)},1e3)}m=!1}try{n=new IntersectionObserver(_,{...g,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,g)}n.observe(e)}return s(!0),i}function ex(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Du(e),c=o||i?[...u?qo(u):[],...qo(t)]:[];c.forEach(p=>{o&&p.addEventListener("scroll",n,{passive:!0}),i&&p.addEventListener("resize",n)});const d=u&&a?Z1(u,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(p=>{let[g]=p;g&&g.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var m;(m=h)==null||m.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let v,y=l?Hn(e):null;l&&k();function k(){const p=Hn(e);y&&(p.x!==y.x||p.y!==y.y||p.width!==y.width||p.height!==y.height)&&n(),y=p,v=requestAnimationFrame(k)}return n(),()=>{var p;c.forEach(g=>{o&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),d==null||d(),(p=h)==null||p.disconnect(),h=null,l&&cancelAnimationFrame(v)}}const tx=I1,nx=L1,rx=j1,ox=N1,ix=A1,eg=R1,sx=M1,ax=(e,t,n)=>{const r=new Map,o={platform:X1,...n},i={...o.platform,_c:r};return P1(e,t,{...o,platform:i})};var Ms=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Ns(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ns(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ns(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function tg(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ng(e,t){const n=tg(e);return Math.round(t*n)/n}function Fu(e){const t=w.useRef(e);return Ms(()=>{t.current=e}),t}function lx(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=w.useState(r);Ns(f,r)||h(r);const[v,y]=w.useState(null),[k,p]=w.useState(null),g=w.useCallback(T=>{T!==b.current&&(b.current=T,y(T))},[]),m=w.useCallback(T=>{T!==E.current&&(E.current=T,p(T))},[]),_=i||v,x=s||k,b=w.useRef(null),E=w.useRef(null),R=w.useRef(c),$=l!=null,A=Fu(l),U=Fu(o),M=Fu(u),N=w.useCallback(()=>{if(!b.current||!E.current)return;const T={placement:t,strategy:n,middleware:f};U.current&&(T.platform=U.current),ax(b.current,E.current,T).then(j=>{const L={...j,isPositioned:M.current!==!1};I.current&&!Ns(R.current,L)&&(R.current=L,au.flushSync(()=>{d(L)}))})},[f,t,n,U,M]);Ms(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[u]);const I=w.useRef(!1);Ms(()=>(I.current=!0,()=>{I.current=!1}),[]),Ms(()=>{if(_&&(b.current=_),x&&(E.current=x),_&&x){if(A.current)return A.current(_,x,N);N()}},[_,x,N,A,$]);const Q=w.useMemo(()=>({reference:b,floating:E,setReference:g,setFloating:m}),[g,m]),W=w.useMemo(()=>({reference:_,floating:x}),[_,x]),G=w.useMemo(()=>{const T={position:n,left:0,top:0};if(!W.floating)return T;const j=ng(W.floating,c.x),L=ng(W.floating,c.y);return a?{...T,transform:"translate("+j+"px, "+L+"px)",...tg(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:L}},[n,a,W.floating,c.x,c.y]);return w.useMemo(()=>({...c,update:N,refs:Q,elements:W,floatingStyles:G}),[c,N,Q,W,G])}const ux=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?eg({element:r.current,padding:o}).fn(n):{}:r?eg({element:r,padding:o}).fn(n):{}}}},cx=(e,t)=>({...tx(e),options:[e,t]}),dx=(e,t)=>({...nx(e),options:[e,t]}),fx=(e,t)=>({...sx(e),options:[e,t]}),hx=(e,t)=>({...rx(e),options:[e,t]}),px=(e,t)=>({...ox(e),options:[e,t]}),gx=(e,t)=>({...ix(e),options:[e,t]}),mx=(e,t)=>({...ux(e),options:[e,t]});var vx="Arrow",rg=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return S.jsx(Vn.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});rg.displayName=vx;var yx=rg;function wx(e,t=[]){let n=[];function r(i,s){const a=w.createContext(s),l=n.length;n=[...n,s];function u(d){const{scope:f,children:h,...v}=d,y=(f==null?void 0:f[e][l])||a,k=w.useMemo(()=>v,Object.values(v));return S.jsx(y.Provider,{value:k,children:h})}function c(d,f){const h=(f==null?void 0:f[e][l])||a,v=w.useContext(h);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,c]}const o=()=>{const i=n.map(s=>w.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,xx(o,...t)]}function xx(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function _x(e){const[t,n]=w.useState(void 0);return Nr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,a=u.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Bu="Popper",[og,ig]=wx(Bu),[kx,sg]=og(Bu),ag=e=>{const{__scopePopper:t,children:n}=e,[r,o]=w.useState(null);return S.jsx(kx,{scope:t,anchor:r,onAnchorChange:o,children:n})};ag.displayName=Bu;var lg="PopperAnchor",ug=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=sg(lg,n),s=w.useRef(null),a=Wn(t,s);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:S.jsx(Vn.div,{...o,ref:a})});ug.displayName=lg;var Wu="PopperContent",[Sx,bx]=og(Wu),cg=w.forwardRef((e,t)=>{var Bt,Vr,Ws,kn,Sn,Vs;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:v,...y}=e,k=sg(Wu,n),[p,g]=w.useState(null),m=Wn(t,bn=>g(bn)),[_,x]=w.useState(null),b=_x(_),E=(b==null?void 0:b.width)??0,R=(b==null?void 0:b.height)??0,$=r+(i!=="center"?"-"+i:""),A=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},U=Array.isArray(u)?u:[u],M=U.length>0,N={padding:A,boundary:U.filter(Cx),altBoundary:M},{refs:I,floatingStyles:Q,placement:W,isPositioned:G,middlewareData:T}=lx({strategy:"fixed",placement:$,whileElementsMounted:(...bn)=>ex(...bn,{animationFrame:h==="always"}),elements:{reference:k.anchor},middleware:[cx({mainAxis:o+R,alignmentAxis:s}),l&&dx({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?fx():void 0,...N}),l&&hx({...N}),px({...N,apply:({elements:bn,rects:Hs,availableWidth:oc,availableHeight:ic})=>{const{width:sc,height:ac}=Hs.reference,St=bn.floating.style;St.setProperty("--radix-popper-available-width",`${oc}px`),St.setProperty("--radix-popper-available-height",`${ic}px`),St.setProperty("--radix-popper-anchor-width",`${sc}px`),St.setProperty("--radix-popper-anchor-height",`${ac}px`)}}),_&&mx({element:_,padding:a}),Tx({arrowWidth:E,arrowHeight:R}),f&&gx({strategy:"referenceHidden",...N})]}),[j,L]=hg(W),F=Mr(v);Nr(()=>{G&&(F==null||F())},[G,F]);const se=(Bt=T.arrow)==null?void 0:Bt.x,De=(Vr=T.arrow)==null?void 0:Vr.y,ft=((Ws=T.arrow)==null?void 0:Ws.centerOffset)!==0,[ht,pt]=w.useState();return Nr(()=>{p&&pt(window.getComputedStyle(p).zIndex)},[p]),S.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:G?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ht,"--radix-popper-transform-origin":[(kn=T.transformOrigin)==null?void 0:kn.x,(Sn=T.transformOrigin)==null?void 0:Sn.y].join(" "),...((Vs=T.hide)==null?void 0:Vs.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:S.jsx(Sx,{scope:n,placedSide:j,onArrowChange:x,arrowX:se,arrowY:De,shouldHideArrow:ft,children:S.jsx(Vn.div,{"data-side":j,"data-align":L,...y,ref:m,style:{...y.style,animation:G?void 0:"none"}})})})});cg.displayName=Wu;var dg="PopperArrow",Ex={top:"bottom",right:"left",bottom:"top",left:"right"},fg=w.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=bx(dg,r),s=Ex[i.placedSide];return S.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:S.jsx(yx,{...o,ref:n,style:{...o.style,display:"block"}})})});fg.displayName=dg;function Cx(e){return e!==null}var Tx=e=>({name:"transformOrigin",options:e,fn(t){var k,p,g;const{placement:n,rects:r,middlewareData:o}=t,s=((k=o.arrow)==null?void 0:k.centerOffset)!==0,a=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,c]=hg(n),d={start:"0%",center:"50%",end:"100%"}[c],f=(((p=o.arrow)==null?void 0:p.x)??0)+a/2,h=(((g=o.arrow)==null?void 0:g.y)??0)+l/2;let v="",y="";return u==="bottom"?(v=s?d:`${f}px`,y=`${-l}px`):u==="top"?(v=s?d:`${f}px`,y=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,y=s?d:`${h}px`):u==="left"&&(v=`${r.floating.width+l}px`,y=s?d:`${h}px`),{data:{x:v,y}}}});function hg(e){const[t,n="center"]=e.split("-");return[t,n]}var Px=ag,Rx=ug,jx=cg,Ax=fg;function Ox(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var pg=e=>{const{present:t,children:n}=e,r=Ix(t),o=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=Wn(r.ref,Lx(o));return typeof n=="function"||r.isPresent?w.cloneElement(o,{ref:i}):null};pg.displayName="Presence";function Ix(e){const[t,n]=w.useState(),r=w.useRef({}),o=w.useRef(e),i=w.useRef("none"),s=e?"mounted":"unmounted",[a,l]=Ox(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=$s(r.current);i.current=a==="mounted"?u:"none"},[a]),Nr(()=>{const u=r.current,c=o.current;if(c!==e){const f=i.current,h=$s(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&f!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Nr(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,d=h=>{const y=$s(r.current).includes(h.animationName);if(h.target===t&&y&&(l("ANIMATION_END"),!o.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},f=h=>{h.target===t&&(i.current=$s(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function $s(e){return(e==null?void 0:e.animationName)||"none"}function Lx(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Mx({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=Nx({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,a=Mr(n),l=w.useCallback(u=>{if(i){const d=typeof u=="function"?u(e):u;d!==e&&a(d)}else o(u)},[i,e,o,a]);return[s,l]}function Nx({defaultProp:e,onChange:t}){const n=w.useState(e),[r]=n,o=w.useRef(r),i=Mr(t);return w.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}var $x="VisuallyHidden",gg=w.forwardRef((e,t)=>S.jsx(Vn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));gg.displayName=$x;var Dx=gg,[Ds,Ak]=n1("Tooltip",[ig]),zs=ig(),mg="TooltipProvider",zx=700,Vu="tooltip.open",[Ux,Hu]=Ds(mg),vg=e=>{const{__scopeTooltip:t,delayDuration:n=zx,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,[s,a]=w.useState(!0),l=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),S.jsx(Ux,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(c=>{l.current=c},[]),disableHoverableContent:o,children:i})};vg.displayName=mg;var Us="Tooltip",[Fx,Fs]=Ds(Us),yg=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:i,disableHoverableContent:s,delayDuration:a}=e,l=Hu(Us,e.__scopeTooltip),u=zs(t),[c,d]=w.useState(null),f=w1(),h=w.useRef(0),v=s??l.disableHoverableContent,y=a??l.delayDuration,k=w.useRef(!1),[p=!1,g]=Mx({prop:r,defaultProp:o,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(Vu))):l.onClose(),i==null||i(E)}}),m=w.useMemo(()=>p?k.current?"delayed-open":"instant-open":"closed",[p]),_=w.useCallback(()=>{window.clearTimeout(h.current),h.current=0,k.current=!1,g(!0)},[g]),x=w.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g(!1)},[g]),b=w.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{k.current=!0,g(!0),h.current=0},y)},[y,g]);return w.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),S.jsx(Px,{...u,children:S.jsx(Fx,{scope:t,contentId:f,open:p,stateAttribute:m,trigger:c,onTriggerChange:d,onTriggerEnter:w.useCallback(()=>{l.isOpenDelayed?b():_()},[l.isOpenDelayed,b,_]),onTriggerLeave:w.useCallback(()=>{v?x():(window.clearTimeout(h.current),h.current=0)},[x,v]),onOpen:_,onClose:x,disableHoverableContent:v,children:n})})};yg.displayName=Us;var qu="TooltipTrigger",wg=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Fs(qu,n),i=Hu(qu,n),s=zs(n),a=w.useRef(null),l=Wn(t,a,o.onTriggerChange),u=w.useRef(!1),c=w.useRef(!1),d=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),S.jsx(Rx,{asChild:!0,...s,children:S.jsx(Vn.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:Dt(e.onPointerMove,f=>{f.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),c.current=!0)}),onPointerLeave:Dt(e.onPointerLeave,()=>{o.onTriggerLeave(),c.current=!1}),onPointerDown:Dt(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Dt(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:Dt(e.onBlur,o.onClose),onClick:Dt(e.onClick,o.onClose)})})});wg.displayName=qu;var Bx="TooltipPortal",[Ok,Wx]=Ds(Bx,{forceMount:void 0}),Fr="TooltipContent",xg=w.forwardRef((e,t)=>{const n=Wx(Fr,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,s=Fs(Fr,e.__scopeTooltip);return S.jsx(pg,{present:r||s.open,children:s.disableHoverableContent?S.jsx(_g,{side:o,...i,ref:t}):S.jsx(Vx,{side:o,...i,ref:t})})}),Vx=w.forwardRef((e,t)=>{const n=Fs(Fr,e.__scopeTooltip),r=Hu(Fr,e.__scopeTooltip),o=w.useRef(null),i=Wn(t,o),[s,a]=w.useState(null),{trigger:l,onClose:u}=n,c=o.current,{onPointerInTransitChange:d}=r,f=w.useCallback(()=>{a(null),d(!1)},[d]),h=w.useCallback((v,y)=>{const k=v.currentTarget,p={x:v.clientX,y:v.clientY},g=Kx(p,k.getBoundingClientRect()),m=Qx(p,g),_=Jx(y.getBoundingClientRect()),x=Xx([...m,..._]);a(x),d(!0)},[d]);return w.useEffect(()=>()=>f(),[f]),w.useEffect(()=>{if(l&&c){const v=k=>h(k,c),y=k=>h(k,l);return l.addEventListener("pointerleave",v),c.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),c.removeEventListener("pointerleave",y)}}},[l,c,h,f]),w.useEffect(()=>{if(s){const v=y=>{const k=y.target,p={x:y.clientX,y:y.clientY},g=(l==null?void 0:l.contains(k))||(c==null?void 0:c.contains(k)),m=!Yx(p,s);g?f():m&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,c,s,u,f]),S.jsx(_g,{...e,ref:i})}),[Hx,qx]=Ds(Us,{isInside:!1}),_g=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:s,...a}=e,l=Fs(Fr,n),u=zs(n),{onClose:c}=l;return w.useEffect(()=>(document.addEventListener(Vu,c),()=>document.removeEventListener(Vu,c)),[c]),w.useEffect(()=>{if(l.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&c()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,c]),S.jsx(Dp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:c,children:S.jsxs(jx,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(Mp,{children:r}),S.jsx(Hx,{scope:n,isInside:!0,children:S.jsx(Dx,{id:l.contentId,role:"tooltip",children:o||r})})]})})});xg.displayName=Fr;var kg="TooltipArrow",Gx=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=zs(n);return qx(kg,n).isInside?null:S.jsx(Ax,{...o,...r,ref:t})});Gx.displayName=kg;function Kx(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Qx(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Jx(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function Yx(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i].x,l=t[i].y,u=t[s].x,c=t[s].y;l>r!=c>r&&n<(u-a)*(r-l)/(c-l)+a&&(o=!o)}return o}function Xx(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Zx(t)}function Zx(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var e_=vg,t_=yg,n_=wg,Sg=xg;function bg(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=bg(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function r_(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=bg(e))&&(r&&(r+=" "),r+=t);return r}const Gu="-",o_=e=>{const t=s_(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(Gu);return a[0]===""&&a.length!==1&&a.shift(),Eg(a,t)||i_(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},Eg=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Eg(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(Gu);return(s=t.validators.find(({validator:a})=>a(i)))==null?void 0:s.classGroupId},Cg=/^\[(.+)\]$/,i_=e=>{if(Cg.test(e)){const t=Cg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},s_=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return l_(Object.entries(e.classGroups),n).forEach(([i,s])=>{Ku(s,r,i,t)}),r},Ku=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:Tg(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(a_(o)){Ku(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{Ku(s,Tg(t,i),n,r)})})},Tg=(e,t)=>{let n=e;return t.split(Gu).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},a_=e=>e.isThemeGetter,l_=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,a])=>[t+s,a])):i);return[n,o]}):e,u_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}},Pg="!",c_=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,s=a=>{const l=[];let u=0,c=0,d;for(let k=0;k<a.length;k++){let p=a[k];if(u===0){if(p===o&&(r||a.slice(k,k+i)===t)){l.push(a.slice(c,k)),c=k+i;continue}if(p==="/"){d=k;continue}}p==="["?u++:p==="]"&&u--}const f=l.length===0?a:a.substring(c),h=f.startsWith(Pg),v=h?f.substring(1):f,y=d&&d>c?d-c:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:s}):s},d_=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},f_=e=>({cache:u_(e.cacheSize),parseClassName:c_(e),...o_(e)}),h_=/\s+/,p_=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(h_);let a="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:c,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(u);let v=!!h,y=r(v?f.substring(0,h):f);if(!y){if(!v){a=u+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=u+(a.length>0?" "+a:a);continue}v=!1}const k=d_(c).join(":"),p=d?k+Pg:k,g=p+y;if(i.includes(g))continue;i.push(g);const m=o(y,v);for(let _=0;_<m.length;++_){const x=m[_];i.push(p+x)}a=u+(a.length>0?" "+a:a)}return a};function g_(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Rg(t))&&(r&&(r+=" "),r+=n);return r}const Rg=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Rg(e[r]))&&(n&&(n+=" "),n+=t);return n};function m_(e,...t){let n,r,o,i=s;function s(l){const u=t.reduce((c,d)=>d(c),e());return n=f_(u),r=n.cache.get,o=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=p_(l,n);return o(l,c),c}return function(){return i(g_.apply(null,arguments))}}const ee=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},jg=/^\[(?:([a-z-]+):)?(.+)\]$/i,v_=/^\d+\/\d+$/,y_=new Set(["px","full","screen"]),w_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,__=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ft=e=>Br(e)||y_.has(e)||v_.test(e),xn=e=>Wr(e,"length",A_),Br=e=>!!e&&!Number.isNaN(Number(e)),Qu=e=>Wr(e,"number",Br),Go=e=>!!e&&Number.isInteger(Number(e)),b_=e=>e.endsWith("%")&&Br(e.slice(0,-1)),B=e=>jg.test(e),_n=e=>w_.test(e),E_=new Set(["length","size","percentage"]),C_=e=>Wr(e,E_,Ag),T_=e=>Wr(e,"position",Ag),P_=new Set(["image","url"]),R_=e=>Wr(e,P_,I_),j_=e=>Wr(e,"",O_),Ko=()=>!0,Wr=(e,t,n)=>{const r=jg.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},A_=e=>x_.test(e)&&!__.test(e),Ag=()=>!1,O_=e=>k_.test(e),I_=e=>S_.test(e),L_=m_(()=>{const e=ee("colors"),t=ee("spacing"),n=ee("blur"),r=ee("brightness"),o=ee("borderColor"),i=ee("borderRadius"),s=ee("borderSpacing"),a=ee("borderWidth"),l=ee("contrast"),u=ee("grayscale"),c=ee("hueRotate"),d=ee("invert"),f=ee("gap"),h=ee("gradientColorStops"),v=ee("gradientColorStopPositions"),y=ee("inset"),k=ee("margin"),p=ee("opacity"),g=ee("padding"),m=ee("saturate"),_=ee("scale"),x=ee("sepia"),b=ee("skew"),E=ee("space"),R=ee("translate"),$=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",B,t],M=()=>[B,t],N=()=>["",Ft,xn],I=()=>["auto",Br,B],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",B],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[Br,B];return{cacheSize:500,separator:":",theme:{colors:[Ko],spacing:[Ft,xn],blur:["none","",_n,B],brightness:F(),borderColor:[e],borderRadius:["none","","full",_n,B],borderSpacing:M(),borderWidth:N(),contrast:F(),grayscale:j(),hueRotate:F(),invert:j(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[b_,xn],inset:U(),margin:U(),opacity:F(),padding:M(),saturate:F(),scale:F(),sepia:j(),skew:F(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",B]}],container:["container"],columns:[{columns:[_n]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),B]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Go,B]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",B]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Go,B]}],"grid-cols":[{"grid-cols":[Ko]}],"col-start-end":[{col:["auto",{span:["full",Go,B]},B]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Ko]}],"row-start-end":[{row:["auto",{span:[Go,B]},B]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",B]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",B]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",B,t]}],"min-w":[{"min-w":[B,t,"min","max","fit"]}],"max-w":[{"max-w":[B,t,"none","full","min","max","fit","prose",{screen:[_n]},_n]}],h:[{h:[B,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[B,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[B,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[B,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_n,xn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qu]}],"font-family":[{font:[Ko]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",B]}],"line-clamp":[{"line-clamp":["none",Br,Qu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ft,B]}],"list-image":[{"list-image":["none",B]}],"list-style-type":[{list:["none","disc","decimal",B]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ft,xn]}],"underline-offset":[{"underline-offset":["auto",Ft,B]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",B]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",B]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),T_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",C_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},R_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:W()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Ft,B]}],"outline-w":[{outline:[Ft,xn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Ft,xn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_n,j_]}],"shadow-color":[{shadow:[Ko]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",_n,B]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[m]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",B]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",B]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",B]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Go,B]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",B]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",B]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",B]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ft,xn,Qu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function M_(...e){return L_(r_(e))}const Og=e_,Ig=t_,Lg=n_,Ju=w.forwardRef(({className:e,sideOffset:t=4,...n},r)=>S.jsx(Sg,{ref:r,sideOffset:t,className:M_("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Ju.displayName=Sg.displayName;const N_=({selectedVoice:e,onVoiceChange:t,autoPlayResponses:n,onAutoPlayToggle:r,primaryColor:o})=>{const[i,s]=w.useState(!1),[a,l]=w.useState(!1),u=w.useRef(null),c=w.useRef(null),d=()=>document.querySelector('[data-state="open"]')!==null||document.querySelector(".dialog-overlay")!==null||document.querySelector('[role="dialog"]')!==null,f=()=>{d()||(u.current&&clearTimeout(u.current),s(!0),u.current=setTimeout(()=>{s(!1)},15e3))},h=()=>{d()||(c.current&&clearTimeout(c.current),l(!0),c.current=setTimeout(()=>{l(!1)},15e3))},v=()=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{s(!1)},15e3)},y=()=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{l(!1)},15e3)};return w.useEffect(()=>{const k=()=>{d()&&(s(!1),l(!1),u.current&&clearTimeout(u.current),c.current&&clearTimeout(c.current))},p=new MutationObserver(k);return p.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-state","role"]}),()=>{p.disconnect(),u.current&&clearTimeout(u.current),c.current&&clearTimeout(c.current)}},[]),S.jsxs("div",{className:"flex items-center gap-2 p-2 border-t border-gray-200",children:[S.jsx(Og,{children:S.jsxs(Ig,{open:i,children:[S.jsx(Lg,{asChild:!0,children:S.jsx("button",{onClick:r,onMouseEnter:f,onMouseLeave:v,onFocus:f,onBlur:v,className:`p-1.5 rounded transition-colors ${n?"text-white":"text-gray-400 hover:text-gray-600"}`,style:{backgroundColor:n?o:"transparent"},children:S.jsx(qh,{size:14})})}),S.jsx(Ju,{children:S.jsxs("p",{children:[n?"Disable":"Enable"," auto-play responses"]})})]})}),S.jsxs("select",{value:e,onChange:k=>t(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white",children:[S.jsx("option",{value:"bark",children:"Bark (Fast & Natural)"}),S.jsx("option",{value:"tortoise",children:"Tortoise (High Quality)"})]}),S.jsx(Og,{children:S.jsxs(Ig,{open:a,children:[S.jsx(Lg,{asChild:!0,children:S.jsx("div",{onMouseEnter:h,onMouseLeave:y,onFocus:h,onBlur:y,tabIndex:0,children:S.jsx(Dy,{size:12,className:"text-gray-400"})})}),S.jsx(Ju,{children:S.jsx("p",{children:"Voice powered by Together AI"})})]})})]})};function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs.apply(null,arguments)}function $_(e){const t=new Uint8Array(e);return window.btoa(String.fromCharCode(...t))}function D_(e){const t=window.atob(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer}const Yu=new Map;function Mg(e,t){return async n=>{const r=Yu.get(e);if(r)return n.addModule(r);const o=new Blob([t],{type:"application/javascript"}),i=URL.createObjectURL(o);try{return await n.addModule(i),void Yu.set(e,i)}catch{URL.revokeObjectURL(i)}try{const s=`data:application/javascript;base64,${btoa(t)}`;await n.addModule(s),Yu.set(e,s)}catch{throw new Error(`Failed to load the ${e} worklet module. Make sure the browser supports AudioWorklets.`)}}}const z_=Mg("raw-audio-processor",`
const BIAS = 0x84;
const CLIP = 32635;
const encodeTable = [
  0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,
  4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7
];

function encodeSample(sample) {
  let sign;
  let exponent;
  let mantissa;
  let muLawSample;
  sign = (sample >> 8) & 0x80;
  if (sign !== 0) sample = -sample;
  sample = sample + BIAS;
  if (sample > CLIP) sample = CLIP;
  exponent = encodeTable[(sample>>7) & 0xFF];
  mantissa = (sample >> (exponent+3)) & 0x0F;
  muLawSample = ~(sign | (exponent << 4) | mantissa);
  
  return muLawSample;
}

class RawAudioProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
              
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.isMuted = false;
          this.buffer = []; // Initialize an empty buffer
          this.bufferSize = data.sampleRate / 4;
          this.format = data.format;

          if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {
            globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {
              this.resampler = resampler;
            });
          }
          break;
        case "setMuted":
          this.isMuted = data.isMuted;
          break;
      }
    };
  }
  process(inputs) {
    if (!this.buffer) {
      return true;
    }
    
    const input = inputs[0]; // Get the first input node
    if (input.length > 0) {
      let channelData = input[0]; // Get the first channel's data

      // Resample the audio if necessary
      if (this.resampler) {
        channelData = this.resampler.full(channelData);
      }

      // Add channel data to the buffer
      this.buffer.push(...channelData);
      // Get max volume 
      let sum = 0.0;
      for (let i = 0; i < channelData.length; i++) {
        sum += channelData[i] * channelData[i];
      }
      const maxVolume = Math.sqrt(sum / channelData.length);
      // Check if buffer size has reached or exceeded the threshold
      if (this.buffer.length >= this.bufferSize) {
        const float32Array = this.isMuted 
          ? new Float32Array(this.buffer.length)
          : new Float32Array(this.buffer);

        let encodedArray = this.format === "ulaw"
          ? new Uint8Array(float32Array.length)
          : new Int16Array(float32Array.length);

        // Iterate through the Float32Array and convert each sample to PCM16
        for (let i = 0; i < float32Array.length; i++) {
          // Clamp the value to the range [-1, 1]
          let sample = Math.max(-1, Math.min(1, float32Array[i]));

          // Scale the sample to the range [-32768, 32767]
          let value = sample < 0 ? sample * 32768 : sample * 32767;
          if (this.format === "ulaw") {
            value = encodeSample(Math.round(value));
          }

          encodedArray[i] = value;
        }

        // Send the buffered data to the main script
        this.port.postMessage([encodedArray, maxVolume]);

        // Clear the buffer after sending
        this.buffer = [];
      }
    }
    return true; // Continue processing
  }
}
registerProcessor("raw-audio-processor", RawAudioProcessor);
`);function Ng(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}class Xu{static async create({sampleRate:t,format:n,preferHeadphonesForIosDevices:r}){let o=null,i=null;try{const l={sampleRate:{ideal:t},echoCancellation:{ideal:!0},noiseSuppression:{ideal:!0}};if(Ng()&&r){const h=(await window.navigator.mediaDevices.enumerateDevices()).find(v=>v.kind==="audioinput"&&["airpod","headphone","earphone"].find(y=>v.label.toLowerCase().includes(y)));h&&(l.deviceId={ideal:h.deviceId})}const u=navigator.mediaDevices.getSupportedConstraints().sampleRate;o=new window.AudioContext(u?{sampleRate:t}:{});const c=o.createAnalyser();u||await o.audioWorklet.addModule("https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js"),await z_(o.audioWorklet),i=await navigator.mediaDevices.getUserMedia({audio:l});const d=o.createMediaStreamSource(i),f=new AudioWorkletNode(o,"raw-audio-processor");return f.port.postMessage({type:"setFormat",format:n,sampleRate:t}),d.connect(c),c.connect(f),await o.resume(),new Xu(o,c,f,i)}catch(l){var s,a;throw(s=i)==null||s.getTracks().forEach(u=>u.stop()),(a=o)==null||a.close(),l}}constructor(t,n,r,o){this.context=void 0,this.analyser=void 0,this.worklet=void 0,this.inputStream=void 0,this.context=t,this.analyser=n,this.worklet=r,this.inputStream=o}async close(){this.inputStream.getTracks().forEach(t=>t.stop()),await this.context.close()}setMuted(t){this.worklet.port.postMessage({type:"setMuted",isMuted:t})}}const U_=Mg("audio-concat-processor",`
const decodeTable = [0,132,396,924,1980,4092,8316,16764];

export function decodeSample(muLawSample) {
  let sign;
  let exponent;
  let mantissa;
  let sample;
  muLawSample = ~muLawSample;
  sign = (muLawSample & 0x80);
  exponent = (muLawSample >> 4) & 0x07;
  mantissa = muLawSample & 0x0F;
  sample = decodeTable[exponent] + (mantissa << (exponent+3));
  if (sign !== 0) sample = -sample;

  return sample;
}

class AudioConcatProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.buffers = []; // Initialize an empty buffer
    this.cursor = 0;
    this.currentBuffer = null;
    this.wasInterrupted = false;
    this.finished = false;
    
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.format = data.format;
          break;
        case "buffer":
          this.wasInterrupted = false;
          this.buffers.push(
            this.format === "ulaw"
              ? new Uint8Array(data.buffer)
              : new Int16Array(data.buffer)
          );
          break;
        case "interrupt":
          this.wasInterrupted = true;
          break;
        case "clearInterrupted":
          if (this.wasInterrupted) {
            this.wasInterrupted = false;
            this.buffers = [];
            this.currentBuffer = null;
          }
      }
    };
  }
  process(_, outputs) {
    let finished = false;
    const output = outputs[0][0];
    for (let i = 0; i < output.length; i++) {
      if (!this.currentBuffer) {
        if (this.buffers.length === 0) {
          finished = true;
          break;
        }
        this.currentBuffer = this.buffers.shift();
        this.cursor = 0;
      }

      let value = this.currentBuffer[this.cursor];
      if (this.format === "ulaw") {
        value = decodeSample(value);
      }
      output[i] = value / 32768;
      this.cursor++;

      if (this.cursor >= this.currentBuffer.length) {
        this.currentBuffer = null;
      }
    }

    if (this.finished !== finished) {
      this.finished = finished;
      this.port.postMessage({ type: "process", finished });
    }

    return true; // Continue processing
  }
}

registerProcessor("audio-concat-processor", AudioConcatProcessor);
`);class Zu{static async create({sampleRate:t,format:n}){let r=null;try{r=new AudioContext({sampleRate:t});const i=r.createAnalyser(),s=r.createGain();s.connect(i),i.connect(r.destination),await U_(r.audioWorklet);const a=new AudioWorkletNode(r,"audio-concat-processor");return a.port.postMessage({type:"setFormat",format:n}),a.connect(s),await r.resume(),new Zu(r,i,s,a)}catch(i){var o;throw(o=r)==null||o.close(),i}}constructor(t,n,r,o){this.context=void 0,this.analyser=void 0,this.gain=void 0,this.worklet=void 0,this.context=t,this.analyser=n,this.gain=r,this.worklet=o}async close(){await this.context.close()}}function $g(e){return!!e.type}class ec{static async create(t){let n=null;try{var r;const i=(r=t.origin)!=null?r:"wss://api.elevenlabs.io",s=t.signedUrl?t.signedUrl:i+"/v1/convai/conversation?agent_id="+t.agentId,a=["convai"];t.authorization&&a.push(`bearer.${t.authorization}`),n=new WebSocket(s,a);const l=await new Promise((v,y)=>{n.addEventListener("open",()=>{var k;const p={type:"conversation_initiation_client_data"};var g,m,_,x;t.overrides&&(p.conversation_config_override={agent:{prompt:(g=t.overrides.agent)==null?void 0:g.prompt,first_message:(m=t.overrides.agent)==null?void 0:m.firstMessage,language:(_=t.overrides.agent)==null?void 0:_.language},tts:{voice_id:(x=t.overrides.tts)==null?void 0:x.voiceId}}),t.customLlmExtraBody&&(p.custom_llm_extra_body=t.customLlmExtraBody),t.dynamicVariables&&(p.dynamic_variables=t.dynamicVariables),(k=n)==null||k.send(JSON.stringify(p))},{once:!0}),n.addEventListener("error",k=>{setTimeout(()=>y(k),0)}),n.addEventListener("close",y),n.addEventListener("message",k=>{const p=JSON.parse(k.data);$g(p)&&(p.type==="conversation_initiation_metadata"?v(p.conversation_initiation_metadata_event):console.warn("First received message is not conversation metadata."))},{once:!0})}),{conversation_id:u,agent_output_audio_format:c,user_input_audio_format:d}=l,f=Dg(d??"pcm_16000"),h=Dg(c);return new ec(n,u,f,h)}catch(i){var o;throw(o=n)==null||o.close(),i}}constructor(t,n,r,o){this.socket=void 0,this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.queue=[],this.disconnectionDetails=null,this.onDisconnectCallback=null,this.onMessageCallback=null,this.socket=t,this.conversationId=n,this.inputFormat=r,this.outputFormat=o,this.socket.addEventListener("error",i=>{setTimeout(()=>this.disconnect({reason:"error",message:"The connection was closed due to a socket error.",context:i}),0)}),this.socket.addEventListener("close",i=>{this.disconnect(i.code===1e3?{reason:"agent",context:i}:{reason:"error",message:i.reason||"The connection was closed by the server.",context:i})}),this.socket.addEventListener("message",i=>{try{const s=JSON.parse(i.data);if(!$g(s))return;this.onMessageCallback?this.onMessageCallback(s):this.queue.push(s)}catch{}})}close(){this.socket.close()}sendMessage(t){this.socket.send(JSON.stringify(t))}onMessage(t){this.onMessageCallback=t,this.queue.forEach(t),this.queue=[]}onDisconnect(t){this.onDisconnectCallback=t,this.disconnectionDetails&&t(this.disconnectionDetails)}disconnect(t){var n;this.disconnectionDetails||(this.disconnectionDetails=t,(n=this.onDisconnectCallback)==null||n.call(this,t))}}function Dg(e){const[t,n]=e.split("_");if(!["pcm","ulaw"].includes(t))throw new Error(`Invalid format: ${e}`);const r=parseInt(n);if(isNaN(r))throw new Error(`Invalid sample rate: ${n}`);return{format:t,sampleRate:r}}const F_={clientTools:{}},B_={onConnect:()=>{},onDebug:()=>{},onDisconnect:()=>{},onError:()=>{},onMessage:()=>{},onAudio:()=>{},onModeChange:()=>{},onStatusChange:()=>{},onCanSendFeedbackChange:()=>{}};class tc{static async startSession(t){var n;const r=Bs({},F_,B_,t);r.onStatusChange({status:"connecting"}),r.onCanSendFeedbackChange({canSendFeedback:!1});let o=null,i=null,s=null,a=null,l=null;if((n=t.useWakeLock)==null||n)try{l=await navigator.wakeLock.request("screen")}catch{}try{var u,c;a=await navigator.mediaDevices.getUserMedia({audio:!0});const g=(u=t.connectionDelay)!=null?u:{default:0,android:3e3};let m=g.default;var d;if(/android/i.test(navigator.userAgent))m=(d=g.android)!=null?d:m;else if(Ng()){var f;m=(f=g.ios)!=null?f:m}return m>0&&await new Promise(_=>setTimeout(_,m)),i=await ec.create(t),[o,s]=await Promise.all([Xu.create(Bs({},i.inputFormat,{preferHeadphonesForIosDevices:t.preferHeadphonesForIosDevices})),Zu.create(i.outputFormat)]),(c=a)==null||c.getTracks().forEach(_=>_.stop()),a=null,new tc(r,i,o,s,l)}catch(g){var h,v,y,k;r.onStatusChange({status:"disconnected"}),(h=a)==null||h.getTracks().forEach(m=>m.stop()),(v=i)==null||v.close(),await((y=o)==null?void 0:y.close()),await((k=s)==null?void 0:k.close());try{var p;await((p=l)==null?void 0:p.release()),l=null}catch{}throw g}}constructor(t,n,r,o,i){var s=this;this.options=void 0,this.connection=void 0,this.input=void 0,this.output=void 0,this.wakeLock=void 0,this.lastInterruptTimestamp=0,this.mode="listening",this.status="connecting",this.inputFrequencyData=void 0,this.outputFrequencyData=void 0,this.volume=1,this.currentEventId=1,this.lastFeedbackEventId=1,this.canSendFeedback=!1,this.endSession=()=>this.endSessionWithDetails({reason:"user"}),this.endSessionWithDetails=async function(a){if(s.status==="connected"||s.status==="connecting"){s.updateStatus("disconnecting");try{var l;await((l=s.wakeLock)==null?void 0:l.release()),s.wakeLock=null}catch{}s.connection.close(),await s.input.close(),await s.output.close(),s.updateStatus("disconnected"),s.options.onDisconnect(a)}},this.updateMode=a=>{a!==this.mode&&(this.mode=a,this.options.onModeChange({mode:a}))},this.updateStatus=a=>{a!==this.status&&(this.status=a,this.options.onStatusChange({status:a}))},this.updateCanSendFeedback=()=>{const a=this.currentEventId!==this.lastFeedbackEventId;this.canSendFeedback!==a&&(this.canSendFeedback=a,this.options.onCanSendFeedbackChange({canSendFeedback:a}))},this.onMessage=async function(a){switch(a.type){case"interruption":return a.interruption_event&&(s.lastInterruptTimestamp=a.interruption_event.event_id),void s.fadeOutAudio();case"agent_response":return void s.options.onMessage({source:"ai",message:a.agent_response_event.agent_response});case"user_transcript":return void s.options.onMessage({source:"user",message:a.user_transcription_event.user_transcript});case"internal_tentative_agent_response":return void s.options.onDebug({type:"tentative_agent_response",response:a.tentative_agent_response_internal_event.tentative_agent_response});case"client_tool_call":if(s.options.clientTools.hasOwnProperty(a.client_tool_call.tool_name))try{var l;const u=(l=await s.options.clientTools[a.client_tool_call.tool_name](a.client_tool_call.parameters))!=null?l:"Client tool execution successful.",c=typeof u=="object"?JSON.stringify(u):String(u);s.connection.sendMessage({type:"client_tool_result",tool_call_id:a.client_tool_call.tool_call_id,result:c,is_error:!1})}catch(u){s.onError("Client tool execution failed with following error: "+(u==null?void 0:u.message),{clientToolName:a.client_tool_call.tool_name}),s.connection.sendMessage({type:"client_tool_result",tool_call_id:a.client_tool_call.tool_call_id,result:"Client tool execution failed: "+(u==null?void 0:u.message),is_error:!0})}else{if(s.options.onUnhandledClientToolCall)return void s.options.onUnhandledClientToolCall(a.client_tool_call);s.onError(`Client tool with name ${a.client_tool_call.tool_name} is not defined on client`,{clientToolName:a.client_tool_call.tool_name}),s.connection.sendMessage({type:"client_tool_result",tool_call_id:a.client_tool_call.tool_call_id,result:`Client tool with name ${a.client_tool_call.tool_name} is not defined on client`,is_error:!0})}return;case"audio":return void(s.lastInterruptTimestamp<=a.audio_event.event_id&&(s.options.onAudio(a.audio_event.audio_base_64),s.addAudioBase64Chunk(a.audio_event.audio_base_64),s.currentEventId=a.audio_event.event_id,s.updateCanSendFeedback(),s.updateMode("speaking")));case"ping":return void s.connection.sendMessage({type:"pong",event_id:a.ping_event.event_id});default:return void s.options.onDebug(a)}},this.onInputWorkletMessage=a=>{this.status==="connected"&&this.connection.sendMessage({user_audio_chunk:$_(a.data[0].buffer)})},this.onOutputWorkletMessage=({data:a})=>{a.type==="process"&&this.updateMode(a.finished?"listening":"speaking")},this.addAudioBase64Chunk=a=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"}),this.output.worklet.port.postMessage({type:"buffer",buffer:D_(a)})},this.fadeOutAudio=()=>{this.updateMode("listening"),this.output.worklet.port.postMessage({type:"interrupt"}),this.output.gain.gain.exponentialRampToValueAtTime(1e-4,this.output.context.currentTime+2),setTimeout(()=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"})},2e3)},this.onError=(a,l)=>{console.error(a,l),this.options.onError(a,l)},this.calculateVolume=a=>{if(a.length===0)return 0;let l=0;for(let u=0;u<a.length;u++)l+=a[u]/255;return l/=a.length,l<0?0:l>1?1:l},this.getId=()=>this.connection.conversationId,this.isOpen=()=>this.status==="connected",this.setVolume=({volume:a})=>{this.volume=a},this.setMicMuted=a=>{this.input.setMuted(a)},this.getInputByteFrequencyData=()=>(this.inputFrequencyData!=null||(this.inputFrequencyData=new Uint8Array(this.input.analyser.frequencyBinCount)),this.input.analyser.getByteFrequencyData(this.inputFrequencyData),this.inputFrequencyData),this.getOutputByteFrequencyData=()=>(this.outputFrequencyData!=null||(this.outputFrequencyData=new Uint8Array(this.output.analyser.frequencyBinCount)),this.output.analyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData),this.getInputVolume=()=>this.calculateVolume(this.getInputByteFrequencyData()),this.getOutputVolume=()=>this.calculateVolume(this.getOutputByteFrequencyData()),this.sendFeedback=a=>{this.canSendFeedback?(this.connection.sendMessage({type:"feedback",score:a?"like":"dislike",event_id:this.currentEventId}),this.lastFeedbackEventId=this.currentEventId,this.updateCanSendFeedback()):console.warn(this.lastFeedbackEventId===0?"Cannot send feedback: the conversation has not started yet.":"Cannot send feedback: feedback has already been sent for the current response.")},this.sendContextualUpdate=a=>{this.connection.sendMessage({type:"contextual_update",text:a})},this.sendUserMessage=a=>{this.connection.sendMessage({type:"user_message",text:a})},this.sendUserActivity=()=>{this.connection.sendMessage({type:"user_activity"})},this.options=t,this.connection=n,this.input=r,this.output=o,this.wakeLock=i,this.options.onConnect({conversationId:n.conversationId}),this.connection.onDisconnect(this.endSessionWithDetails),this.connection.onMessage(this.onMessage),this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.output.worklet.port.onmessage=this.onOutputWorkletMessage,this.updateStatus("connected")}}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nc.apply(null,arguments)}const W_=["micMuted","volume"];function V_(e={}){const{micMuted:t,volume:n}=e,r=function(f,h){if(f==null)return{};var v={};for(var y in f)if({}.hasOwnProperty.call(f,y)){if(h.includes(y))continue;v[y]=f[y]}return v}(e,W_),o=w.useRef(null),i=w.useRef(null),[s,a]=w.useState("disconnected"),[l,u]=w.useState(!1),[c,d]=w.useState("listening");return w.useEffect(()=>{var f;t!==void 0&&(o==null||(f=o.current)==null||f.setMicMuted(t))},[t]),w.useEffect(()=>{var f;n!==void 0&&(o==null||(f=o.current)==null||f.setVolume({volume:n}))},[n]),w.useEffect(()=>()=>{var f;(f=o.current)==null||f.endSession()},[]),{startSession:async f=>{var h;if((h=o.current)!=null&&h.isOpen())return o.current.getId();if(i.current)return(await i.current).getId();try{return i.current=tc.startSession(nc({},r??{},f??{},{onModeChange:({mode:v})=>{d(v)},onStatusChange:({status:v})=>{a(v)},onCanSendFeedbackChange:({canSendFeedback:v})=>{u(v)}})),o.current=await i.current,t!==void 0&&o.current.setMicMuted(t),n!==void 0&&o.current.setVolume({volume:n}),o.current.getId()}finally{i.current=null}},endSession:async()=>{const f=o.current;o.current=null,await(f==null?void 0:f.endSession())},setVolume:({volume:f})=>{var h;(h=o.current)==null||h.setVolume({volume:f})},getInputByteFrequencyData:()=>{var f;return(f=o.current)==null?void 0:f.getInputByteFrequencyData()},getOutputByteFrequencyData:()=>{var f;return(f=o.current)==null?void 0:f.getOutputByteFrequencyData()},getInputVolume:()=>{var f,h;return(f=(h=o.current)==null?void 0:h.getInputVolume())!=null?f:0},getOutputVolume:()=>{var f,h;return(f=(h=o.current)==null?void 0:h.getOutputVolume())!=null?f:0},sendFeedback:f=>{var h;(h=o.current)==null||h.sendFeedback(f)},getId:()=>{var f;return(f=o.current)==null?void 0:f.getId()},sendContextualUpdate:f=>{var h;(h=o.current)==null||h.sendContextualUpdate(f)},sendUserMessage:f=>{var h;(h=o.current)==null||h.sendUserMessage(f)},sendUserActivity:()=>{var f;(f=o.current)==null||f.sendUserActivity()},status:s,canSendFeedback:l,micMuted:t,isSpeaking:c==="speaking"}}const H_=({primaryColor:e,secondaryColor:t,textColor:n,chatBackground:r,logoUrl:o,agentId:i,onBackToChat:s})=>{const[a,l]=w.useState(!1),[u,c]=w.useState(!1),[d,f]=w.useState("idle"),[h,v]=w.useState(""),y=w.useRef(),k=w.useRef(null),p=V_({onConnect:()=>{console.log("[VOICE] ✅ ElevenLabs connected successfully at",new Date().toISOString()),l(!0),f("connected"),v("")},onDisconnect:x=>{console.log("[VOICE] 🔌 ElevenLabs disconnected at",new Date().toISOString()),console.log("[VOICE] Disconnect event:",x),console.log("[VOICE] Was call active?",a),l(!1),f("idle"),k.current&&(console.log("[VOICE] Cleaning up media stream..."),k.current.getTracks().forEach(b=>{console.log("[VOICE] Stopping track:",b.kind,b.readyState),b.stop()}),k.current=null)},onMessage:x=>{console.log("[VOICE] 💬 Message received:",{type:x==null?void 0:x.type,timestamp:new Date().toISOString(),content:(x==null?void 0:x.message)||x}),d==="error"&&(f("connected"),v(""))},onError:x=>{var b;console.error("[VOICE] ❌ Error occurred at",new Date().toISOString()),console.error("[VOICE] Error details:",{message:x==null?void 0:x.message,code:x==null?void 0:x.code,type:x==null?void 0:x.type,stack:x==null?void 0:x.stack,fullError:x}),f("error"),v((x==null?void 0:x.message)||"Connection error occurred"),console.log("[VOICE] Current state:",{isCallActive:a,connectionStatus:d,hasStream:!!k.current,streamTracks:(b=k.current)==null?void 0:b.getTracks().map(E=>({kind:E.kind,enabled:E.enabled,readyState:E.readyState}))}),a&&(console.log("[VOICE] Will attempt reconnection in 3 seconds..."),y.current=setTimeout(()=>{console.log("[VOICE] 🔄 Attempting to reconnect..."),g()},3e3))}}),g=async()=>{try{console.log("[VOICE] 📞 Starting call..."),f("connecting"),v(""),console.log("[VOICE] Requesting microphone permission...");const x=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3}});k.current=x,console.log("[VOICE] ✅ Microphone access granted");const b=x.getAudioTracks()[0];if(b){console.log("[VOICE] Audio track settings:",b.getSettings()),console.log("[VOICE] Audio track constraints:",b.getConstraints()),console.log("[VOICE] Audio track state:",b.readyState),b.onended=()=>{console.warn("[VOICE] ⚠️ Microphone track ended!"),v("Microphone disconnected. Please reconnect."),m()},b.onmute=()=>{console.warn("[VOICE] 🔇 Microphone muted by system")},b.onunmute=()=>{console.log("[VOICE] 🔊 Microphone unmuted by system")};const E=new(window.AudioContext||window.webkitAudioContext),R=E.createAnalyser();E.createMediaStreamSource(x).connect(R),R.fftSize=256;const A=R.frequencyBinCount,U=new Uint8Array(A);let M=0;const N=setInterval(()=>{R.getByteFrequencyData(U),U.reduce((Q,W)=>Q+W)/A<1?(M++,M>100&&(console.warn("[VOICE] ⚠️ No audio detected for 10 seconds"),M=0)):M=0},100);window.audioCheckInterval=N}console.log("[VOICE] Starting ElevenLabs session with agent:",i),await p.startSession({agentId:i}),console.log("[VOICE] ✅ Session started successfully")}catch(x){console.error("[VOICE] ❌ Failed to start call:",x),console.error("[VOICE] Error name:",x==null?void 0:x.name),console.error("[VOICE] Error message:",x==null?void 0:x.message),f("error"),v((x==null?void 0:x.message)||"Failed to start call. Please check your microphone.")}},m=async()=>{try{console.log("[VOICE] 📴 Ending call..."),y.current&&clearTimeout(y.current),window.audioCheckInterval&&(clearInterval(window.audioCheckInterval),window.audioCheckInterval=null),await p.endSession(),l(!1),f("idle"),k.current&&(console.log("[VOICE] Cleaning up media stream..."),k.current.getTracks().forEach(x=>{console.log("[VOICE] Stopping track:",x.kind,x.readyState),x.stop()}),k.current=null),console.log("[VOICE] ✅ Call ended successfully")}catch(x){console.error("[VOICE] ❌ Error ending call:",x)}},_=()=>{if(k.current){const x=k.current.getAudioTracks()[0];x&&(x.enabled=u,c(!u))}};return w.useEffect(()=>()=>{y.current&&clearTimeout(y.current),k.current&&k.current.getTracks().forEach(x=>x.stop())},[]),console.log("CallInterface logoUrl:",o),console.log("CallInterface agentId:",i),S.jsxs("div",{style:{backgroundColor:r,flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",textAlign:"center"},children:[S.jsxs("div",{style:{marginBottom:"2rem"},children:[S.jsxs("div",{style:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:o?"transparent":e,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",position:"relative",boxShadow:o?"none":a?"0 0 30px rgba(59, 130, 246, 0.5)":"0 4px 12px rgba(0, 0, 0, 0.15)",animation:a?"voicePulse 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease",border:o?"2px solid rgba(255,255,255,0.1)":"none"},children:[o?S.jsx("img",{src:o,alt:"Avatar",style:{width:"96px",height:"96px",borderRadius:"50%",objectFit:"cover",imageRendering:"auto",filter:"contrast(1.05) saturate(1.1)"},onLoad:()=>console.log("Avatar image loaded successfully"),onError:x=>{console.error("Avatar image failed to load:",o),x.currentTarget.style.display="none";const b=x.currentTarget.nextElementSibling;b&&(b.style.display="block")}},o):null,S.jsx(hs,{style:{width:"40px",height:"40px",color:"white",display:o?"none":"block"}})]}),S.jsx("h3",{style:{color:n,margin:"0 0 0.5rem 0",fontSize:"24px",fontWeight:"600"},children:d==="connecting"?"Connecting...":d==="connected"?"Voice Agent Active":d==="error"?"Connection Issue":"Voice Assistant"}),S.jsx("p",{style:{color:h?"#ef4444":n,opacity:h?1:.7,margin:"0 0 2rem 0",fontSize:"16px"},children:h||(d==="connecting"?"Setting up audio connection...":d==="connected"?"Speak naturally to interact with the AI assistant":"Connect to our AI voice assistant for hands-free support")})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",justifyContent:"center"},children:[a?S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:m,style:{backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s"},children:S.jsx(Ny,{style:{width:"20px",height:"20px"}})}),S.jsx("button",{onClick:_,style:{backgroundColor:u?"#ef4444":"#6b7280",color:"white",border:"none",borderRadius:"50%",width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s"},title:u?"Unmute":"Mute",children:u?S.jsx(Vh,{style:{width:"20px",height:"20px"}}):S.jsx(Hh,{style:{width:"20px",height:"20px"}})})]}):S.jsx("button",{onClick:g,disabled:d==="connecting",style:{backgroundColor:d==="connecting"?"#9ca3af":e,color:"white",border:"none",borderRadius:"50%",width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",cursor:d==="connecting"?"wait":"pointer",transition:"all 0.2s"},children:S.jsx(hs,{style:{width:"20px",height:"20px"}})}),S.jsx("button",{onClick:s,style:{backgroundColor:t,color:n,border:`1px solid ${t==="#f1f5f9"?"#e2e8f0":"rgba(0,0,0,0.1)"}`,borderRadius:"28px",padding:"0 1rem",height:"56px",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Back to Chat"})]})]})},q_=({avatarUrl:e,title:t,welcomeMessage:n,buttons:r,primaryColor:o,secondaryColor:i,chatBackground:s,textColor:a,headerGradientColor:l,onButtonClick:u,isMobile:c})=>S.jsxs("div",{className:"welcome-message-wrapper",style:{padding:"1rem",backgroundColor:s,height:"100%",display:"flex",flexDirection:"column",gap:"20px"},children:[e&&S.jsx("div",{className:"welcome-logo-container",style:{textAlign:"center"},children:S.jsx("img",{src:e,alt:t,className:"welcome-logo",style:{width:c?"100px":"120px",height:c?"100px":"120px",borderRadius:"50%",objectFit:"cover",marginBottom:"20px",display:"block",margin:"0 auto 20px auto"},onError:d=>{console.error("Avatar failed to load:",e),d.currentTarget.style.display="none"}})}),S.jsx("div",{className:"welcome-buttons-grid",style:{display:"grid",gridTemplateColumns:c?"1fr":"1fr 1fr",gap:"12px",marginBottom:"20px"},children:r.map((d,f)=>S.jsx("button",{className:"welcome-button",onClick:()=>u(d.message),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"8px 12px",background:`linear-gradient(135deg, ${l} 0%, ${o} 100%)`,border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"12px",fontWeight:"500",color:"white",transition:"all 0.2s ease",minHeight:"40px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseEnter:h=>{h.currentTarget.style.background=`linear-gradient(135deg, ${o} 0%, ${l} 100%)`,h.currentTarget.style.transform="translateY(-1px)",h.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:h=>{h.currentTarget.style.background=`linear-gradient(135deg, ${l} 0%, ${o} 100%)`,h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:S.jsx("span",{children:d.text})},d.id||f))}),S.jsx("div",{style:{marginTop:"auto",alignSelf:"flex-start",width:"100%"},children:S.jsxs("div",{className:"chatbot-widget-message chatbot-widget-message-bot chatbot-message-animate",style:{display:"flex",gap:"8px",alignItems:"flex-start",justifyContent:"flex-start"},children:[e&&S.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",overflow:"hidden",flexShrink:0,background:i,display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsx("img",{src:e,alt:"Bot Avatar",style:{width:"100%",height:"100%",objectFit:"cover"},onError:d=>{d.currentTarget.style.display="none"}})}),S.jsx("div",{className:"chatbot-widget-message-bubble chatbot-widget-message-bubble-bot",style:{backgroundColor:i,color:a,padding:"12px 16px",borderRadius:"18px 18px 18px 4px",border:`1px solid ${i==="#f1f5f9"?"#e2e8f0":"rgba(0,0,0,0.1)"}`,fontSize:"14px",lineHeight:"1.4",maxWidth:"85%"},children:S.jsx("p",{className:"chatbot-widget-message-text",style:{margin:0},children:n})})]})})]}),G_=e=>e.split(`
`).map((t,n)=>S.jsxs("span",{children:[t,n<e.split(`
`).length-1&&S.jsx("br",{})]},n)),zg=async e=>{try{await fetch("https://luccatora.app.n8n.cloud/webhook/webbot-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,timestamp:new Date().toISOString()})})}catch(t){console.error("Failed to log error:",t)}},K_=({webhookUrl:e="https://luccatora.app.n8n.cloud/webhook/webbot-test",title:t="MediFlow",bio:n="Your medical assistant",placeholder:r="Type your message...",position:o="bottom-right",primaryColor:i="#6366f1",secondaryColor:s="#f1f5f9",chatBackground:a="#ffffff",botTextColor:l="#1f2937",userTextColor:u="#ffffff",headerGradientColor:c="#8b5cf6",headerMainColor:d="#6366f1",userId:f="anonymous",clinicName:h="Demo Clinic",clinicId:v="104",logoUrl:y="/lovable-uploads/fd9d4dbf-9035-4de8-a3a1-81089fcac665.png",logoFile:k,avatarUrl:p="/lovable-uploads/1f938225-daa7-46d3-a44e-d951e492fcd4.png",avatarFile:g,welcomeMessage:m="Hi! I'm your medical assistant. How can I help you today?",bubbleMessage:_="Hey! I'm your virtual assistant. How can I help you?",welcomeTooltipMessage:x="Click to start chatting with our AI assistant!",admin:b=!1,isVoiceEnabled:E=!0,isElevenLabsEnabled:R=!1,elevenLabsAgentId:$="agent_01k04zwwq3fv5acgzdwmbvfk8k",logoBackgroundColor:A="transparent",logoBorderColor:U="#e5e7eb",headerButtonColor:M="#ffffff",companyName:N="MediFlow",agentName:I="Medical Assistant",callToAction:Q="Start a conversation",showWelcomeScreen:W=!0,companyLogo:G,welcomeButtons:T=[{id:"1",text:"Ask a Question",message:"I have a medical question"},{id:"2",text:"Book Appointment",message:"I would like to book an appointment"},{id:"3",text:"Get Health Info",message:"I need health information"},{id:"4",text:"Contact Support",message:"I need to contact support"}]})=>{const[j,L]=w.useState(y),[F,se]=w.useState(p);w.useEffect(()=>{if(k){const C=URL.createObjectURL(k);return L(C),()=>URL.revokeObjectURL(C)}else L(y)},[k,y]),w.useEffect(()=>{if(g){const C=URL.createObjectURL(g);return se(C),()=>URL.revokeObjectURL(C)}else se(p)},[g,p]);const[De,ft]=w.useState(!1),[ht,pt]=w.useState(!0),[Bt,Vr]=w.useState(!1),Ws=Zw({onTranscription:C=>{C.trim()&&Hr(C)},isVoiceEnabled:E&&De,autoPlayResponses:E?ht:!1}),{isRecording:kn=!1,isProcessing:Sn=!1,recordingTimer:Vs=0,isSpeaking:bn=!1,voicePermissionDenied:Hs=!1,selectedVoice:oc="bark",startRecording:ic=()=>{},stopRecording:sc=()=>{},speakText:ac=()=>{},stopSpeaking:St=()=>{},setSelectedVoice:Q_=()=>{}}=E?Ws:{},[J_,Y_]=w.useState(!1),Fg=()=>{if(typeof window<"u")try{return crypto.randomUUID()}catch{return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`},X_=()=>{if(typeof window>"u")return Fg();let C=sessionStorage.getItem("chatbot-session-id");return C||(C=Fg(),sessionStorage.setItem("chatbot-session-id",C)),C},[qn]=w.useState(()=>X_()),[Wt,Bg]=w.useState(!1),[Gn,Qo]=w.useState([]),[Kn,Wg]=w.useState(""),[Z_,Vg]=w.useState(W&&Gn.length===0),[lc,Hg]=w.useState(!1),[uc,qg]=w.useState(!1),[cc,dc]=w.useState(null),[fc,qs]=w.useState(""),[hc,Jo]=w.useState(""),[Lk,Gg]=w.useState(!1);w.useState(null);const[ek,Mk]=w.useState(!0),[et,Kg]=w.useState(!1),tk=w.useRef(null),nk=w.useRef(null),bt=w.useRef(null),rk=w.useRef(null),pc=w.useRef(null),[ok,ik]=w.useState(!0),[Qg,gc]=w.useState(!1),[fe,sk]=w.useState(window.innerWidth<=768),[be,ak]=w.useState(window.innerWidth<=480);w.useEffect(()=>{const C=()=>{const D=window.innerWidth;sk(D<=768),ak(D<=480)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),w.useEffect(()=>{const C=()=>{},D=()=>{},te=bt.current;if(te)return te.addEventListener("focus",C),te.addEventListener("blur",D),()=>{te.removeEventListener("focus",C),te.removeEventListener("blur",D)}},[Wt]),w.useEffect(()=>{Qo([{id:"welcome-1",text:m,sender:"bot",timestamp:new Date,showSuggestions:!0}])},[m]),w.useEffect(()=>{const C=document.querySelector(".chatbot-widget-container");C?(C.style.setProperty("--chatbot-primary",i),C.style.setProperty("--chatbot-secondary",s),C.style.setProperty("--chatbot-background",a),C.style.setProperty("--chatbot-bot-text",l),C.style.setProperty("--chatbot-user-text",u),C.style.setProperty("--chatbot-header-gradient",c),C.style.setProperty("--chatbot-header-main",d),C.style.setProperty("--chatbot-logo-background",A),C.style.setProperty("--chatbot-logo-border",U),document.documentElement.style.setProperty("--chatbot-primary",i),document.documentElement.style.setProperty("--chatbot-secondary",s),document.documentElement.style.setProperty("--chatbot-background",a),document.documentElement.style.setProperty("--chatbot-bot-text",l),document.documentElement.style.setProperty("--chatbot-user-text",u),document.documentElement.style.setProperty("--chatbot-header-gradient",c),document.documentElement.style.setProperty("--chatbot-header-main",d),document.documentElement.style.setProperty("--chatbot-logo-background",A),document.documentElement.style.setProperty("--chatbot-logo-border",U),C.offsetHeight,console.log("Chatbot styles updated:",{primaryColor:i,secondaryColor:s,chatBackground:a,botTextColor:l,userTextColor:u,headerGradientColor:c,headerMainColor:d})):console.warn("Chatbot container not found. Styles not applied.")},[i,s,a,l,u,c,d,A,U]);const lk=()=>{const C=pc.current;return C?C.scrollHeight-C.scrollTop-C.clientHeight<50:!0},uk=()=>{const C=lk();ik(C),C&&Qg&&gc(!1)},Gs=(C=!1)=>{const D=pc.current;if(D){if(!ok&&!C){gc(!0);return}requestAnimationFrame(()=>{D.scrollTo({top:D.scrollHeight,behavior:"smooth"})})}},ck=()=>{Gs(!0),gc(!1)};w.useEffect(()=>{const C=document.querySelector(".chatbot-widget-messages");if(!C)return;const D=new MutationObserver(()=>{C.scrollTop+C.clientHeight>=C.scrollHeight-100&&Gs()});return D.observe(C,{childList:!0,subtree:!0}),()=>D.disconnect()},[Wt]),w.useEffect(()=>{Gs()},[Gn]),w.useEffect(()=>{Wt&&(Gg(!1),setTimeout(()=>{Gs(!0)},100))},[Wt]);const[Nk,mc]=w.useState(!1),Qn=w.useRef(null);w.useEffect(()=>(Qn.current=setTimeout(()=>{mc(!0)},2e3),()=>{Qn.current&&clearTimeout(Qn.current)}),[]),w.useEffect(()=>{Wt&&(mc(!1),Qn.current&&clearTimeout(Qn.current))},[Wt]),w.useState(0);const dk=()=>{mc(!1),Qn.current&&clearTimeout(Qn.current),Bg(!0)},fk=async(C,D)=>{try{if(!e){console.warn("Webhook URL not configured for correction");return}const te={type:"correction",originalMessage:C,correctedMessage:D,userId:qn,clinicName:h,clinicId:v,timestamp:new Date().toISOString()};console.log("Sending correction to webhook:",te),await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)})}catch(te){console.error("Error sending correction to webhook:",te),await zg({from:"webhook",errorCode:500,errorMessage:te instanceof Error?te.message:"Unknown correction error",errorStack:te instanceof Error&&te.stack||"",payloadToWebHook:{type:"correction",originalMessage:C,correctedMessage:D,userId:qn,clinicName:h,clinicId:v},initializationUrl:window.location.href})}},Jg=C=>{et||(Hr(C),Kg(!0))},hk=C=>{Vg(!1),Hr(C)},Hr=async(C,D=0)=>{const te=C||Kn.trim();if(!(!te||lc)){if(D===0){const je={id:Date.now().toString(),text:te,sender:"user",timestamp:new Date};Qo(Et=>[...Et,je]),Wg(""),Kg(!0),Vg(!1)}Hg(!0),qg(!0),Y_(!1);try{if(!e)throw new Error("Webhook URL not configured");const je={message:te,userId:qn,clinicName:h,clinicId:v,timestamp:new Date().toISOString()};console.log("Sending webhook payload:",je);const Et=new AbortController,Jn=setTimeout(()=>Et.abort(),3e4),Ks=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(je),signal:Et.signal});if(clearTimeout(Jn),!Ks.ok){const yc=await Ks.text();throw new Error(`HTTP ${Ks.status}: ${yc}`)}const gt=await Ks.json();console.log("Webhook response:",gt);let Vt="Sorry, I could not process your request.";Array.isArray(gt)&&gt.length>0&&gt[0].output?Vt=gt[0].output:gt.message?Vt=gt.message:gt.response?Vt=gt.response:typeof gt=="string"&&(Vt=gt);const wk={id:(Date.now()+1).toString(),text:Vt,sender:"bot",timestamp:new Date};Qo(yc=>[...yc,wk]),E&&De&&ht&&!bn&&setTimeout(()=>{ac(Vt)},500),!Wt&&ek&&(Gg(!0),"Notification"in window&&Notification.permission==="granted"&&new Notification(t,{body:Vt.length>50?Vt.substring(0,50)+"...":Vt,icon:y||"/favicon.ico"}))}catch(je){if(console.error("Error sending message:",je),await zg({from:"webhook",errorCode:500,errorMessage:je instanceof Error?je.message:"Unknown error",errorStack:je instanceof Error&&je.stack||"",payloadToWebHook:{message:te,userId:qn,clinicName:h,clinicId:v,timestamp:new Date().toISOString()},initializationUrl:window.location.href}),D<2&&je instanceof Error&&je.name!=="AbortError"){console.log(`Retrying... Attempt ${D+1}`),setTimeout(()=>{Hr(te,D+1)},1e3*(D+1));return}const Et={id:(Date.now()+1).toString(),text:"Sorry, there was an error, can you please refresh the page and try again",sender:"bot",timestamp:new Date};Qo(Jn=>[...Jn,Et])}finally{Hg(!1),qg(!1)}}},pk=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),Kn.trim()&&!uc&&(Hr(Kn),bt.current&&(bt.current.style.height="44px")))},gk=C=>{dc(C.id),qs(C.text),Jo("")},Yg=async C=>{const D=fc.trim();if(!D){Jo("Message cannot be empty");return}const te=Gn.find(Et=>Et.id===C);if(!te)return;const je=te.text;D!==je&&(Qo(Et=>Et.map(Jn=>Jn.id===C?{...Jn,text:D}:Jn)),await fk(je,D)),dc(null),qs(""),Jo("")},Xg=()=>{dc(null),qs(""),Jo("")},mk=(C,D)=>{C.key==="Enter"&&!C.shiftKey?(C.preventDefault(),Yg(D)):C.key==="Escape"&&(C.preventDefault(),Xg())},vc=fc.trim().length>0,vk=()=>{E&&(ft(!De),De&&St&&St())},yk=()=>{E&&(pt(!ht),!ht&&St&&St())};return qn.length>8&&`${qn.substring(0,8)}`,S.jsxs("div",{className:`chatbot-widget-container chatbot-widget-${o}`,style:{position:"fixed",bottom:"1.5rem",right:o==="bottom-right"?"1.5rem":"auto",left:o==="bottom-left"?"1.5rem":"auto",top:"auto",zIndex:2147483647},ref:C=>{C&&console.log("Widget position:",{position:o,computedStyle:window.getComputedStyle(C),bottom:window.getComputedStyle(C).bottom,top:window.getComputedStyle(C).top,right:window.getComputedStyle(C).right,left:window.getComputedStyle(C).left})},children:[Wt&&S.jsxs("div",{ref:rk,className:"chatbot-widget-window chatbot-widget-animate-in",style:{height:fe?"100vh":"600px",maxHeight:fe?"100vh":"600px",display:"flex",flexDirection:"column"},children:[S.jsxs("div",{className:"chatbot-widget-header",style:{backgroundColor:i},children:[S.jsxs("div",{className:"chatbot-widget-header-content",children:[S.jsx("div",{className:"chatbot-widget-header-avatar",children:j&&S.jsx("img",{src:j,alt:"Logo",className:"chatbot-widget-logo",onError:C=>{console.error("Logo failed to load:",j),C.currentTarget.style.display="none"},onLoad:()=>{console.log("Logo loaded successfully:",j)}})}),S.jsxs("div",{children:[S.jsx("h3",{className:"chatbot-widget-header-title",children:t}),S.jsxs("p",{className:"chatbot-widget-header-subtitle",children:[n,E&&De&&S.jsx("span",{style:{marginLeft:"8px",fontSize:"10px"},children:"🎤 Voice Mode"})]})]})]}),S.jsxs("div",{className:"chatbot-widget-header-actions",children:[R&&$&&S.jsx("button",{className:"chatbot-widget-button",onClick:()=>Vr(!0),title:"Start a call",style:{marginRight:"2px",width:"48px",height:"48px",padding:"0",display:"flex !important",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",borderRadius:"50%",cursor:"pointer",opacity:"1",visibility:"visible"},children:S.jsx(hs,{style:{width:"26px",height:"26px",color:"#1f2937 !important"},className:"bg-transparent"})}),S.jsx("button",{className:"chatbot-widget-button",onClick:()=>window.open("/privacy-policy","_blank"),title:"Privacy Policy",style:{marginRight:"0px",width:"32px",height:"32px",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",borderRadius:"50%",cursor:"pointer",opacity:"0.8",transition:"opacity 0.2s ease"},onMouseEnter:C=>C.currentTarget.style.opacity="1",onMouseLeave:C=>C.currentTarget.style.opacity="0.8",children:S.jsx(zy,{style:{width:"16px",height:"16px",color:M||"#ffffff"}})}),S.jsx("button",{className:"chatbot-widget-button",onClick:()=>Bg(!1),children:S.jsx(Kh,{style:{width:"16px",height:"16px"}})})]})]}),Bt?S.jsx(H_,{primaryColor:i,secondaryColor:s,textColor:l,chatBackground:a,logoUrl:p,agentId:$,onBackToChat:()=>Vr(!1)}):S.jsx(S.Fragment,{children:J_?S.jsx("div",{className:"chatbot-widget-messages chatbot-widget-scrollbar",style:{backgroundColor:a,flex:1,overflowY:"auto",paddingBottom:window.innerWidth<=768?void 0:"1rem"},children:S.jsx("div",{className:"chatbot-widget-messages-content",children:S.jsx("p",{className:"chatbot-widget-message-text",children:"We're experiencing some technical difficulties. Please refresh the page to try again."})})}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{ref:pc,className:"chatbot-widget-messages chatbot-widget-scrollbar",style:{backgroundColor:a,flex:"1 1 auto",overflowY:"auto",overflowX:"hidden",padding:"1rem",paddingBottom:"1rem",position:"relative",minHeight:0},onScroll:uk,children:[Qg&&S.jsx("button",{onClick:ck,style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:i,color:"#ffffff",padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"600",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",zIndex:10,display:"flex",alignItems:"center",gap:"6px",border:"none",cursor:"pointer",animation:"chatbot-fade-in 0.3s ease-out"},children:"↓ New Messages"}),S.jsxs("div",{className:"chatbot-widget-messages-content",children:[Z_?S.jsx(q_,{avatarUrl:F,title:t,bio:n,welcomeMessage:m,buttons:T,primaryColor:i,secondaryColor:s,chatBackground:a,textColor:l,headerGradientColor:c,onButtonClick:hk,isMobile:fe}):S.jsxs(S.Fragment,{children:[Gn.length>1&&Gn.some(C=>C.sender==="bot")&&S.jsx("div",{style:{fontSize:"11px",color:l,opacity:.7,textAlign:"center",padding:"8px 16px",fontStyle:"italic",marginBottom:"12px"},children:"I'm an AI Agent, I do my best, I can answer questions and make bookings, but always verify important concerns with a human"}),Gn.map(C=>S.jsx("div",{className:`chatbot-widget-message ${C.sender==="user"?"chatbot-widget-message-user":"chatbot-widget-message-bot"} ${cc===C.id?"editing":""} chatbot-message-animate`,children:S.jsx("div",{className:`chatbot-widget-message-bubble ${C.sender==="user"?"chatbot-widget-message-bubble-user":"chatbot-widget-message-bubble-bot"} ${cc===C.id?"editing":""}`,style:{backgroundColor:C.sender==="user"?i:s,color:C.sender==="user"?u:l,border:C.sender==="bot"?`1px solid ${s==="#f1f5f9"?"#e2e8f0":"rgba(0,0,0,0.1)"}`:"none"},children:cc===C.id?S.jsxs("div",{style:{width:"100%"},children:[S.jsxs("div",{style:{position:"relative"},children:[S.jsx("textarea",{ref:nk,value:fc,onChange:D=>{qs(D.target.value),Jo("")},onKeyDown:D=>mk(D,C.id),className:`chatbot-widget-textarea full-width ${hc?"error":""}`,style:{color:l,backgroundColor:a},placeholder:"Edit your message..."}),hc&&S.jsx("div",{className:"chatbot-widget-error",children:hc})]}),S.jsxs("div",{className:"chatbot-widget-edit-controls",children:[S.jsx("button",{onClick:()=>Yg(C.id),disabled:!vc,className:"chatbot-widget-button",style:{color:l,opacity:vc?1:.5,cursor:vc?"pointer":"not-allowed"},children:S.jsx(Iy,{style:{width:"14px",height:"14px"}})}),S.jsx("button",{onClick:Xg,className:"chatbot-widget-button",style:{color:l},children:S.jsx(Kh,{style:{width:"14px",height:"14px"}})})]})]}):S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"chatbot-widget-message-text",children:G_(C.text)}),C.showSuggestions&&C.sender==="bot"&&!et&&S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"6px",marginTop:"12px",flexWrap:"nowrap",justifyContent:"flex-start"},children:[S.jsxs("button",{onClick:()=>Jg("Book now"),disabled:et,style:{backgroundColor:i,border:"none",color:u,padding:"8px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",cursor:et?"not-allowed":"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px",opacity:et?.6:1,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",whiteSpace:"nowrap",minWidth:"auto"},onMouseEnter:D=>{et||(D.currentTarget.style.transform="translateY(-1px)",D.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)")},onMouseLeave:D=>{et||(D.currentTarget.style.transform="translateY(0)",D.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)")},children:[S.jsx(Oy,{size:14}),"Book Now"]}),S.jsxs("button",{onClick:()=>Jg("Ask Question?"),disabled:et,style:{backgroundColor:i,border:"none",color:u,padding:"8px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",cursor:et?"not-allowed":"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px",opacity:et?.6:1,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",whiteSpace:"nowrap",minWidth:"auto"},onMouseEnter:D=>{et||(D.currentTarget.style.transform="translateY(-1px)",D.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)")},onMouseLeave:D=>{et||(D.currentTarget.style.transform="translateY(0)",D.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)")},children:[S.jsx(Ly,{size:14}),"Ask Question"]})]}),S.jsx("span",{className:"chatbot-widget-message-timestamp",children:C.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),C.sender==="bot"&&b&&S.jsx("div",{className:"chatbot-widget-message-actions",children:S.jsx("button",{onClick:()=>gk(C),className:"chatbot-widget-button",style:{color:l},children:S.jsx(Uy,{style:{width:"12px",height:"12px"}})})})]})})},C.id)),uc&&S.jsx("div",{className:"chatbot-widget-message chatbot-widget-message-bot",children:S.jsx("div",{className:"chatbot-widget-message-bubble chatbot-widget-message-bubble-bot",style:{backgroundColor:s,color:l,border:`1px solid ${s==="#f1f5f9"?"#e2e8f0":"rgba(0,0,0,0.1)"}`},children:S.jsxs("div",{className:"chatbot-widget-typing",children:[S.jsx("div",{className:"chatbot-widget-typing-dot"}),S.jsx("div",{className:"chatbot-widget-typing-dot"}),S.jsx("div",{className:"chatbot-widget-typing-dot"})]})})})]}),S.jsx("div",{ref:tk})]})]}),S.jsxs("div",{className:"chatbot-widget-input",style:{flex:"0 0 auto",padding:"0.75rem",backgroundColor:a,borderTop:"1px solid #e5e7eb",boxShadow:"0 -2px 10px rgba(0,0,0,0.05)"},children:[!Gn.some(C=>C.sender==="user")&&R&&$&&S.jsxs("button",{onClick:()=>Vr(!0),className:"w-full mb-3 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",style:{backgroundColor:i,fontSize:"16px",fontWeight:"600"},children:[S.jsx(hs,{style:{width:"20px",height:"20px"}}),"Call our AI Voice Agent"]}),S.jsxs("div",{className:"chatbot-widget-input-container",style:{display:"flex",gap:"0.5rem",alignItems:"flex-end"},children:[S.jsx("textarea",{ref:bt,value:Kn,onChange:C=>{if(Wg(C.target.value),bt.current){bt.current.style.height="44px";const D=Math.min(bt.current.scrollHeight,100);bt.current.style.height=D+"px"}},onKeyDown:pk,placeholder:E&&kn?"Listening...":E&&Sn?"Processing...":r,disabled:lc||E&&(kn||Sn),className:"chatbot-widget-input-field",style:{color:l,opacity:E&&(kn||Sn)?.7:1,minHeight:"44px",maxHeight:"100px",resize:"none",overflow:"auto",lineHeight:"1.5",padding:"0.75rem 1rem",fontSize:"16px"},autoComplete:"off",autoCorrect:"off",autoCapitalize:"sentences",spellCheck:"true",rows:1}),E&&S.jsx(e1,{isRecording:kn,isProcessing:Sn,recordingTimer:Vs,isSpeaking:bn,voicePermissionDenied:Hs,isVoiceEnabled:De,onStartRecording:ic,onStopRecording:sc,onStopSpeaking:St,onToggleVoice:vk,primaryColor:i}),S.jsx("button",{onClick:()=>{Kn.trim()&&!uc&&(Hr(Kn),bt.current&&(bt.current.style.height="44px"))},disabled:lc||!Kn.trim()||E&&(kn||Sn),className:"chatbot-widget-send-button",style:{backgroundColor:i,alignSelf:"flex-end",marginBottom:"2px"},children:S.jsx($y,{style:{width:"14px",height:"14px"}})})]}),E&&De&&S.jsx(N_,{selectedVoice:oc,onVoiceChange:Q_,autoPlayResponses:ht,onAutoPlayToggle:yk,primaryColor:i})]})]})})]}),!Wt&&S.jsx("div",{className:"voice-chat-widget",style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999},children:S.jsxs("div",{className:"chat-bubble",style:{background:"#ffffff",borderRadius:be?"18px":fe?"20px":"24px",padding:be?"10px 14px":fe?"12px 16px":"16px 20px",boxShadow:"0 4px 24px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08)",maxWidth:be?"240px":fe?"280px":"380px",cursor:"pointer"},onClick:dk,children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:be?"8px":fe?"10px":"12px",marginBottom:be?"10px":fe?"12px":"16px"},children:[S.jsx("div",{style:{width:be?"32px":fe?"36px":"48px",height:be?"32px":fe?"36px":"48px",background:F?A||"transparent":i,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,overflow:"hidden"},children:F?S.jsx("img",{src:F,alt:"Avatar",style:{width:"100%",height:"100%",objectFit:"contain",imageRendering:"crisp-edges",filter:"contrast(1.05) saturate(1.1)"},onError:C=>{console.error("Avatar logo failed to load:",F),C.currentTarget.style.display="none"}}):S.jsx("div",{style:{color:"#ffffff",fontSize:be?"8px":fe?"9px":"11px",fontWeight:"600",textAlign:"center",lineHeight:"1.2"},children:N.split(" ").slice(0,2).join(`
`).toUpperCase()||"AI"})}),S.jsx("div",{style:{flex:1},children:S.jsx("p",{style:{color:"#1a1a1a",fontSize:be?"12px":fe?"13px":"15px",lineHeight:"1.4",margin:0,display:"flex",alignItems:"center"},children:_})})]}),S.jsxs("button",{style:{background:i,color:"#ffffff",border:"none",borderRadius:be?"18px":fe?"20px":"24px",padding:be?"10px 16px":fe?"12px 18px":"14px 24px",fontSize:be?"13px":fe?"14px":"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:be?"6px":fe?"8px":"10px",width:"100%",transition:"all 0.2s ease"},onMouseEnter:C=>{C.currentTarget.style.background=`${i}dd`,C.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:C=>{C.currentTarget.style.background=i,C.currentTarget.style.transform="translateY(0)"},children:[S.jsx(My,{style:{width:be?"14px":fe?"16px":"20px",height:be?"14px":fe?"16px":"20px"}}),be||fe?"Chat":Q||"Start a conversation"]})]})})]})};console.log("🤖 ChatbotWidget initialized successfully!"),console.log("✨ Features: Same beautiful styling, simplified code, webhook integration");function rc(e={}){console.log("🚀 Creating chat widget with config:",e);let t=document.getElementById("chatbot-widget-container");t||(t=document.createElement("div"),t.id="chatbot-widget-container",document.body.appendChild(t));const n=zh(t);return n.render(Ac.createElement(K_,e)),console.log("✅ Chat widget created and mounted successfully!"),{mount:()=>{console.log("Chat widget mounted")},unmount:()=>{n.unmount(),t.remove()}}}function Ug(e){return rc(e)}return typeof window<"u"&&(window.ChatbotWidget={createChat:rc,init:Ug,version:"1.0.8"},console.log("🌍 Global ChatbotWidget object created:",window.ChatbotWidget)),Yo.createChat=rc,Yo.init=Ug,Object.defineProperty(Yo,Symbol.toStringTag,{value:"Module"}),Yo}({});
