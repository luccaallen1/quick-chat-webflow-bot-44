var ChatbotWidget=function(kt){"use strict";var ok=Object.defineProperty;var ik=(kt,St,ve)=>St in kt?ok(kt,St,{enumerable:!0,configurable:!0,writable:!0,value:ve}):kt[St]=ve;var wc=(kt,St,ve)=>ik(kt,typeof St!="symbol"?St+"":St,ve);function St(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Xg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var _c={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br=Symbol.for("react.element"),Zg=Symbol.for("react.portal"),em=Symbol.for("react.fragment"),tm=Symbol.for("react.strict_mode"),nm=Symbol.for("react.profiler"),rm=Symbol.for("react.provider"),om=Symbol.for("react.context"),im=Symbol.for("react.forward_ref"),sm=Symbol.for("react.suspense"),lm=Symbol.for("react.memo"),am=Symbol.for("react.lazy"),xc=Symbol.iterator;function um(e){return e===null||typeof e!="object"?null:(e=xc&&e[xc]||e["@@iterator"],typeof e=="function"?e:null)}var kc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sc=Object.assign,bc={};function Qn(e,t,n){this.props=e,this.context=t,this.refs=bc,this.updater=n||kc}Qn.prototype.isReactComponent={},Qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ec(){}Ec.prototype=Qn.prototype;function Zs(e,t,n){this.props=e,this.context=t,this.refs=bc,this.updater=n||kc}var el=Zs.prototype=new Ec;el.constructor=Zs,Sc(el,Qn.prototype),el.isPureReactComponent=!0;var Cc=Array.isArray,Tc=Object.prototype.hasOwnProperty,tl={current:null},Pc={key:!0,ref:!0,__self:!0,__source:!0};function Rc(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Tc.call(t,r)&&!Pc.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Br,type:e,key:i,ref:s,props:o,_owner:tl.current}}function cm(e,t){return{$$typeof:Br,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Br}function dm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jc=/\/+/g;function rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dm(""+e.key):t.toString(36)}function Qo(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Br:case Zg:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+rl(s,0):r,Cc(o)?(n="",e!=null&&(n=e.replace(jc,"$&/")+"/"),Qo(o,t,n,"",function(u){return u})):o!=null&&(nl(o)&&(o=cm(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(jc,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Cc(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+rl(i,l);s+=Qo(i,t,n,a,o)}else if(a=um(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+rl(i,l++),s+=Qo(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Jo(e,t,n){if(e==null)return e;var r=[],o=0;return Qo(e,r,"","",function(i){return t.call(n,i,o++)}),r}function fm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},Yo={transition:null},hm={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Yo,ReactCurrentOwner:tl};function Ac(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Jo,forEach:function(e,t,n){Jo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jo(e,function(){t++}),t},toArray:function(e){return Jo(e,function(t){return t})||[]},only:function(e){if(!nl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},H.Component=Qn,H.Fragment=em,H.Profiler=nm,H.PureComponent=Zs,H.StrictMode=tm,H.Suspense=sm,H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hm,H.act=Ac,H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Sc({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=tl.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Tc.call(t,a)&&!Pc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Br,type:e.type,key:o,ref:i,props:r,_owner:s}},H.createContext=function(e){return e={$$typeof:om,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rm,_context:e},e.Consumer=e},H.createElement=Rc,H.createFactory=function(e){var t=Rc.bind(null,e);return t.type=e,t},H.createRef=function(){return{current:null}},H.forwardRef=function(e){return{$$typeof:im,render:e}},H.isValidElement=nl,H.lazy=function(e){return{$$typeof:am,_payload:{_status:-1,_result:e},_init:fm}},H.memo=function(e,t){return{$$typeof:lm,type:e,compare:t===void 0?null:t}},H.startTransition=function(e){var t=Yo.transition;Yo.transition={};try{e()}finally{Yo.transition=t}},H.unstable_act=Ac,H.useCallback=function(e,t){return Ce.current.useCallback(e,t)},H.useContext=function(e){return Ce.current.useContext(e)},H.useDebugValue=function(){},H.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)},H.useEffect=function(e,t){return Ce.current.useEffect(e,t)},H.useId=function(){return Ce.current.useId()},H.useImperativeHandle=function(e,t,n){return Ce.current.useImperativeHandle(e,t,n)},H.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)},H.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)},H.useMemo=function(e,t){return Ce.current.useMemo(e,t)},H.useReducer=function(e,t,n){return Ce.current.useReducer(e,t,n)},H.useRef=function(e){return Ce.current.useRef(e)},H.useState=function(e){return Ce.current.useState(e)},H.useSyncExternalStore=function(e,t,n){return Ce.current.useSyncExternalStore(e,t,n)},H.useTransition=function(){return Ce.current.useTransition()},H.version="18.3.1",_c.exports=H;var w=_c.exports;const Oc=Yg(w),pm=St({__proto__:null,default:Oc},[w]);var Ic={exports:{}},ze={},Lc={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,j){var L=T.length;T.push(j);e:for(;0<L;){var z=L-1>>>1,ue=T[z];if(0<o(ue,j))T[z]=j,T[L]=ue,L=z;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var j=T[0],L=T.pop();if(L!==j){T[0]=L;e:for(var z=0,ue=T.length,wn=ue>>>1;z<wn;){var Ge=2*(z+1)-1,Fn=T[Ge],Ae=Ge+1,Ke=T[Ae];if(0>o(Fn,L))Ae<ue&&0>o(Ke,Fn)?(T[z]=Ke,T[Ae]=L,z=Ae):(T[z]=Fn,T[Ge]=L,z=Ge);else if(Ae<ue&&0>o(Ke,L))T[z]=Ke,T[Ae]=L,z=Ae;else break e}}return j}function o(T,j){var L=T.sortIndex-j.sortIndex;return L!==0?L:T.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,d=3,h=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=T)r(u),j.sortIndex=j.expirationTime,t(a,j);else break;j=n(u)}}function _(T){if(y=!1,m(T),!v)if(n(a)!==null)v=!0,B(S);else{var j=n(u);j!==null&&G(_,j.startTime-T)}}function S(T,j){v=!1,y&&(y=!1,p(R),R=-1),h=!0;var L=d;try{for(m(j),f=n(a);f!==null&&(!(f.expirationTime>j)||T&&!q());){var z=f.callback;if(typeof z=="function"){f.callback=null,d=f.priorityLevel;var ue=z(f.expirationTime<=j);j=e.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(a)&&r(a),m(j)}else r(a);f=n(a)}if(f!==null)var wn=!0;else{var Ge=n(u);Ge!==null&&G(_,Ge.startTime-j),wn=!1}return wn}finally{f=null,d=L,h=!1}}var b=!1,E=null,R=-1,$=5,A=-1;function q(){return!(e.unstable_now()-A<$)}function M(){if(E!==null){var T=e.unstable_now();A=T;var j=!0;try{j=E(!0,T)}finally{j?N():(b=!1,E=null)}}else b=!1}var N;if(typeof g=="function")N=function(){g(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,J=I.port2;I.port1.onmessage=M,N=function(){J.postMessage(null)}}else N=function(){x(M,0)};function B(T){E=T,b||(b=!0,N())}function G(T,j){R=x(function(){T(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,B(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(T){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var L=d;d=j;try{return T()}finally{d=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,j){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=d;d=T;try{return j()}finally{d=L}},e.unstable_scheduleCallback=function(T,j,L){var z=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,T){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=L+ue,T={id:c++,callback:j,priorityLevel:T,startTime:L,expirationTime:ue,sortIndex:-1},L>z?(T.sortIndex=L,t(u,T),n(a)===null&&T===n(u)&&(y?(p(R),R=-1):y=!0,G(_,L-z))):(T.sortIndex=ue,t(a,T),v||h||(v=!0,B(S))),T},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(T){var j=d;return function(){var L=d;d=j;try{return T.apply(this,arguments)}finally{d=L}}}})(Nc),Lc.exports=Nc;var gm=Lc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm=w,Ue=gm;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mc=new Set,Wr={};function _n(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(Wr[e]=t,e=0;e<t.length;e++)Mc.add(t[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ol=Object.prototype.hasOwnProperty,vm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$c={},Dc={};function ym(e){return ol.call(Dc,e)?!0:ol.call($c,e)?!1:vm.test(e)?Dc[e]=!0:($c[e]=!0,!1)}function wm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _m(e,t,n,r){if(t===null||typeof t>"u"||wm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Te(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Te(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Te(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Te(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){ye[e]=new Te(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){ye[e]=new Te(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){ye[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var il=/[\-:]([a-z])/g;function sl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(il,sl);ye[t]=new Te(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(il,sl);ye[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(il,sl);ye[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)}),ye.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){ye[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function ll(e,t,n,r){var o=ye.hasOwnProperty(t)?ye[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_m(t,n,o,r)&&(n=null),r||o===null?ym(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Et=mm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xo=Symbol.for("react.element"),Yn=Symbol.for("react.portal"),Xn=Symbol.for("react.fragment"),al=Symbol.for("react.strict_mode"),ul=Symbol.for("react.profiler"),zc=Symbol.for("react.provider"),Uc=Symbol.for("react.context"),cl=Symbol.for("react.forward_ref"),dl=Symbol.for("react.suspense"),fl=Symbol.for("react.suspense_list"),hl=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),Fc=Symbol.for("react.offscreen"),Bc=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=Bc&&e[Bc]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,pl;function Vr(e){if(pl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pl=t&&t[1]||""}return`
`+pl+e}var gl=!1;function ml(e,t){if(!e||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vr(e):""}function xm(e){switch(e.tag){case 5:return Vr(e.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return e=ml(e.type,!1),e;case 11:return e=ml(e.type.render,!1),e;case 1:return e=ml(e.type,!0),e;default:return""}}function vl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xn:return"Fragment";case Yn:return"Portal";case ul:return"Profiler";case al:return"StrictMode";case dl:return"Suspense";case fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Uc:return(e.displayName||"Context")+".Consumer";case zc:return(e._context.displayName||"Context")+".Provider";case cl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hl:return t=e.displayName||null,t!==null?t:vl(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return vl(e(t))}catch{}}return null}function km(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vl(t);case 8:return t===al?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sm(e){var t=Wc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zo(e){e._valueTracker||(e._valueTracker=Sm(e))}function Hc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yl(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qc(e,t){t=t.checked,t!=null&&ll(e,"checked",t,!1)}function wl(e,t){qc(e,t);var n=Wt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_l(e,t.type,n):t.hasOwnProperty("defaultValue")&&_l(e,t.type,Wt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _l(e,t,n){(t!=="number"||ei(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qr=Array.isArray;function Zn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function xl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(qr(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wt(n)}}function Qc(e,t){var n=Wt(t.value),r=Wt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Jc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ti,Xc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bm=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(e){bm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kr[t]=Kr[e]})});function Zc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kr.hasOwnProperty(e)&&Kr[e]?(""+t).trim():t+"px"}function ed(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Zc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Em=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(e,t){if(t){if(Em[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var El=null;function Cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tl=null,er=null,tr=null;function td(e){if(e=vo(e)){if(typeof Tl!="function")throw Error(P(280));var t=e.stateNode;t&&(t=bi(t),Tl(e.stateNode,e.type,t))}}function nd(e){er?tr?tr.push(e):tr=[e]:er=e}function rd(){if(er){var e=er,t=tr;if(tr=er=null,td(e),t)for(e=0;e<t.length;e++)td(t[e])}}function od(e,t){return e(t)}function id(){}var Pl=!1;function sd(e,t,n){if(Pl)return e(t,n);Pl=!0;try{return od(e,t,n)}finally{Pl=!1,(er!==null||tr!==null)&&(id(),rd())}}function Qr(e,t){var n=e.stateNode;if(n===null)return null;var r=bi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Rl=!1;if(bt)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Rl=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Rl=!1}function Cm(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Yr=!1,ni=null,ri=!1,jl=null,Tm={onError:function(e){Yr=!0,ni=e}};function Pm(e,t,n,r,o,i,s,l,a){Yr=!1,ni=null,Cm.apply(Tm,arguments)}function Rm(e,t,n,r,o,i,s,l,a){if(Pm.apply(this,arguments),Yr){if(Yr){var u=ni;Yr=!1,ni=null}else throw Error(P(198));ri||(ri=!0,jl=u)}}function xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ad(e){if(xn(e)!==e)throw Error(P(188))}function jm(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return ad(o),e;if(i===r)return ad(o),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function ud(e){return e=jm(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var dd=Ue.unstable_scheduleCallback,fd=Ue.unstable_cancelCallback,Am=Ue.unstable_shouldYield,Om=Ue.unstable_requestPaint,ce=Ue.unstable_now,Im=Ue.unstable_getCurrentPriorityLevel,Al=Ue.unstable_ImmediatePriority,hd=Ue.unstable_UserBlockingPriority,oi=Ue.unstable_NormalPriority,Lm=Ue.unstable_LowPriority,pd=Ue.unstable_IdlePriority,ii=null,gt=null;function Nm(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(ii,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:Dm,Mm=Math.log,$m=Math.LN2;function Dm(e){return e>>>=0,e===0?32:31-(Mm(e)/$m|0)|0}var si=64,li=4194304;function Xr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ai(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=Xr(l):(i&=s,i!==0&&(r=Xr(i)))}else s=n&~o,s!==0?r=Xr(s):i!==0&&(r=Xr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rt(t),o=1<<n,r|=e[n],t&=~o;return r}function zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Um(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-rt(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=zm(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Ol(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gd(){var e=si;return si<<=1,!(si&4194240)&&(si=64),e}function Il(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=n}function Fm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-rt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Ll(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Q=0;function md(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vd,Nl,yd,wd,_d,Ml=!1,ui=[],Ht=null,Vt=null,qt=null,eo=new Map,to=new Map,Gt=[],Bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(e,t){switch(e){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(t.pointerId)}}function no(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=vo(t),t!==null&&Nl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Wm(e,t,n,r,o){switch(t){case"focusin":return Ht=no(Ht,e,t,n,r,o),!0;case"dragenter":return Vt=no(Vt,e,t,n,r,o),!0;case"mouseover":return qt=no(qt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return eo.set(i,no(eo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,to.set(i,no(to.get(i)||null,e,t,n,r,o)),!0}return!1}function kd(e){var t=kn(e.target);if(t!==null){var n=xn(t);if(n!==null){if(t=n.tag,t===13){if(t=ld(n),t!==null){e.blockedOn=t,_d(e.priority,function(){yd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);El=r,n.target.dispatchEvent(r),El=null}else return t=vo(n),t!==null&&Nl(t),e.blockedOn=n,!1;t.shift()}return!0}function Sd(e,t,n){ci(e)&&n.delete(t)}function Hm(){Ml=!1,Ht!==null&&ci(Ht)&&(Ht=null),Vt!==null&&ci(Vt)&&(Vt=null),qt!==null&&ci(qt)&&(qt=null),eo.forEach(Sd),to.forEach(Sd)}function ro(e,t){e.blockedOn===t&&(e.blockedOn=null,Ml||(Ml=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,Hm)))}function oo(e){function t(o){return ro(o,e)}if(0<ui.length){ro(ui[0],e);for(var n=1;n<ui.length;n++){var r=ui[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ht!==null&&ro(Ht,e),Vt!==null&&ro(Vt,e),qt!==null&&ro(qt,e),eo.forEach(t),to.forEach(t),n=0;n<Gt.length;n++)r=Gt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gt.length&&(n=Gt[0],n.blockedOn===null);)kd(n),n.blockedOn===null&&Gt.shift()}var nr=Et.ReactCurrentBatchConfig,di=!0;function Vm(e,t,n,r){var o=Q,i=nr.transition;nr.transition=null;try{Q=1,$l(e,t,n,r)}finally{Q=o,nr.transition=i}}function qm(e,t,n,r){var o=Q,i=nr.transition;nr.transition=null;try{Q=4,$l(e,t,n,r)}finally{Q=o,nr.transition=i}}function $l(e,t,n,r){if(di){var o=Dl(e,t,n,r);if(o===null)ta(e,t,r,fi,n),xd(e,r);else if(Wm(o,e,t,n,r))r.stopPropagation();else if(xd(e,r),t&4&&-1<Bm.indexOf(e)){for(;o!==null;){var i=vo(o);if(i!==null&&vd(i),i=Dl(e,t,n,r),i===null&&ta(e,t,r,fi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else ta(e,t,r,null,n)}}var fi=null;function Dl(e,t,n,r){if(fi=null,e=Cl(r),e=kn(e),e!==null)if(t=xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ld(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fi=e,null}function bd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Im()){case Al:return 1;case hd:return 4;case oi:case Lm:return 16;case pd:return 536870912;default:return 16}default:return 16}}var Kt=null,zl=null,hi=null;function Ed(){if(hi)return hi;var e,t=zl,n=t.length,r,o="value"in Kt?Kt.value:Kt.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return hi=o.slice(e,1<r?1-r:void 0)}function pi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function Cd(){return!1}function Fe(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gi:Cd,this.isPropagationStopped=Cd,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),t}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=Fe(rr),io=ie({},rr,{view:0,detail:0}),Gm=Fe(io),Fl,Bl,so,mi=ie({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(Fl=e.screenX-so.screenX,Bl=e.screenY-so.screenY):Bl=Fl=0,so=e),Fl)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),Td=Fe(mi),Km=ie({},mi,{dataTransfer:0}),Qm=Fe(Km),Jm=ie({},io,{relatedTarget:0}),Wl=Fe(Jm),Ym=ie({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xm=Fe(Ym),Zm=ie({},rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ev=Fe(Zm),tv=ie({},rr,{data:0}),Pd=Fe(tv),nv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ov[e])?!!t[e]:!1}function Hl(){return iv}var sv=ie({},io,{key:function(e){if(e.key){var t=nv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(e){return e.type==="keypress"?pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lv=Fe(sv),av=ie({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=Fe(av),uv=ie({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),cv=Fe(uv),dv=ie({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fv=Fe(dv),hv=ie({},mi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pv=Fe(hv),gv=[9,13,27,32],Vl=bt&&"CompositionEvent"in window,lo=null;bt&&"documentMode"in document&&(lo=document.documentMode);var mv=bt&&"TextEvent"in window&&!lo,jd=bt&&(!Vl||lo&&8<lo&&11>=lo),Ad=" ",Od=!1;function Id(e,t){switch(e){case"keyup":return gv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function vv(e,t){switch(e){case"compositionend":return Ld(t);case"keypress":return t.which!==32?null:(Od=!0,Ad);case"textInput":return e=t.data,e===Ad&&Od?null:e;default:return null}}function yv(e,t){if(or)return e==="compositionend"||!Vl&&Id(e,t)?(e=Ed(),hi=zl=Kt=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jd&&t.locale!=="ko"?null:t.data;default:return null}}var wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wv[e.type]:t==="textarea"}function Md(e,t,n,r){nd(r),t=xi(t,"onChange"),0<t.length&&(n=new Ul("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ao=null,uo=null;function _v(e){ef(e,0)}function vi(e){var t=ur(e);if(Hc(t))return e}function xv(e,t){if(e==="change")return t}var $d=!1;if(bt){var ql;if(bt){var Gl="oninput"in document;if(!Gl){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),Gl=typeof Dd.oninput=="function"}ql=Gl}else ql=!1;$d=ql&&(!document.documentMode||9<document.documentMode)}function zd(){ao&&(ao.detachEvent("onpropertychange",Ud),uo=ao=null)}function Ud(e){if(e.propertyName==="value"&&vi(uo)){var t=[];Md(t,uo,e,Cl(e)),sd(_v,t)}}function kv(e,t,n){e==="focusin"?(zd(),ao=t,uo=n,ao.attachEvent("onpropertychange",Ud)):e==="focusout"&&zd()}function Sv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vi(uo)}function bv(e,t){if(e==="click")return vi(t)}function Ev(e,t){if(e==="input"||e==="change")return vi(t)}function Cv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:Cv;function co(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ol.call(t,o)||!ot(e[o],t[o]))return!1}return!0}function Fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bd(e,t){var n=Fd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fd(n)}}function Wd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hd(){for(var e=window,t=ei();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ei(e.document)}return t}function Kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tv(e){var t=Hd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wd(n.ownerDocument.documentElement,n)){if(r!==null&&Kl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Bd(n,i);var s=Bd(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pv=bt&&"documentMode"in document&&11>=document.documentMode,ir=null,Ql=null,fo=null,Jl=!1;function Vd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jl||ir==null||ir!==ei(r)||(r=ir,"selectionStart"in r&&Kl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fo&&co(fo,r)||(fo=r,r=xi(Ql,"onSelect"),0<r.length&&(t=new Ul("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function yi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sr={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionend:yi("Transition","TransitionEnd")},Yl={},qd={};bt&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function wi(e){if(Yl[e])return Yl[e];if(!sr[e])return e;var t=sr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qd)return Yl[e]=t[n];return e}var Gd=wi("animationend"),Kd=wi("animationiteration"),Qd=wi("animationstart"),Jd=wi("transitionend"),Yd=new Map,Xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){Yd.set(e,t),_n(t,[e])}for(var Xl=0;Xl<Xd.length;Xl++){var Zl=Xd[Xl],Rv=Zl.toLowerCase(),jv=Zl[0].toUpperCase()+Zl.slice(1);Qt(Rv,"on"+jv)}Qt(Gd,"onAnimationEnd"),Qt(Kd,"onAnimationIteration"),Qt(Qd,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(Jd,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function Zd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Rm(r,t,void 0,e),e.currentTarget=null}function ef(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Zd(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Zd(o,l,u),i=a}}}if(ri)throw e=jl,ri=!1,jl=null,e}function te(e,t){var n=t[la];n===void 0&&(n=t[la]=new Set);var r=e+"__bubble";n.has(r)||(tf(t,e,2,!1),n.add(r))}function ea(e,t,n){var r=0;t&&(r|=4),tf(n,e,r,t)}var _i="_reactListening"+Math.random().toString(36).slice(2);function po(e){if(!e[_i]){e[_i]=!0,Mc.forEach(function(n){n!=="selectionchange"&&(Av.has(n)||ea(n,!1,e),ea(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_i]||(t[_i]=!0,ea("selectionchange",!1,t))}}function tf(e,t,n,r){switch(bd(t)){case 1:var o=Vm;break;case 4:o=qm;break;default:o=$l}n=o.bind(null,t,n,e),o=void 0,!Rl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ta(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=kn(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}sd(function(){var u=i,c=Cl(n),f=[];e:{var d=Yd.get(e);if(d!==void 0){var h=Ul,v=e;switch(e){case"keypress":if(pi(n)===0)break e;case"keydown":case"keyup":h=lv;break;case"focusin":v="focus",h=Wl;break;case"focusout":v="blur",h=Wl;break;case"beforeblur":case"afterblur":h=Wl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=cv;break;case Gd:case Kd:case Qd:h=Xm;break;case Jd:h=fv;break;case"scroll":h=Gm;break;case"wheel":h=pv;break;case"copy":case"cut":case"paste":h=ev;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Rd}var y=(t&4)!==0,x=!y&&e==="scroll",p=y?d!==null?d+"Capture":null:d;y=[];for(var g=u,m;g!==null;){m=g;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,p!==null&&(_=Qr(g,p),_!=null&&y.push(go(g,_,m)))),x)break;g=g.return}0<y.length&&(d=new h(d,v,null,n,c),f.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==El&&(v=n.relatedTarget||n.fromElement)&&(kn(v)||v[Ct]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?kn(v):null,v!==null&&(x=xn(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=Td,_="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Rd,_="onPointerLeave",p="onPointerEnter",g="pointer"),x=h==null?d:ur(h),m=v==null?d:ur(v),d=new y(_,g+"leave",h,n,c),d.target=x,d.relatedTarget=m,_=null,kn(c)===u&&(y=new y(p,g+"enter",v,n,c),y.target=m,y.relatedTarget=x,_=y),x=_,h&&v)t:{for(y=h,p=v,g=0,m=y;m;m=lr(m))g++;for(m=0,_=p;_;_=lr(_))m++;for(;0<g-m;)y=lr(y),g--;for(;0<m-g;)p=lr(p),m--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=lr(y),p=lr(p)}y=null}else y=null;h!==null&&nf(f,d,h,y,!1),v!==null&&x!==null&&nf(f,x,v,y,!0)}}e:{if(d=u?ur(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=xv;else if(Nd(d))if($d)S=Ev;else{S=Sv;var b=kv}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=bv);if(S&&(S=S(e,u))){Md(f,S,n,c);break e}b&&b(e,d,u),e==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&_l(d,"number",d.value)}switch(b=u?ur(u):window,e){case"focusin":(Nd(b)||b.contentEditable==="true")&&(ir=b,Ql=u,fo=null);break;case"focusout":fo=Ql=ir=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,Vd(f,n,c);break;case"selectionchange":if(Pv)break;case"keydown":case"keyup":Vd(f,n,c)}var E;if(Vl)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else or?Id(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(jd&&n.locale!=="ko"&&(or||R!=="onCompositionStart"?R==="onCompositionEnd"&&or&&(E=Ed()):(Kt=c,zl="value"in Kt?Kt.value:Kt.textContent,or=!0)),b=xi(u,R),0<b.length&&(R=new Pd(R,e,null,n,c),f.push({event:R,listeners:b}),E?R.data=E:(E=Ld(n),E!==null&&(R.data=E)))),(E=mv?vv(e,n):yv(e,n))&&(u=xi(u,"onBeforeInput"),0<u.length&&(c=new Pd("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}ef(f,t)})}function go(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Qr(e,n),i!=null&&r.unshift(go(e,i,o)),i=Qr(e,t),i!=null&&r.push(go(e,i,o))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nf(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Qr(n,i),a!=null&&s.unshift(go(n,a,l))):o||(a=Qr(n,i),a!=null&&s.push(go(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ov=/\r\n?/g,Iv=/\u0000|\uFFFD/g;function rf(e){return(typeof e=="string"?e:""+e).replace(Ov,`
`).replace(Iv,"")}function ki(e,t,n){if(t=rf(t),rf(e)!==t&&n)throw Error(P(425))}function Si(){}var na=null,ra=null;function oa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ia=typeof setTimeout=="function"?setTimeout:void 0,Lv=typeof clearTimeout=="function"?clearTimeout:void 0,of=typeof Promise=="function"?Promise:void 0,Nv=typeof queueMicrotask=="function"?queueMicrotask:typeof of<"u"?function(e){return of.resolve(null).then(e).catch(Mv)}:ia;function Mv(e){setTimeout(function(){throw e})}function sa(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),oo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);oo(t)}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ar=Math.random().toString(36).slice(2),mt="__reactFiber$"+ar,mo="__reactProps$"+ar,Ct="__reactContainer$"+ar,la="__reactEvents$"+ar,$v="__reactListeners$"+ar,Dv="__reactHandles$"+ar;function kn(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ct]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sf(e);e!==null;){if(n=e[mt])return n;e=sf(e)}return t}e=n,n=e.parentNode}return null}function vo(e){return e=e[mt]||e[Ct],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function bi(e){return e[mo]||null}var aa=[],cr=-1;function Yt(e){return{current:e}}function ne(e){0>cr||(e.current=aa[cr],aa[cr]=null,cr--)}function X(e,t){cr++,aa[cr]=e.current,e.current=t}var Xt={},xe=Yt(Xt),Oe=Yt(!1),Sn=Xt;function dr(e,t){var n=e.type.contextTypes;if(!n)return Xt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ie(e){return e=e.childContextTypes,e!=null}function Ei(){ne(Oe),ne(xe)}function lf(e,t,n){if(xe.current!==Xt)throw Error(P(168));X(xe,t),X(Oe,n)}function af(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(P(108,km(e)||"Unknown",o));return ie({},n,r)}function Ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,Sn=xe.current,X(xe,e),X(Oe,Oe.current),!0}function uf(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=af(e,t,Sn),r.__reactInternalMemoizedMergedChildContext=e,ne(Oe),ne(xe),X(xe,e)):ne(Oe),X(Oe,n)}var Tt=null,Ti=!1,ua=!1;function cf(e){Tt===null?Tt=[e]:Tt.push(e)}function zv(e){Ti=!0,cf(e)}function Zt(){if(!ua&&Tt!==null){ua=!0;var e=0,t=Q;try{var n=Tt;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tt=null,Ti=!1}catch(o){throw Tt!==null&&(Tt=Tt.slice(e+1)),dd(Al,Zt),o}finally{Q=t,ua=!1}}return null}var fr=[],hr=0,Pi=null,Ri=0,Je=[],Ye=0,bn=null,Pt=1,Rt="";function En(e,t){fr[hr++]=Ri,fr[hr++]=Pi,Pi=e,Ri=t}function df(e,t,n){Je[Ye++]=Pt,Je[Ye++]=Rt,Je[Ye++]=bn,bn=e;var r=Pt;e=Rt;var o=32-rt(r)-1;r&=~(1<<o),n+=1;var i=32-rt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Pt=1<<32-rt(t)+o|n<<o|r,Rt=i+e}else Pt=1<<i|n<<o|r,Rt=e}function ca(e){e.return!==null&&(En(e,1),df(e,1,0))}function da(e){for(;e===Pi;)Pi=fr[--hr],fr[hr]=null,Ri=fr[--hr],fr[hr]=null;for(;e===bn;)bn=Je[--Ye],Je[Ye]=null,Rt=Je[--Ye],Je[Ye]=null,Pt=Je[--Ye],Je[Ye]=null}var Be=null,We=null,oe=!1,it=null;function ff(e,t){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,We=Jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bn!==null?{id:Pt,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,We=null,!0):!1;default:return!1}}function fa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ha(e){if(oe){var t=We;if(t){var n=t;if(!hf(e,t)){if(fa(e))throw Error(P(418));t=Jt(n.nextSibling);var r=Be;t&&hf(e,t)?ff(r,n):(e.flags=e.flags&-4097|2,oe=!1,Be=e)}}else{if(fa(e))throw Error(P(418));e.flags=e.flags&-4097|2,oe=!1,Be=e}}}function pf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function ji(e){if(e!==Be)return!1;if(!oe)return pf(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oa(e.type,e.memoizedProps)),t&&(t=We)){if(fa(e))throw gf(),Error(P(418));for(;t;)ff(e,t),t=Jt(t.nextSibling)}if(pf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=Be?Jt(e.stateNode.nextSibling):null;return!0}function gf(){for(var e=We;e;)e=Jt(e.nextSibling)}function pr(){We=Be=null,oe=!1}function pa(e){it===null?it=[e]:it.push(e)}var Uv=Et.ReactCurrentBatchConfig;function yo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Ai(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mf(e){var t=e._init;return t(e._payload)}function vf(e){function t(p,g){if(e){var m=p.deletions;m===null?(p.deletions=[g],p.flags|=16):m.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function o(p,g){return p=an(p,g),p.index=0,p.sibling=null,p}function i(p,g,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<g?(p.flags|=2,g):m):(p.flags|=2,g)):(p.flags|=1048576,g)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,m,_){return g===null||g.tag!==6?(g=iu(m,p.mode,_),g.return=p,g):(g=o(g,m),g.return=p,g)}function a(p,g,m,_){var S=m.type;return S===Xn?c(p,g,m.props.children,_,m.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Bt&&mf(S)===g.type)?(_=o(g,m.props),_.ref=yo(p,g,m),_.return=p,_):(_=ts(m.type,m.key,m.props,null,p.mode,_),_.ref=yo(p,g,m),_.return=p,_)}function u(p,g,m,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=su(m,p.mode,_),g.return=p,g):(g=o(g,m.children||[]),g.return=p,g)}function c(p,g,m,_,S){return g===null||g.tag!==7?(g=In(m,p.mode,_,S),g.return=p,g):(g=o(g,m),g.return=p,g)}function f(p,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=iu(""+g,p.mode,m),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xo:return m=ts(g.type,g.key,g.props,null,p.mode,m),m.ref=yo(p,null,g),m.return=p,m;case Yn:return g=su(g,p.mode,m),g.return=p,g;case Bt:var _=g._init;return f(p,_(g._payload),m)}if(qr(g)||Hr(g))return g=In(g,p.mode,m,null),g.return=p,g;Ai(p,g)}return null}function d(p,g,m,_){var S=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(p,g,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Xo:return m.key===S?a(p,g,m,_):null;case Yn:return m.key===S?u(p,g,m,_):null;case Bt:return S=m._init,d(p,g,S(m._payload),_)}if(qr(m)||Hr(m))return S!==null?null:c(p,g,m,_,null);Ai(p,m)}return null}function h(p,g,m,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(m)||null,l(g,p,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xo:return p=p.get(_.key===null?m:_.key)||null,a(g,p,_,S);case Yn:return p=p.get(_.key===null?m:_.key)||null,u(g,p,_,S);case Bt:var b=_._init;return h(p,g,m,b(_._payload),S)}if(qr(_)||Hr(_))return p=p.get(m)||null,c(g,p,_,S,null);Ai(g,_)}return null}function v(p,g,m,_){for(var S=null,b=null,E=g,R=g=0,$=null;E!==null&&R<m.length;R++){E.index>R?($=E,E=null):$=E.sibling;var A=d(p,E,m[R],_);if(A===null){E===null&&(E=$);break}e&&E&&A.alternate===null&&t(p,E),g=i(A,g,R),b===null?S=A:b.sibling=A,b=A,E=$}if(R===m.length)return n(p,E),oe&&En(p,R),S;if(E===null){for(;R<m.length;R++)E=f(p,m[R],_),E!==null&&(g=i(E,g,R),b===null?S=E:b.sibling=E,b=E);return oe&&En(p,R),S}for(E=r(p,E);R<m.length;R++)$=h(E,p,R,m[R],_),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?R:$.key),g=i($,g,R),b===null?S=$:b.sibling=$,b=$);return e&&E.forEach(function(q){return t(p,q)}),oe&&En(p,R),S}function y(p,g,m,_){var S=Hr(m);if(typeof S!="function")throw Error(P(150));if(m=S.call(m),m==null)throw Error(P(151));for(var b=S=null,E=g,R=g=0,$=null,A=m.next();E!==null&&!A.done;R++,A=m.next()){E.index>R?($=E,E=null):$=E.sibling;var q=d(p,E,A.value,_);if(q===null){E===null&&(E=$);break}e&&E&&q.alternate===null&&t(p,E),g=i(q,g,R),b===null?S=q:b.sibling=q,b=q,E=$}if(A.done)return n(p,E),oe&&En(p,R),S;if(E===null){for(;!A.done;R++,A=m.next())A=f(p,A.value,_),A!==null&&(g=i(A,g,R),b===null?S=A:b.sibling=A,b=A);return oe&&En(p,R),S}for(E=r(p,E);!A.done;R++,A=m.next())A=h(E,p,R,A.value,_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?R:A.key),g=i(A,g,R),b===null?S=A:b.sibling=A,b=A);return e&&E.forEach(function(M){return t(p,M)}),oe&&En(p,R),S}function x(p,g,m,_){if(typeof m=="object"&&m!==null&&m.type===Xn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Xo:e:{for(var S=m.key,b=g;b!==null;){if(b.key===S){if(S=m.type,S===Xn){if(b.tag===7){n(p,b.sibling),g=o(b,m.props.children),g.return=p,p=g;break e}}else if(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Bt&&mf(S)===b.type){n(p,b.sibling),g=o(b,m.props),g.ref=yo(p,b,m),g.return=p,p=g;break e}n(p,b);break}else t(p,b);b=b.sibling}m.type===Xn?(g=In(m.props.children,p.mode,_,m.key),g.return=p,p=g):(_=ts(m.type,m.key,m.props,null,p.mode,_),_.ref=yo(p,g,m),_.return=p,p=_)}return s(p);case Yn:e:{for(b=m.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){n(p,g.sibling),g=o(g,m.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=su(m,p.mode,_),g.return=p,p=g}return s(p);case Bt:return b=m._init,x(p,g,b(m._payload),_)}if(qr(m))return v(p,g,m,_);if(Hr(m))return y(p,g,m,_);Ai(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(n(p,g.sibling),g=o(g,m),g.return=p,p=g):(n(p,g),g=iu(m,p.mode,_),g.return=p,p=g),s(p)):n(p,g)}return x}var gr=vf(!0),yf=vf(!1),Oi=Yt(null),Ii=null,mr=null,ga=null;function ma(){ga=mr=Ii=null}function va(e){var t=Oi.current;ne(Oi),e._currentValue=t}function ya(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vr(e,t){Ii=e,ga=mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function Xe(e){var t=e._currentValue;if(ga!==e)if(e={context:e,memoizedValue:t,next:null},mr===null){if(Ii===null)throw Error(P(308));mr=e,Ii.dependencies={lanes:0,firstContext:e}}else mr=mr.next=e;return t}var Cn=null;function wa(e){Cn===null?Cn=[e]:Cn.push(e)}function wf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,wa(t)):(n.next=o.next,o.next=n),t.interleaved=n,jt(e,r)}function jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var en=!1;function _a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function At(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,jt(e,n)}return o=r.interleaved,o===null?(t.next=t,wa(r)):(t.next=o.next,o.next=t),r.interleaved=t,jt(e,n)}function Li(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ll(e,n)}}function xf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ni(e,t,n,r){var o=e.updateQueue;en=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var f=o.baseState;s=0,c=u=a=null,l=i;do{var d=l.lane,h=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(d=t,h=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=ie({},f,d);break e;case 2:en=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else h={eventTime:h,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,a=f):c=c.next=h,s|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(c===null&&(a=f),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Rn|=s,e.lanes=s,e.memoizedState=f}}function kf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(P(191,o));o.call(r)}}}var wo={},vt=Yt(wo),_o=Yt(wo),xo=Yt(wo);function Tn(e){if(e===wo)throw Error(P(174));return e}function xa(e,t){switch(X(xo,t),X(_o,e),X(vt,wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kl(t,e)}ne(vt),X(vt,t)}function yr(){ne(vt),ne(_o),ne(xo)}function Sf(e){Tn(xo.current);var t=Tn(vt.current),n=kl(t,e.type);t!==n&&(X(_o,e),X(vt,n))}function ka(e){_o.current===e&&(ne(vt),ne(_o))}var se=Yt(0);function Mi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=[];function ba(){for(var e=0;e<Sa.length;e++)Sa[e]._workInProgressVersionPrimary=null;Sa.length=0}var $i=Et.ReactCurrentDispatcher,Ea=Et.ReactCurrentBatchConfig,Pn=0,le=null,fe=null,pe=null,Di=!1,ko=!1,So=0,Fv=0;function ke(){throw Error(P(321))}function Ca(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ot(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,o,i){if(Pn=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$i.current=e===null||e.memoizedState===null?Vv:qv,e=n(r,o),ko){i=0;do{if(ko=!1,So=0,25<=i)throw Error(P(301));i+=1,pe=fe=null,t.updateQueue=null,$i.current=Gv,e=n(r,o)}while(ko)}if($i.current=Fi,t=fe!==null&&fe.next!==null,Pn=0,pe=fe=le=null,Di=!1,t)throw Error(P(300));return e}function Pa(){var e=So!==0;return So=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?le.memoizedState=pe=e:pe=pe.next=e,pe}function Ze(){if(fe===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=pe===null?le.memoizedState:pe.next;if(t!==null)pe=t,fe=e;else{if(e===null)throw Error(P(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},pe===null?le.memoizedState=pe=e:pe=pe.next=e}return pe}function bo(e,t){return typeof t=="function"?t(e):t}function Ra(e){var t=Ze(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=fe,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var c=u.lane;if((Pn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,le.lanes|=c,Rn|=c}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,ot(r,t.memoizedState)||(Le=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,le.lanes|=i,Rn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ja(e){var t=Ze(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);ot(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function bf(){}function Ef(e,t){var n=le,r=Ze(),o=t(),i=!ot(r.memoizedState,o);if(i&&(r.memoizedState=o,Le=!0),r=r.queue,Aa(Pf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,Eo(9,Tf.bind(null,n,r,o,t),void 0,null),ge===null)throw Error(P(349));Pn&30||Cf(n,t,o)}return o}function Cf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tf(e,t,n,r){t.value=n,t.getSnapshot=r,Rf(t)&&jf(e)}function Pf(e,t,n){return n(function(){Rf(t)&&jf(e)})}function Rf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ot(e,n)}catch{return!0}}function jf(e){var t=jt(e,1);t!==null&&ut(t,e,1,-1)}function Af(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Hv.bind(null,le,e),[t.memoizedState,e]}function Eo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Of(){return Ze().memoizedState}function zi(e,t,n,r){var o=yt();le.flags|=e,o.memoizedState=Eo(1|t,n,void 0,r===void 0?null:r)}function Ui(e,t,n,r){var o=Ze();r=r===void 0?null:r;var i=void 0;if(fe!==null){var s=fe.memoizedState;if(i=s.destroy,r!==null&&Ca(r,s.deps)){o.memoizedState=Eo(t,n,i,r);return}}le.flags|=e,o.memoizedState=Eo(1|t,n,i,r)}function If(e,t){return zi(8390656,8,e,t)}function Aa(e,t){return Ui(2048,8,e,t)}function Lf(e,t){return Ui(4,2,e,t)}function Nf(e,t){return Ui(4,4,e,t)}function Mf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $f(e,t,n){return n=n!=null?n.concat([e]):null,Ui(4,4,Mf.bind(null,t,e),n)}function Oa(){}function Df(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ca(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zf(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ca(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Uf(e,t,n){return Pn&21?(ot(n,t)||(n=gd(),le.lanes|=n,Rn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function Bv(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=Ea.transition;Ea.transition={};try{e(!1),t()}finally{Q=n,Ea.transition=r}}function Ff(){return Ze().memoizedState}function Wv(e,t,n){var r=sn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bf(e))Wf(t,n);else if(n=wf(e,t,n,r),n!==null){var o=Re();ut(n,e,r,o),Hf(n,t,r)}}function Hv(e,t,n){var r=sn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bf(e))Wf(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,ot(l,s)){var a=t.interleaved;a===null?(o.next=o,wa(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=wf(e,t,o,r),n!==null&&(o=Re(),ut(n,e,r,o),Hf(n,t,r))}}function Bf(e){var t=e.alternate;return e===le||t!==null&&t===le}function Wf(e,t){ko=Di=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ll(e,n)}}var Fi={readContext:Xe,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Vv={readContext:Xe,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:If,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zi(4194308,4,Mf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){return zi(4,2,e,t)},useMemo:function(e,t){var n=yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wv.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:Af,useDebugValue:Oa,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=Af(!1),t=e[0];return e=Bv.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,o=yt();if(oe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),ge===null)throw Error(P(349));Pn&30||Cf(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,If(Pf.bind(null,r,i,e),[e]),r.flags|=2048,Eo(9,Tf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=yt(),t=ge.identifierPrefix;if(oe){var n=Rt,r=Pt;n=(r&~(1<<32-rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=So++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qv={readContext:Xe,useCallback:Df,useContext:Xe,useEffect:Aa,useImperativeHandle:$f,useInsertionEffect:Lf,useLayoutEffect:Nf,useMemo:zf,useReducer:Ra,useRef:Of,useState:function(){return Ra(bo)},useDebugValue:Oa,useDeferredValue:function(e){var t=Ze();return Uf(t,fe.memoizedState,e)},useTransition:function(){var e=Ra(bo)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:bf,useSyncExternalStore:Ef,useId:Ff,unstable_isNewReconciler:!1},Gv={readContext:Xe,useCallback:Df,useContext:Xe,useEffect:Aa,useImperativeHandle:$f,useInsertionEffect:Lf,useLayoutEffect:Nf,useMemo:zf,useReducer:ja,useRef:Of,useState:function(){return ja(bo)},useDebugValue:Oa,useDeferredValue:function(e){var t=Ze();return fe===null?t.memoizedState=e:Uf(t,fe.memoizedState,e)},useTransition:function(){var e=ja(bo)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:bf,useSyncExternalStore:Ef,useId:Ff,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ia(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bi={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Re(),o=sn(e),i=At(r,o);i.payload=t,n!=null&&(i.callback=n),t=tn(e,i,o),t!==null&&(ut(t,e,o,r),Li(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Re(),o=sn(e),i=At(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=tn(e,i,o),t!==null&&(ut(t,e,o,r),Li(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Re(),r=sn(e),o=At(n,r);o.tag=2,t!=null&&(o.callback=t),t=tn(e,o,r),t!==null&&(ut(t,e,r,n),Li(t,e,r))}};function Vf(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!co(n,r)||!co(o,i):!0}function qf(e,t,n){var r=!1,o=Xt,i=t.contextType;return typeof i=="object"&&i!==null?i=Xe(i):(o=Ie(t)?Sn:xe.current,r=t.contextTypes,i=(r=r!=null)?dr(e,o):Xt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function La(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},_a(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Xe(i):(i=Ie(t)?Sn:xe.current,o.context=dr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ia(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Bi.enqueueReplaceState(o,o.state,null),Ni(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function wr(e,t){try{var n="",r=t;do n+=xm(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Na(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ma(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kv=typeof WeakMap=="function"?WeakMap:Map;function Kf(e,t,n){n=At(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qi||(Qi=!0,Ya=r),Ma(e,t)},n}function Qf(e,t,n){n=At(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ma(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ma(e,t),typeof r!="function"&&(rn===null?rn=new Set([this]):rn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Jf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Kv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=ay.bind(null,e,t,n),t.then(e,e))}function Yf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xf(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=At(-1,1),t.tag=2,tn(n,t,1))),n.lanes|=1),e)}var Qv=Et.ReactCurrentOwner,Le=!1;function Pe(e,t,n,r){t.child=e===null?yf(t,null,n,r):gr(t,e.child,n,r)}function Zf(e,t,n,r,o){n=n.render;var i=t.ref;return vr(t,o),r=Ta(e,t,n,r,i,o),n=Pa(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ot(e,t,o)):(oe&&n&&ca(t),t.flags|=1,Pe(e,t,r,o),t.child)}function eh(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!ou(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,th(e,t,i,r,o)):(e=ts(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(s,r)&&e.ref===t.ref)return Ot(e,t,o)}return t.flags|=1,e=an(i,r),e.ref=t.ref,e.return=t,t.child=e}function th(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(co(i,r)&&e.ref===t.ref)if(Le=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,Ot(e,t,o)}return $a(e,t,n,r,o)}function nh(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(xr,He),He|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(xr,He),He|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,X(xr,He),He|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,X(xr,He),He|=r;return Pe(e,t,o,n),t.child}function rh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $a(e,t,n,r,o){var i=Ie(n)?Sn:xe.current;return i=dr(t,i),vr(t,o),n=Ta(e,t,n,r,i,o),r=Pa(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ot(e,t,o)):(oe&&r&&ca(t),t.flags|=1,Pe(e,t,n,o),t.child)}function oh(e,t,n,r,o){if(Ie(n)){var i=!0;Ci(t)}else i=!1;if(vr(t,o),t.stateNode===null)Hi(e,t),qf(t,n,r),La(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xe(u):(u=Ie(n)?Sn:xe.current,u=dr(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Gf(t,s,r,u),en=!1;var d=t.memoizedState;s.state=d,Ni(t,r,s,o),a=t.memoizedState,l!==r||d!==a||Oe.current||en?(typeof c=="function"&&(Ia(t,n,c,r),a=t.memoizedState),(l=en||Vf(t,n,l,r,d,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,_f(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:st(t.type,l),s.props=u,f=t.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Xe(a):(a=Ie(n)?Sn:xe.current,a=dr(t,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==a)&&Gf(t,s,r,a),en=!1,d=t.memoizedState,s.state=d,Ni(t,r,s,o);var v=t.memoizedState;l!==f||d!==v||Oe.current||en?(typeof h=="function"&&(Ia(t,n,h,r),v=t.memoizedState),(u=en||Vf(t,n,u,r,d,v,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Da(e,t,n,r,i,o)}function Da(e,t,n,r,o,i){rh(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&uf(t,n,!1),Ot(e,t,i);r=t.stateNode,Qv.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=gr(t,e.child,null,i),t.child=gr(t,null,l,i)):Pe(e,t,l,i),t.memoizedState=r.state,o&&uf(t,n,!0),t.child}function ih(e){var t=e.stateNode;t.pendingContext?lf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lf(e,t.context,!1),xa(e,t.containerInfo)}function sh(e,t,n,r,o){return pr(),pa(o),t.flags|=256,Pe(e,t,n,r),t.child}var za={dehydrated:null,treeContext:null,retryLane:0};function Ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function lh(e,t,n){var r=t.pendingProps,o=se.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),X(se,o&1),e===null)return ha(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ns(s,r,0,null),e=In(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ua(n),t.memoizedState=za,e):Fa(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Jv(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=an(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=an(l,i):(i=In(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Ua(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=za,r}return i=e.child,e=i.sibling,r=an(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fa(e,t){return t=ns({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wi(e,t,n,r){return r!==null&&pa(r),gr(t,e.child,null,n),e=Fa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jv(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Na(Error(P(422))),Wi(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ns({mode:"visible",children:r.children},o,0,null),i=In(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&gr(t,e.child,null,s),t.child.memoizedState=Ua(s),t.memoizedState=za,i);if(!(t.mode&1))return Wi(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(P(419)),r=Na(i,r,void 0),Wi(e,t,s,r)}if(l=(s&e.childLanes)!==0,Le||l){if(r=ge,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,jt(e,o),ut(r,e,o,-1))}return ru(),r=Na(Error(P(421))),Wi(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=uy.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,We=Jt(o.nextSibling),Be=t,oe=!0,it=null,e!==null&&(Je[Ye++]=Pt,Je[Ye++]=Rt,Je[Ye++]=bn,Pt=e.id,Rt=e.overflow,bn=t),t=Fa(t,r.children),t.flags|=4096,t)}function ah(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ya(e.return,t,n)}function Ba(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function uh(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Pe(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ah(e,n,t);else if(e.tag===19)ah(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(se,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Mi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ba(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Mi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ba(t,!0,n,null,i);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yv(e,t,n){switch(t.tag){case 3:ih(t),pr();break;case 5:Sf(t);break;case 1:Ie(t.type)&&Ci(t);break;case 4:xa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;X(Oi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(X(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?lh(e,t,n):(X(se,se.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);X(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return uh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,nh(e,t,n)}return Ot(e,t,n)}var ch,Wa,dh,fh;ch=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(){},dh=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Tn(vt.current);var i=null;switch(n){case"input":o=yl(e,o),r=yl(e,r),i=[];break;case"select":o=ie({},o,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":o=xl(e,o),r=xl(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Si)}Sl(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&te("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},fh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Co(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xv(e,t,n){var r=t.pendingProps;switch(da(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Ie(t.type)&&Ei(),Se(t),null;case 3:return r=t.stateNode,yr(),ne(Oe),ne(xe),ba(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ji(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(eu(it),it=null))),Wa(e,t),Se(t),null;case 5:ka(t);var o=Tn(xo.current);if(n=t.type,e!==null&&t.stateNode!=null)dh(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Se(t),null}if(e=Tn(vt.current),ji(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[mt]=t,r[mo]=i,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(o=0;o<ho.length;o++)te(ho[o],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Vc(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":Kc(r,i),te("invalid",r)}Sl(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ki(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ki(r.textContent,l,e),o=["children",""+l]):Wr.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&te("scroll",r)}switch(n){case"input":Zo(r),Gc(r,i,!0);break;case"textarea":Zo(r),Jc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Si)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[mt]=t,e[mo]=r,ch(e,t,!1,!1),t.stateNode=e;e:{switch(s=bl(n,r),n){case"dialog":te("cancel",e),te("close",e),o=r;break;case"iframe":case"object":case"embed":te("load",e),o=r;break;case"video":case"audio":for(o=0;o<ho.length;o++)te(ho[o],e);o=r;break;case"source":te("error",e),o=r;break;case"img":case"image":case"link":te("error",e),te("load",e),o=r;break;case"details":te("toggle",e),o=r;break;case"input":Vc(e,r),o=yl(e,r),te("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ie({},r,{value:void 0}),te("invalid",e);break;case"textarea":Kc(e,r),o=xl(e,r),te("invalid",e);break;default:o=r}Sl(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?ed(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Xc(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Gr(e,a):typeof a=="number"&&Gr(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&te("scroll",e):a!=null&&ll(e,i,a,s))}switch(n){case"input":Zo(e),Gc(e,r,!1);break;case"textarea":Zo(e),Jc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Zn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Zn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Si)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)fh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Tn(xo.current),Tn(vt.current),ji(t)){if(r=t.stateNode,n=t.memoizedProps,r[mt]=t,(i=r.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:ki(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ki(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mt]=t,t.stateNode=r}return Se(t),null;case 13:if(ne(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&We!==null&&t.mode&1&&!(t.flags&128))gf(),pr(),t.flags|=98560,i=!1;else if(i=ji(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[mt]=t}else pr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),i=!1}else it!==null&&(eu(it),it=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?he===0&&(he=3):ru())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return yr(),Wa(e,t),e===null&&po(t.stateNode.containerInfo),Se(t),null;case 10:return va(t.type._context),Se(t),null;case 17:return Ie(t.type)&&Ei(),Se(t),null;case 19:if(ne(se),i=t.memoizedState,i===null)return Se(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Co(i,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Mi(e),s!==null){for(t.flags|=128,Co(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(se,se.current&1|2),t.child}e=e.sibling}i.tail!==null&&ce()>kr&&(t.flags|=128,r=!0,Co(i,!1),t.lanes=4194304)}else{if(!r)if(e=Mi(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Co(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!oe)return Se(t),null}else 2*ce()-i.renderingStartTime>kr&&n!==1073741824&&(t.flags|=128,r=!0,Co(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,n=se.current,X(se,r?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return nu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?He&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Zv(e,t){switch(da(t),t.tag){case 1:return Ie(t.type)&&Ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),ne(Oe),ne(xe),ba(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ka(t),null;case 13:if(ne(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(se),null;case 4:return yr(),null;case 10:return va(t.type._context),null;case 22:case 23:return nu(),null;case 24:return null;default:return null}}var Vi=!1,be=!1,ey=typeof WeakSet=="function"?WeakSet:Set,O=null;function _r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function Ha(e,t,n){try{n()}catch(r){ae(e,t,r)}}var hh=!1;function ty(e,t){if(na=di,e=Hd(),Kl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||o!==0&&f.nodeType!==3||(l=s+o),f!==i||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++u===o&&(l=s),d===i&&++c===r&&(a=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ra={focusedElem:e,selectionRange:n},di=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:st(t.type,y),x);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(_){ae(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=hh,hh=!1,v}function To(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ha(t,n,i)}o=o.next}while(o!==r)}}function qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Va(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ph(e){var t=e.alternate;t!==null&&(e.alternate=null,ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mt],delete t[mo],delete t[la],delete t[$v],delete t[Dv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gh(e){return e.tag===5||e.tag===3||e.tag===4}function mh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Si));else if(r!==4&&(e=e.child,e!==null))for(qa(e,t,n),e=e.sibling;e!==null;)qa(e,t,n),e=e.sibling}function Ga(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ga(e,t,n),e=e.sibling;e!==null;)Ga(e,t,n),e=e.sibling}var we=null,lt=!1;function nn(e,t,n){for(n=n.child;n!==null;)vh(e,t,n),n=n.sibling}function vh(e,t,n){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(ii,n)}catch{}switch(n.tag){case 5:be||_r(n,t);case 6:var r=we,o=lt;we=null,nn(e,t,n),we=r,lt=o,we!==null&&(lt?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(lt?(e=we,n=n.stateNode,e.nodeType===8?sa(e.parentNode,n):e.nodeType===1&&sa(e,n),oo(e)):sa(we,n.stateNode));break;case 4:r=we,o=lt,we=n.stateNode.containerInfo,lt=!0,nn(e,t,n),we=r,lt=o;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ha(n,t,s),o=o.next}while(o!==r)}nn(e,t,n);break;case 1:if(!be&&(_r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ae(n,t,l)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,nn(e,t,n),be=r):nn(e,t,n);break;default:nn(e,t,n)}}function yh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ey),t.forEach(function(r){var o=cy.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function at(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,lt=!1;break e;case 3:we=l.stateNode.containerInfo,lt=!0;break e;case 4:we=l.stateNode.containerInfo,lt=!0;break e}l=l.return}if(we===null)throw Error(P(160));vh(i,s,o),we=null,lt=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){ae(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wh(t,e),t=t.sibling}function wh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),wt(e),r&4){try{To(3,e,e.return),qi(3,e)}catch(y){ae(e,e.return,y)}try{To(5,e,e.return)}catch(y){ae(e,e.return,y)}}break;case 1:at(t,e),wt(e),r&512&&n!==null&&_r(n,n.return);break;case 5:if(at(t,e),wt(e),r&512&&n!==null&&_r(n,n.return),e.flags&32){var o=e.stateNode;try{Gr(o,"")}catch(y){ae(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&qc(o,i),bl(l,s);var u=bl(l,i);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?ed(o,f):c==="dangerouslySetInnerHTML"?Xc(o,f):c==="children"?Gr(o,f):ll(o,c,f,u)}switch(l){case"input":wl(o,i);break;case"textarea":Qc(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Zn(o,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?Zn(o,!!i.multiple,i.defaultValue,!0):Zn(o,!!i.multiple,i.multiple?[]:"",!1))}o[mo]=i}catch(y){ae(e,e.return,y)}}break;case 6:if(at(t,e),wt(e),r&4){if(e.stateNode===null)throw Error(P(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(y){ae(e,e.return,y)}}break;case 3:if(at(t,e),wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oo(t.containerInfo)}catch(y){ae(e,e.return,y)}break;case 4:at(t,e),wt(e);break;case 13:at(t,e),wt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Ja=ce())),r&4&&yh(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(be=(u=be)||c,at(t,e),be=u):at(t,e),wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(f=O=c;O!==null;){switch(d=O,h=d.child,d.tag){case 0:case 11:case 14:case 15:To(4,d,d.return);break;case 1:_r(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){ae(r,n,y)}}break;case 5:_r(d,d.return);break;case 22:if(d.memoizedState!==null){kh(f);continue}}h!==null?(h.return=d,O=h):kh(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Zc("display",s))}catch(y){ae(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){ae(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:at(t,e),wt(e),r&4&&yh(e);break;case 21:break;default:at(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gh(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Gr(o,""),r.flags&=-33);var i=mh(e);Ga(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=mh(e);qa(e,l,s);break;default:throw Error(P(161))}}catch(a){ae(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ny(e,t,n){O=e,_h(e)}function _h(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var o=O,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Vi;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||be;l=Vi;var u=be;if(Vi=s,(be=a)&&!u)for(O=o;O!==null;)s=O,a=s.child,s.tag===22&&s.memoizedState!==null?Sh(o):a!==null?(a.return=s,O=a):Sh(o);for(;i!==null;)O=i,_h(i),i=i.sibling;O=o,Vi=l,be=u}xh(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,O=i):xh(e)}}function xh(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||qi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!be)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:st(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kf(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kf(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&oo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}be||t.flags&512&&Va(t)}catch(d){ae(t,t.return,d)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function kh(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Sh(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qi(4,t)}catch(a){ae(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ae(t,o,a)}}var i=t.return;try{Va(t)}catch(a){ae(t,i,a)}break;case 5:var s=t.return;try{Va(t)}catch(a){ae(t,s,a)}}}catch(a){ae(t,t.return,a)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var ry=Math.ceil,Gi=Et.ReactCurrentDispatcher,Ka=Et.ReactCurrentOwner,et=Et.ReactCurrentBatchConfig,K=0,ge=null,de=null,_e=0,He=0,xr=Yt(0),he=0,Po=null,Rn=0,Ki=0,Qa=0,Ro=null,Ne=null,Ja=0,kr=1/0,It=null,Qi=!1,Ya=null,rn=null,Ji=!1,on=null,Yi=0,jo=0,Xa=null,Xi=-1,Zi=0;function Re(){return K&6?ce():Xi!==-1?Xi:Xi=ce()}function sn(e){return e.mode&1?K&2&&_e!==0?_e&-_e:Uv.transition!==null?(Zi===0&&(Zi=gd()),Zi):(e=Q,e!==0||(e=window.event,e=e===void 0?16:bd(e.type)),e):1}function ut(e,t,n,r){if(50<jo)throw jo=0,Xa=null,Error(P(185));Zr(e,n,r),(!(K&2)||e!==ge)&&(e===ge&&(!(K&2)&&(Ki|=n),he===4&&ln(e,_e)),Me(e,r),n===1&&K===0&&!(t.mode&1)&&(kr=ce()+500,Ti&&Zt()))}function Me(e,t){var n=e.callbackNode;Um(e,t);var r=ai(e,e===ge?_e:0);if(r===0)n!==null&&fd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fd(n),t===1)e.tag===0?zv(Eh.bind(null,e)):cf(Eh.bind(null,e)),Nv(function(){!(K&6)&&Zt()}),n=null;else{switch(md(r)){case 1:n=Al;break;case 4:n=hd;break;case 16:n=oi;break;case 536870912:n=pd;break;default:n=oi}n=Ih(n,bh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bh(e,t){if(Xi=-1,Zi=0,K&6)throw Error(P(327));var n=e.callbackNode;if(Sr()&&e.callbackNode!==n)return null;var r=ai(e,e===ge?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=es(e,r);else{t=r;var o=K;K|=2;var i=Th();(ge!==e||_e!==t)&&(It=null,kr=ce()+500,An(e,t));do try{sy();break}catch(l){Ch(e,l)}while(!0);ma(),Gi.current=i,K=o,de!==null?t=0:(ge=null,_e=0,t=he)}if(t!==0){if(t===2&&(o=Ol(e),o!==0&&(r=o,t=Za(e,o))),t===1)throw n=Po,An(e,0),ln(e,r),Me(e,ce()),n;if(t===6)ln(e,r);else{if(o=e.current.alternate,!(r&30)&&!oy(o)&&(t=es(e,r),t===2&&(i=Ol(e),i!==0&&(r=i,t=Za(e,i))),t===1))throw n=Po,An(e,0),ln(e,r),Me(e,ce()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:On(e,Ne,It);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=Ja+500-ce(),10<t)){if(ai(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Re(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ia(On.bind(null,e,Ne,It),t);break}On(e,Ne,It);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-rt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ry(r/1960))-r,10<r){e.timeoutHandle=ia(On.bind(null,e,Ne,It),r);break}On(e,Ne,It);break;case 5:On(e,Ne,It);break;default:throw Error(P(329))}}}return Me(e,ce()),e.callbackNode===n?bh.bind(null,e):null}function Za(e,t){var n=Ro;return e.current.memoizedState.isDehydrated&&(An(e,t).flags|=256),e=es(e,t),e!==2&&(t=Ne,Ne=n,t!==null&&eu(t)),e}function eu(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function oy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ot(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~Qa,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function Eh(e){if(K&6)throw Error(P(327));Sr();var t=ai(e,0);if(!(t&1))return Me(e,ce()),null;var n=es(e,t);if(e.tag!==0&&n===2){var r=Ol(e);r!==0&&(t=r,n=Za(e,r))}if(n===1)throw n=Po,An(e,0),ln(e,t),Me(e,ce()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,Ne,It),Me(e,ce()),null}function tu(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(kr=ce()+500,Ti&&Zt())}}function jn(e){on!==null&&on.tag===0&&!(K&6)&&Sr();var t=K;K|=1;var n=et.transition,r=Q;try{if(et.transition=null,Q=1,e)return e()}finally{Q=r,et.transition=n,K=t,!(K&6)&&Zt()}}function nu(){He=xr.current,ne(xr)}function An(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lv(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(da(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ei();break;case 3:yr(),ne(Oe),ne(xe),ba();break;case 5:ka(r);break;case 4:yr();break;case 13:ne(se);break;case 19:ne(se);break;case 10:va(r.type._context);break;case 22:case 23:nu()}n=n.return}if(ge=e,de=e=an(e.current,null),_e=He=t,he=0,Po=null,Qa=Ki=Rn=0,Ne=Ro=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Cn=null}return e}function Ch(e,t){do{var n=de;try{if(ma(),$i.current=Fi,Di){for(var r=le.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Di=!1}if(Pn=0,pe=fe=le=null,ko=!1,So=0,Ka.current=null,n===null||n.return===null){he=1,Po=t,de=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=_e,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Yf(s);if(h!==null){h.flags&=-257,Xf(h,s,l,i,t),h.mode&1&&Jf(i,u,t),t=h,a=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(a),t.updateQueue=y}else v.add(a);break e}else{if(!(t&1)){Jf(i,u,t),ru();break e}a=Error(P(426))}}else if(oe&&l.mode&1){var x=Yf(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Xf(x,s,l,i,t),pa(wr(a,l));break e}}i=a=wr(a,l),he!==4&&(he=2),Ro===null?Ro=[i]:Ro.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Kf(i,a,t);xf(i,p);break e;case 1:l=a;var g=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(rn===null||!rn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Qf(i,l,t);xf(i,_);break e}}i=i.return}while(i!==null)}Rh(n)}catch(S){t=S,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Th(){var e=Gi.current;return Gi.current=Fi,e===null?Fi:e}function ru(){(he===0||he===3||he===2)&&(he=4),ge===null||!(Rn&268435455)&&!(Ki&268435455)||ln(ge,_e)}function es(e,t){var n=K;K|=2;var r=Th();(ge!==e||_e!==t)&&(It=null,An(e,t));do try{iy();break}catch(o){Ch(e,o)}while(!0);if(ma(),K=n,Gi.current=r,de!==null)throw Error(P(261));return ge=null,_e=0,he}function iy(){for(;de!==null;)Ph(de)}function sy(){for(;de!==null&&!Am();)Ph(de)}function Ph(e){var t=Oh(e.alternate,e,He);e.memoizedProps=e.pendingProps,t===null?Rh(e):de=t,Ka.current=null}function Rh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Zv(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,de=null;return}}else if(n=Xv(n,t,He),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);he===0&&(he=5)}function On(e,t,n){var r=Q,o=et.transition;try{et.transition=null,Q=1,ly(e,t,n,r)}finally{et.transition=o,Q=r}return null}function ly(e,t,n,r){do Sr();while(on!==null);if(K&6)throw Error(P(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Fm(e,i),e===ge&&(de=ge=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ji||(Ji=!0,Ih(oi,function(){return Sr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=et.transition,et.transition=null;var s=Q;Q=1;var l=K;K|=4,Ka.current=null,ty(e,n),wh(n,e),Tv(ra),di=!!na,ra=na=null,e.current=n,ny(n),Om(),K=l,Q=s,et.transition=i}else e.current=n;if(Ji&&(Ji=!1,on=e,Yi=o),i=e.pendingLanes,i===0&&(rn=null),Nm(n.stateNode),Me(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Qi)throw Qi=!1,e=Ya,Ya=null,e;return Yi&1&&e.tag!==0&&Sr(),i=e.pendingLanes,i&1?e===Xa?jo++:(jo=0,Xa=e):jo=0,Zt(),null}function Sr(){if(on!==null){var e=md(Yi),t=et.transition,n=Q;try{if(et.transition=null,Q=16>e?16:e,on===null)var r=!1;else{if(e=on,on=null,Yi=0,K&6)throw Error(P(331));var o=K;for(K|=4,O=e.current;O!==null;){var i=O,s=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:To(8,c,i)}var f=c.child;if(f!==null)f.return=c,O=f;else for(;O!==null;){c=O;var d=c.sibling,h=c.return;if(ph(c),c===u){O=null;break}if(d!==null){d.return=h,O=d;break}O=h}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}O=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,O=s;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:To(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,O=p;break e}O=i.return}}var g=e.current;for(O=g;O!==null;){s=O;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,O=m;else e:for(s=g;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qi(9,l)}}catch(S){ae(l,l.return,S)}if(l===s){O=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,O=_;break e}O=l.return}}if(K=o,Zt(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(ii,e)}catch{}r=!0}return r}finally{Q=n,et.transition=t}}return!1}function jh(e,t,n){t=wr(n,t),t=Kf(e,t,1),e=tn(e,t,1),t=Re(),e!==null&&(Zr(e,1,t),Me(e,t))}function ae(e,t,n){if(e.tag===3)jh(e,e,n);else for(;t!==null;){if(t.tag===3){jh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rn===null||!rn.has(r))){e=wr(n,e),e=Qf(t,e,1),t=tn(t,e,1),e=Re(),t!==null&&(Zr(t,1,e),Me(t,e));break}}t=t.return}}function ay(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(_e&n)===n&&(he===4||he===3&&(_e&130023424)===_e&&500>ce()-Ja?An(e,0):Qa|=n),Me(e,t)}function Ah(e,t){t===0&&(e.mode&1?(t=li,li<<=1,!(li&130023424)&&(li=4194304)):t=1);var n=Re();e=jt(e,t),e!==null&&(Zr(e,t,n),Me(e,n))}function uy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ah(e,n)}function cy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Ah(e,n)}var Oh;Oh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,Yv(e,t,n);Le=!!(e.flags&131072)}else Le=!1,oe&&t.flags&1048576&&df(t,Ri,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hi(e,t),e=t.pendingProps;var o=dr(t,xe.current);vr(t,n),o=Ta(null,t,r,e,o,n);var i=Pa();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ie(r)?(i=!0,Ci(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,_a(t),o.updater=Bi,t.stateNode=o,o._reactInternals=t,La(t,r,e,n),t=Da(null,t,r,!0,i,n)):(t.tag=0,oe&&i&&ca(t),Pe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=fy(r),e=st(r,e),o){case 0:t=$a(null,t,r,e,n);break e;case 1:t=oh(null,t,r,e,n);break e;case 11:t=Zf(null,t,r,e,n);break e;case 14:t=eh(null,t,r,st(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),$a(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),oh(e,t,r,o,n);case 3:e:{if(ih(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,o=i.element,_f(e,t),Ni(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=wr(Error(P(423)),t),t=sh(e,t,r,n,o);break e}else if(r!==o){o=wr(Error(P(424)),t),t=sh(e,t,r,n,o);break e}else for(We=Jt(t.stateNode.containerInfo.firstChild),Be=t,oe=!0,it=null,n=yf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pr(),r===o){t=Ot(e,t,n);break e}Pe(e,t,r,n)}t=t.child}return t;case 5:return Sf(t),e===null&&ha(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,oa(r,o)?s=null:i!==null&&oa(r,i)&&(t.flags|=32),rh(e,t),Pe(e,t,s,n),t.child;case 6:return e===null&&ha(t),null;case 13:return lh(e,t,n);case 4:return xa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gr(t,null,r,n):Pe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),Zf(e,t,r,o,n);case 7:return Pe(e,t,t.pendingProps,n),t.child;case 8:return Pe(e,t,t.pendingProps.children,n),t.child;case 12:return Pe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,X(Oi,r._currentValue),r._currentValue=s,i!==null)if(ot(i.value,s)){if(i.children===o.children&&!Oe.current){t=Ot(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=At(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),ya(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(P(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ya(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Pe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,vr(t,n),o=Xe(o),r=r(o),t.flags|=1,Pe(e,t,r,n),t.child;case 14:return r=t.type,o=st(r,t.pendingProps),o=st(r.type,o),eh(e,t,r,o,n);case 15:return th(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),Hi(e,t),t.tag=1,Ie(r)?(e=!0,Ci(t)):e=!1,vr(t,n),qf(t,r,o),La(t,r,o,n),Da(null,t,r,!0,e,n);case 19:return uh(e,t,n);case 22:return nh(e,t,n)}throw Error(P(156,t.tag))};function Ih(e,t){return dd(e,t)}function dy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,r){return new dy(e,t,n,r)}function ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fy(e){if(typeof e=="function")return ou(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cl)return 11;if(e===hl)return 14}return 2}function an(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")ou(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Xn:return In(n.children,o,i,t);case al:s=8,o|=8;break;case ul:return e=tt(12,n,t,o|2),e.elementType=ul,e.lanes=i,e;case dl:return e=tt(13,n,t,o),e.elementType=dl,e.lanes=i,e;case fl:return e=tt(19,n,t,o),e.elementType=fl,e.lanes=i,e;case Fc:return ns(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zc:s=10;break e;case Uc:s=9;break e;case cl:s=11;break e;case hl:s=14;break e;case Bt:s=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=tt(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function In(e,t,n,r){return e=tt(7,e,r,t),e.lanes=n,e}function ns(e,t,n,r){return e=tt(22,e,r,t),e.elementType=Fc,e.lanes=n,e.stateNode={isHidden:!1},e}function iu(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function su(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hy(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function lu(e,t,n,r,o,i,s,l,a){return e=new hy(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_a(i),e}function py(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Lh(e){if(!e)return Xt;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ie(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Ie(n))return af(e,n,t)}return t}function Nh(e,t,n,r,o,i,s,l,a){return e=lu(n,r,!0,e,o,i,s,l,a),e.context=Lh(null),n=e.current,r=Re(),o=sn(n),i=At(r,o),i.callback=t??null,tn(n,i,o),e.current.lanes=o,Zr(e,o,r),Me(e,r),e}function rs(e,t,n,r){var o=t.current,i=Re(),s=sn(o);return n=Lh(n),t.context===null?t.context=n:t.pendingContext=n,t=At(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tn(o,t,s),e!==null&&(ut(e,o,s,i),Li(e,o,s)),s}function os(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function au(e,t){Mh(e,t),(e=e.alternate)&&Mh(e,t)}function gy(){return null}var $h=typeof reportError=="function"?reportError:function(e){console.error(e)};function uu(e){this._internalRoot=e}is.prototype.render=uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));rs(e,t,null,null)},is.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){rs(null,e,null,null)}),t[Ct]=null}};function is(e){this._internalRoot=e}is.prototype.unstable_scheduleHydration=function(e){if(e){var t=wd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gt.length&&t!==0&&t<Gt[n].priority;n++);Gt.splice(n,0,e),n===0&&kd(e)}};function cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ss(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dh(){}function my(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=os(s);i.call(u)}}var s=Nh(t,r,e,0,null,!1,!1,"",Dh);return e._reactRootContainer=s,e[Ct]=s.current,po(e.nodeType===8?e.parentNode:e),jn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=os(a);l.call(u)}}var a=lu(e,0,!1,null,null,!1,!1,"",Dh);return e._reactRootContainer=a,e[Ct]=a.current,po(e.nodeType===8?e.parentNode:e),jn(function(){rs(t,a,n,r)}),a}function ls(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=os(s);l.call(a)}}rs(t,s,e,o)}else s=my(n,t,e,o,r);return os(s)}vd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xr(t.pendingLanes);n!==0&&(Ll(t,n|1),Me(t,ce()),!(K&6)&&(kr=ce()+500,Zt()))}break;case 13:jn(function(){var r=jt(e,1);if(r!==null){var o=Re();ut(r,e,1,o)}}),au(e,1)}},Nl=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var n=Re();ut(t,e,134217728,n)}au(e,134217728)}},yd=function(e){if(e.tag===13){var t=sn(e),n=jt(e,t);if(n!==null){var r=Re();ut(n,e,t,r)}au(e,t)}},wd=function(){return Q},_d=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}},Tl=function(e,t,n){switch(t){case"input":if(wl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=bi(r);if(!o)throw Error(P(90));Hc(r),wl(r,o)}}}break;case"textarea":Qc(e,n);break;case"select":t=n.value,t!=null&&Zn(e,!!n.multiple,t,!1)}},od=tu,id=jn;var vy={usingClientEntryPoint:!1,Events:[vo,ur,bi,nd,rd,tu]},Ao={findFiberByHostInstance:kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yy={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ud(e),e===null?null:e.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||gy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{ii=as.inject(yy),gt=as}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vy,ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cu(t))throw Error(P(200));return py(e,t,null,n)},ze.createRoot=function(e,t){if(!cu(e))throw Error(P(299));var n=!1,r="",o=$h;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=lu(e,1,!1,null,null,n,!1,r,o),e[Ct]=t.current,po(e.nodeType===8?e.parentNode:e),new uu(t)},ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=ud(t),e=e===null?null:e.stateNode,e},ze.flushSync=function(e){return jn(e)},ze.hydrate=function(e,t,n){if(!ss(t))throw Error(P(200));return ls(null,e,t,!0,n)},ze.hydrateRoot=function(e,t,n){if(!cu(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=$h;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Nh(t,null,e,1,n??null,o,!1,i,s),e[Ct]=t.current,po(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new is(t)},ze.render=function(e,t,n){if(!ss(t))throw Error(P(200));return ls(null,e,t,!1,n)},ze.unmountComponentAtNode=function(e){if(!ss(e))throw Error(P(40));return e._reactRootContainer?(jn(function(){ls(null,null,e,!1,function(){e._reactRootContainer=null,e[Ct]=null})}),!0):!1},ze.unstable_batchedUpdates=tu,ze.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ss(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return ls(e,t,n,!1,r)},ze.version="18.3.1-next-f1338f8080-20240426";function zh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zh)}catch(e){console.error(e)}}zh(),Ic.exports=ze;var du=Ic.exports,Uh,Fh=du;Uh=Fh.createRoot,Fh.hydrateRoot;var Bh={exports:{}},us={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=w,_y=Symbol.for("react.element"),xy=Symbol.for("react.fragment"),ky=Object.prototype.hasOwnProperty,Sy=wy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,by={key:!0,ref:!0,__self:!0,__source:!0};function Wh(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)ky.call(t,r)&&!by.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:_y,type:e,key:i,ref:s,props:o,_owner:Sy.current}}us.Fragment=xy,us.jsx=Wh,us.jsxs=Wh,Bh.exports=us;var k=Bh.exports;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hh=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...l},a)=>w.createElement("svg",{ref:a,...Cy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Hh("lucide",o),...l},[...s.map(([u,c])=>w.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,t)=>{const n=w.forwardRef(({className:r,...o},i)=>w.createElement(Ty,{ref:i,iconNode:t,className:Hh(`lucide-${Ey(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=Ee("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Ee("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=Ee("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Ee("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Ee("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Uy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Promise.resolve().then(()=>Er).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class fu extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Fy extends fu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class By extends fu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Wy extends fu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hu||(hu={}));var Hy=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class Vy{constructor(t,{headers:n={},customFetch:r,region:o=hu.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=Uy(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Hy(this,void 0,void 0,function*(){try{const{headers:o,method:i,body:s}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(l["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(l["Content-Type"]="application/json",u=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),o),body:u}).catch(v=>{throw new Fy(v)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new By(c);if(!c.ok)throw new Wy(c);let d=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield c.json():d==="application/octet-stream"?h=yield c.blob():d==="text/event-stream"?h=c:d==="multipart/form-data"?h=yield c.formData():h=yield c.text(),{data:h,error:null}}catch(o){return{data:null,error:o}}})}}var $e={},pu={},ds={},Oo={},fs={},hs={},qy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},br=qy();const Gy=br.fetch,Kh=br.fetch.bind(br),Qh=br.Headers,Ky=br.Request,Qy=br.Response,Er=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qh,Request:Ky,Response:Qy,default:Kh,fetch:Gy},Symbol.toStringTag,{value:"Module"})),Jy=Xg(Er);var ps={};Object.defineProperty(ps,"__esModule",{value:!0});let Yy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ps.default=Yy;var Jh=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});const Xy=Jh(Jy),Zy=Jh(ps);let e0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Xy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,l,a;let u=null,c=null,f=null,d=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=p:c=JSON.parse(p))}const y=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,d=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(c=[],u=null,d=200,h="OK")}catch{i.status===404&&y===""?(d=204,h="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,d=200,h="OK"),u&&this.shouldThrowOnError)throw new Zy.default(u)}return{error:u,data:c,count:f,status:d,statusText:h}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,l,a;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};hs.default=e0;var t0=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fs,"__esModule",{value:!0});const n0=t0(hs);let r0=class extends n0.default{select(t){let n=!1;const r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){const s=i?`${i}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){const i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var l;const a=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${a};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};fs.default=r0;var o0=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oo,"__esModule",{value:!0});const i0=o0(fs);let s0=class extends i0.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Oo.default=s0;var l0=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ds,"__esModule",{value:!0});const Io=l0(Oo);let a0=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Io.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const s=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(s.length>0){const l=[...new Set(s)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Io.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){const s="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),o&&l.push(`count=${o}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Io.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new Io.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Io.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ds.default=a0;var gs={},ms={};Object.defineProperty(ms,"__esModule",{value:!0}),ms.version=void 0,ms.version="0.0.0-automated",Object.defineProperty(gs,"__esModule",{value:!0}),gs.DEFAULT_HEADERS=void 0;const u0=ms;gs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${u0.version}`};var Yh=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pu,"__esModule",{value:!0});const c0=Yh(ds),d0=Yh(Oo),f0=gs;let h0=class Jg{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},f0.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new c0.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Jg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){let s;const l=new URL(`${this.url}/rpc/${t}`);let a;r||o?(s=r?"HEAD":"GET",Object.entries(n).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{l.searchParams.append(c,f)})):(s="POST",a=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new d0.default({method:s,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};pu.default=h0;var Cr=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0}),$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const Xh=Cr(pu);$e.PostgrestClient=Xh.default;const Zh=Cr(ds);$e.PostgrestQueryBuilder=Zh.default;const ep=Cr(Oo);$e.PostgrestFilterBuilder=ep.default;const tp=Cr(fs);$e.PostgrestTransformBuilder=tp.default;const np=Cr(hs);$e.PostgrestBuilder=np.default;const rp=Cr(ps);$e.PostgrestError=rp.default;var p0=$e.default={PostgrestClient:Xh.default,PostgrestQueryBuilder:Zh.default,PostgrestFilterBuilder:ep.default,PostgrestTransformBuilder:tp.default,PostgrestBuilder:np.default,PostgrestError:rp.default};const{PostgrestClient:g0,PostgrestQueryBuilder:sk,PostgrestFilterBuilder:lk,PostgrestTransformBuilder:ak,PostgrestBuilder:uk,PostgrestError:ck}=p0;let gu;typeof window>"u"?gu=require("ws"):gu=window.WebSocket;const m0=gu,v0={"X-Client-Info":"realtime-js/2.11.10"},y0="1.0.0",op=1e4,w0=1e3;var Tr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Tr||(Tr={}));var je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(je||(je={}));var ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ct||(ct={}));var mu;(function(e){e.websocket="websocket"})(mu||(mu={}));var Ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ln||(Ln={}));class _0{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const l=r.decode(t.slice(s,s+o));s=s+o;const a=r.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class ip{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Z||(Z={}));const sp=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=x0(s,e,t,o),i),{})},x0=(e,t,n,r)=>{const o=t.find(l=>l.name===e),i=o==null?void 0:o.type,s=n[e];return i&&!r.includes(i)?lp(i,s):vu(s)},lp=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return E0(t,n)}switch(e){case Z.bool:return k0(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return S0(t);case Z.json:case Z.jsonb:return b0(t);case Z.timestamp:return C0(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return vu(t);default:return vu(t)}},vu=e=>e,k0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},S0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},b0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},E0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>lp(t,l))}return e},C0=e=>typeof e=="string"?e.replace(" ","T"):e,ap=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class yu{constructor(t,n,r={},o=op){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var up;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(up||(up={}));class Lo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lo.syncState(this.state,o,i,s),this.pendingDiffs.forEach(a=>{this.state=Lo.syncDiff(this.state,a,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},o=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Lo.syncDiff(this.state,o,i,s),l())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const i=this.cloneDeep(t),s=this.transformState(n),l={},a={};return this.map(i,(u,c)=>{s[u]||(a[u]=c)}),this.map(s,(u,c)=>{const f=i[u];if(f){const d=c.map(x=>x.presence_ref),h=f.map(x=>x.presence_ref),v=c.filter(x=>h.indexOf(x.presence_ref)<0),y=f.filter(x=>d.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),y.length>0&&(a[u]=y)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},r,o)}static syncDiff(t,n,r,o){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(a),c.length>0){const f=t[l].map(h=>h.presence_ref),d=c.filter(h=>f.indexOf(h.presence_ref)<0);t[l].unshift(...d)}r(l,c,a)}),this.map(s,(l,a)=>{let u=t[l];if(!u)return;const c=a.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[l]=u,o(l,u,a),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cp||(cp={}));var dp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dp||(dp={}));var Lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lt||(Lt={}));class wu{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yu(this,ct.join,this.params,this.timeout),this.rejoinTimer=new ip(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new Lo(this),this.broadcastEndpointURL=ap(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:l}}=this.params;this._onError(c=>t==null?void 0:t(Lt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(Lt.CLOSED));const a={},u={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&o!==void 0?o:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){t==null||t(Lt.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,h=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,v=[];for(let y=0;y<h;y++){const x=d[y],{filter:{event:p,schema:g,table:m,filter:_}}=x,S=c&&c[y];if(S&&S.event===p&&S.schema===g&&S.table===m&&S.filter===_)v.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),this.state=je.errored,t==null||t(Lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Lt.SUBSCRIBED);return}}).receive("error",c=>{this.state=je.errored,t==null||t(Lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,a;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const o=new yu(this,ct.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new yu(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;const s=t.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=ct;if(r&&[l,a,u,c].indexOf(s)>=0&&r!==this._joinRef())return;let d=this._onMessage(s,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var v,y,x;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(y=h.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(h=>h.callback(d,r)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var v,y,x,p,g,m;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const _=h.id,S=(v=h.filter)===null||v===void 0?void 0:v.event;return _&&((y=n.ids)===null||y===void 0?void 0:y.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(g=(p=h==null?void 0:h.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:y,table:x,commit_timestamp:p,type:g,errors:m}=v;d=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:p,eventType:g,new:{},old:{},errors:m}),this._getPayloadRecords(v))}h.callback(d,r)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&wu.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ct.close,{},t)}_onError(t){this._on(ct.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=sp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=sp(t.columns,t.old_record)),n}}const fp=()=>{},T0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class P0{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=v0,this.params={},this.timeout=op,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fp,this.ref=0,this.logger=fp,this.conn=null,this.sendBuffer=[],this.serializer=new _0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...l)=>Promise.resolve().then(()=>Er).then(({default:a})=>a(...l)):s=fetch,(...l)=>s(...l)},this.endPoint=`${t}/${mu.websocket}`,this.httpEndpoint=ap(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ip(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=m0),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new R0(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:y0}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Tr.connecting:return Ln.Connecting;case Tr.open:return Ln.Open;case Tr.closing:return Ln.Closing;default:return Ln.Closed}}isConnected(){return this.connectionState()===Ln.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{const i=new wu(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(ct.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(w0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ct.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([T0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class R0{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Tr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class _u extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class j0 extends _u{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class xu extends _u{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var A0=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const hp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Promise.resolve().then(()=>Er).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},O0=()=>A0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(()=>Er)).Response:Response}),ku=e=>{if(Array.isArray(e))return e.map(n=>ku(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=ku(r)}),t};var Nn=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const Su=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),I0=(e,t,n)=>Nn(void 0,void 0,void 0,function*(){const r=yield O0();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{t(new j0(Su(o),e.status||500))}).catch(o=>{t(new xu(Su(o),o))}):t(new xu(Su(e),e))}),L0=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function No(e,t,n,r,o,i){return Nn(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,L0(t,r,o,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>s(a)).catch(a=>I0(a,l,r))})})}function vs(e,t,n,r){return Nn(this,void 0,void 0,function*(){return No(e,"GET",t,n,r)})}function un(e,t,n,r,o){return Nn(this,void 0,void 0,function*(){return No(e,"POST",t,r,o,n)})}function N0(e,t,n,r,o){return Nn(this,void 0,void 0,function*(){return No(e,"PUT",t,r,o,n)})}function M0(e,t,n,r){return Nn(this,void 0,void 0,function*(){return No(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function pp(e,t,n,r,o){return Nn(this,void 0,void 0,function*(){return No(e,"DELETE",t,r,o,n)})}var De=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const $0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class D0{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=hp(o)}uploadOrUpdate(t,n,r,o){return De(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},gp),o);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const a=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),o!=null&&o.headers&&(l=Object.assign(Object.assign({},l),o.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{})),d=yield f.json();return f.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(me(i))return{data:null,error:i};throw i}})}upload(t,n,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return De(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:gp.upsert},o),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:c}),d=yield f.json();return f.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(a){if(me(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,n){return De(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const i=yield un(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),l=s.searchParams.get("token");if(!l)throw new _u("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}update(t,n,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return De(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}copy(t,n,r){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield un(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return De(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield un(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return De(this,void 0,void 0,function*(){try{const o=yield un(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}download(t,n){return De(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield vs(this.fetch,`${this.url}/${o}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(me(l))return{data:null,error:l};throw l}})}info(t){return De(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield vs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ku(r),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}exists(t){return De(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield M0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(me(r)&&r instanceof xu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&o.push(a);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return De(this,void 0,void 0,function*(){try{return{data:yield pp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}list(t,n,r){return De(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},$0),n),{prefix:t||""});return{data:yield un(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(me(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const z0={"X-Client-Info":"storage-js/2.7.1"};var Pr=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class U0{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},z0),n),this.fetch=hp(r)}listBuckets(){return Pr(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}getBucket(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield vs(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Pr(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Pr(this,void 0,void 0,function*(){try{return{data:yield N0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield un(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield pp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}}class F0 extends U0{constructor(t,n={},r){super(t,n,r)}from(t){return new D0(this.url,this.headers,t,this.fetch)}}const B0="2.50.0";let Mo="";typeof Deno<"u"?Mo="deno":typeof document<"u"?Mo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mo="react-native":Mo="node";const W0={headers:{"X-Client-Info":`supabase-js-${Mo}/${B0}`}},H0={schema:"public"},V0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q0={};var G0=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};const K0=e=>{let t;return e?t=e:typeof fetch>"u"?t=Kh:t=fetch,(...n)=>t(...n)},Q0=()=>typeof Headers>"u"?Qh:Headers,J0=(e,t,n)=>{const r=K0(n),o=Q0();return(i,s)=>G0(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let u=new o(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},s),{headers:u}))})};var Y0=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};function X0(e){return e.endsWith("/")?e:e+"/"}function Z0(e,t){var n,r;const{db:o,auth:i,realtime:s,global:l}=e,{db:a,auth:u,realtime:c,global:f}=t,d={db:Object.assign(Object.assign({},a),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Y0(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const mp="2.70.0",Rr=30*1e3,bu=3,Eu=bu*Rr,ew="http://localhost:9999",tw="supabase.auth.token",nw={"X-Client-Info":`gotrue-js/${mp}`},Cu="X-Supabase-Api-Version",vp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ow=6e5;class Tu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class iw extends Tu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function sw(e){return D(e)&&e.name==="AuthApiError"}class yp extends Tu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class cn extends Tu{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class dn extends cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lw(e){return D(e)&&e.name==="AuthSessionMissingError"}class ys extends cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ws extends cn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _s extends cn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aw(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class wp extends cn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pu extends cn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ru(e){return D(e)&&e.name==="AuthRetryableFetchError"}class _p extends cn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class $o extends cn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xp=` 	
\r=`.split(""),uw=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xp.length;t+=1)e[xp[t].charCodeAt(0)]=-2;for(let t=0;t<xs.length;t+=1)e[xs[t].charCodeAt(0)]=t;return e})();function kp(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xs[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(xs[r]),t.queuedBits-=6}}function Sp(e,t,n){const r=uw[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bp(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{fw(s,r,n)};for(let s=0;s<e.length;s+=1)Sp(e.charCodeAt(s),o,i);return t.join("")}function cw(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dw(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}cw(r,t)}}function fw(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function hw(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Sp(e.charCodeAt(o),n,r);return new Uint8Array(t)}function pw(e){const t=[];return dw(e,n=>t.push(n)),new Uint8Array(t)}function gw(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>kp(o,n,r)),kp(null,n,r),t.join("")}function mw(e){return Math.round(Date.now()/1e3)+e}function vw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dt=()=>typeof window<"u"&&typeof document<"u",Mn={tested:!1,writable:!1},Do=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mn.tested)return Mn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Mn.tested=!0,Mn.writable=!0}catch{Mn.tested=!0,Mn.writable=!1}return Mn.writable};function yw(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const Ep=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Promise.resolve().then(()=>Er).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ww=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cp=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ks=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ss=async(e,t)=>{await e.removeItem(t)};class bs{constructor(){this.promise=new bs.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}bs.promiseConstructor=Promise;function ju(e){const t=e.split(".");if(t.length!==3)throw new $o("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!rw.test(t[r]))throw new $o("JWT not in base64url format");return{header:JSON.parse(bp(t[0])),payload:JSON.parse(bp(t[1])),signature:hw(t[2]),raw:{header:t[0],payload:t[1]}}}async function _w(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function xw(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function kw(e){return("0"+e.toString(16)).substr(-2)}function Sw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,kw).join("")}async function bw(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function Ew(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await bw(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jr(e,t,n=!1){const r=Sw();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Cp(e,`${t}-code-verifier`,o);const i=await Ew(r);return[i,r===i?"plain":"s256"]}const Cw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tw(e){const t=e.headers.get(Cu);if(!t||!t.match(Cw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Pw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Rw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ar(e){if(!jw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Aw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const $n=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ow=[502,503,504];async function Tp(e){var t;if(!ww(e))throw new Pu($n(e),0);if(Ow.includes(e.status))throw new Pu($n(e),e.status);let n;try{n=await e.json()}catch(i){throw new yp($n(i),i)}let r;const o=Tw(e);if(o&&o.getTime()>=vp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _p($n(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new dn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new _p($n(n),e.status,n.weak_password.reasons);throw new iw($n(n),e.status||500,r)}const Iw=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function V(e,t,n,r){var o;const i=Object.assign({},r==null?void 0:r.headers);i[Cu]||(i[Cu]=vp["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",a=await Lw(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Lw(e,t,n,r,o,i){const s=Iw(t,r,o,i);let l;try{l=await e(n,Object.assign({},s))}catch(a){throw console.error(a),new Pu($n(a),0)}if(l.ok||await Tp(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Tp(a)}}function Nt(e){var t;let n=null;Dw(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=mw(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Pp(e){const t=Nt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Nw(e){return{data:e,error:null}}function Mw(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=Aw(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},a=Object.assign({},s);return{data:{properties:l,user:a},error:null}}function $w(e){return e}function Dw(e){return e.access_token&&e.refresh_token&&e.expires_in}const Au=["global","local","others"];var zw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class Uw{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Ep(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Au[0]){if(Au.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Au.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fn})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=zw(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Mw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fn})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:$w});if(c.error)throw c.error;const f=await c.json(),d=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return h.length>0&&(h.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ar(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fn})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ar(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:fn})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ar(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:fn})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ar(t.userId);try{const{data:n,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ar(t.userId),Ar(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}const Fw={getItem:e=>Do()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Do()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Do()&&globalThis.localStorage.removeItem(e)}};function Rp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Bw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Or={debug:!!(globalThis&&Do()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ww extends jp{}async function Hw(e,t,n){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ww(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Or.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Bw();const Vw={url:ew,storageKey:tw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ap(e,t,n){return await n()}class zo{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zo.nextInstanceID,zo.nextInstanceID+=1,this.instanceID>0&&dt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Vw),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Uw({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ep(o.fetch),this.lock=o.lock||Ap,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:dt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Hw:this.lock=Ap,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Do()?this.storage=Fw:(this.memoryStorage={},this.storage=Rp(this.memoryStorage)):(this.memoryStorage={},this.storage=Rp(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mp}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=yw(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),dt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),aw(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?{error:n}:{error:new yp("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Nt}),{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const a=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,o;try{let i;if("email"in t){const{email:c,password:f,options:d}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await jr(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:v},xform:Nt})}else if("phone"in t){const{phone:c,password:f,options:d}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Nt})}else throw new ws("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const a=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:s,options:l}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pp})}else if("phone"in t){const{phone:i,password:s,options:l}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pp})}else throw new ws("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ys}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,o,i,s,l,a,u,c,f,d,h;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:x,wallet:p,statement:g,options:m}=t;let _;if(dt())if(typeof p=="object")_=p;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const S=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let E;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")E=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)E=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),y=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(o=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((s=m==null?void 0:m.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=b}}try{const{data:x,error:p}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:gw(y)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Nt});if(p)throw p;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new ys}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:p})}catch(x){if(D(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await ks(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:i,error:s}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Nt});if(await Ss(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ys}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:s})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:i,nonce:s}=t,l=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Nt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ys}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,i,s;try{if("email"in t){const{email:l,options:a}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await jr(this.storage,this.storageKey));const{error:f}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:a}=t,{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=a==null?void 0:a.data)!==null&&o!==void 0?o:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(s=a==null?void 0:a.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ws("You must provide either an email or phone number.")}catch(l){if(D(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let o,i;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:l}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:Nt});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const a=s.session,u=s.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(o){if(D(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await jr(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Nw})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new dn;const{error:o}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(D(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:i}=t,{error:s}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:r,type:o,options:i}=t,{data:s,error:l}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new ws("You must provide either an email or phone number and a type")}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Eu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,u,c)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:t},error:null}}const{session:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fn}):await this._useSession(async n=>{var r,o,i;const{data:s,error:l}=n;if(l)throw l;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:fn})})}catch(n){if(D(n))return lw(n)&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:i}=r;if(i)throw i;if(!o.session)throw new dn;const s=o.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await jr(this.storage,this.storageKey));const{data:u,error:c}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:s.access_token,xform:fn});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dn;const n=Date.now()/1e3;let r=n,o=!0,i=null;const{payload:s}=ju(t.access_token);if(s.exp&&(r=s.exp,o=r<=n),o){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(D(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:l}=n;if(l)throw l;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new dn;const{session:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!dt())throw new _s("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _s(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new wp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _s("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wp("No code detected.");const{data:g,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:i,refresh_token:s,expires_in:l,expires_at:a,token_type:u}=t;if(!i||!l||!s||!u)throw new _s("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(l);let d=c+f;a&&(d=parseInt(a));const h=d-c;h*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=d-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,c);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const p={provider_token:r,provider_refresh_token:o,access_token:i,expires_in:f,expires_at:d,refresh_token:s,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ks(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{error:i};const s=(r=o.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(sw(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=vw(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:i},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await jr(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:o}=await this._useSession(async i=>{var s,l,a,u,c;const{data:f,error:d}=i;if(d)throw d;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(o)throw o;return dt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)throw s;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await xw(async o=>(o>0&&await _w(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nt})),(o,i)=>{const s=200*Math.pow(2,o);return i&&Ru(i)&&Date.now()+s-r<Rr})}catch(r){if(this._debug(n,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),dt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ks(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Eu;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Eu}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Ru(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new bs;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new dn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(o,"error",i),D(i)){const s={session:null,error:i};return Ru(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(a){i.push(a)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Cp(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ss(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Rr}ms, refresh threshold is ${bu} ticks`),o<=bu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,s]=await jr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);o.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=a==null?void 0:a.totp)===null||o===void 0)&&o.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{data:null,error:i};const{data:s,error:l}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],o=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:o,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:i}=t;if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ju(o.access_token);let l=null;s.aal&&(l=s.aal);let a=l;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=s.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r||(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+ow>Date.now()))return r;const{data:o,error:i}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!o.keys||o.keys.length===0)throw new $o("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(s=>s.kid===t),!r)throw new $o("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};r=h.session.access_token}const{header:o,payload:i,signature:s,raw:{header:l,payload:a}}=ju(r);if(Pw(i.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:o,signature:s},error:null}}const u=Rw(o.alg),c=await this.fetchJwk(o.kid,n),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,pw(`${l}.${a}`)))throw new $o("Invalid JWT signature");return{data:{claims:i,header:o,signature:s},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}zo.nextInstanceID=0;const qw=zo;class Gw extends qw{constructor(t){super(t)}}var Kw=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(l,a)}u((r=r.apply(e,t||[])).next())})};class Qw{constructor(t,n,r){var o,i,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=X0(t),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:H0,realtime:q0,auth:Object.assign(Object.assign({},V0),{storageKey:u}),global:W0},f=Z0(r??{},c);this.storageKey=(o=f.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=f.auth)!==null&&s!==void 0?s:{},this.headers,f.global.fetch),this.fetch=J0(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new g0(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Vy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new F0(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Kw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:l,debug:a},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gw({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,lock:l,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new P0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jw=((e,t,n)=>new Qw(e,t,n))("https://fhsjhoygllcchfinalih.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZoc2pob3lnbGxjY2hmaW5hbGloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4MzcsImV4cCI6MjA2MzU5NzgzN30.2TEzTNMYMcVuBoC9t1zdkjZ66FosDzO-byE6WylI9Gg"),Yw=({onTranscription:e,isVoiceEnabled:t,autoPlayResponses:n})=>{const[r,o]=w.useState(!1),[i,s]=w.useState(!1),[l,a]=w.useState(0),[u,c]=w.useState(!1),[f,d]=w.useState(!1),[h,v]=w.useState("bark"),y=w.useRef(null),x=w.useRef([]),p=w.useRef(null),g=w.useRef(null),m=w.useRef(null),_=w.useRef(null);if(!t)return{isRecording:!1,isProcessing:!1,recordingTimer:0,isSpeaking:!1,voicePermissionDenied:!1,selectedVoice:"bark",startRecording:()=>{},stopRecording:()=>{},speakText:()=>{},stopSpeaking:()=>{},setSelectedVoice:()=>{}};w.useEffect(()=>{if(typeof window<"u"&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)){const N=window.webkitSpeechRecognition||window.SpeechRecognition;p.current=new N,p.current.continuous=!1,p.current.interimResults=!0,p.current.lang="en-US",p.current.onresult=I=>{const J=Array.from(I.results).map(B=>B[0]).map(B=>B.transcript).join("");I.results[I.results.length-1].isFinal&&(e(J),R())},p.current.onerror=I=>{console.error("Speech recognition error:",I.error),I.error==="not-allowed"&&d(!0),R()},p.current.onend=()=>{s(!1)}}},[e]);const S=w.useCallback(()=>{a(0),g.current=setInterval(()=>{a(N=>N>=14?(R(),0):N+1)},1e3)},[]),b=w.useCallback(()=>{g.current&&(clearInterval(g.current),g.current=null),a(0)},[]),E=w.useCallback(async()=>{if(!(!t||f))try{const N=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});m.current=N,d(!1),o(!0),x.current=[],S(),p.current?(s(!0),p.current.start()):(y.current=new MediaRecorder(N,{mimeType:"audio/webm;codecs=opus"}),y.current.ondataavailable=I=>{I.data.size>0&&x.current.push(I.data)},y.current.onstop=async()=>{s(!0);const I=new Blob(x.current,{type:"audio/webm"});await $(I)},y.current.start())}catch(N){console.error("Error accessing microphone:",N),d(!0),o(!1)}},[t,f,S]),R=w.useCallback(()=>{if(t){if(o(!1),b(),p.current)try{p.current.stop()}catch{console.log("Speech recognition already stopped")}y.current&&y.current.state==="recording"&&y.current.stop(),m.current&&(m.current.getTracks().forEach(N=>N.stop()),m.current=null)}},[b]),$=async N=>{try{const I=await N.arrayBuffer(),J=btoa(String.fromCharCode(...new Uint8Array(I)));console.log("Would transcribe audio with Whisper API"),s(!1)}catch(I){console.error("Error transcribing audio:",I),s(!1)}},A=w.useCallback(async N=>{if(!(!t||!n||!N.trim())){M(),c(!0);try{console.log("Generating TTS with Together AI...");const{data:I,error:J}=await Jw.functions.invoke("together-tts",{body:{text:N.trim(),voice:h}});if(J){console.error("TTS error:",J),q(N);return}if(I!=null&&I.audioContent){const B=Uint8Array.from(atob(I.audioContent),L=>L.charCodeAt(0)),G=new Blob([B],{type:"audio/wav"}),T=URL.createObjectURL(G),j=new Audio(T);_.current=j,j.onloadeddata=()=>{console.log("Audio loaded, playing..."),j.play().catch(L=>{console.error("Error playing audio:",L),c(!1)})},j.onended=()=>{c(!1),URL.revokeObjectURL(T),_.current=null},j.onerror=()=>{console.error("Audio playback error"),c(!1),URL.revokeObjectURL(T),_.current=null,q(N)}}else throw new Error("No audio content received")}catch(I){console.error("Error with Together AI TTS:",I),q(N)}}},[t,n,h]),q=w.useCallback(N=>{if(!t||typeof window>"u"||!window.speechSynthesis){c(!1);return}console.log("Using browser TTS fallback"),window.speechSynthesis.cancel();const I=new SpeechSynthesisUtterance(N);I.rate=.9,I.pitch=1,I.volume=.8;const B=window.speechSynthesis.getVoices().find(G=>G.name.includes("Natural")||G.name.includes("Enhanced")||G.name.includes("Premium"));B&&(I.voice=B),I.onstart=()=>c(!0),I.onend=()=>c(!1),I.onerror=()=>c(!1),window.speechSynthesis.speak(I)},[t]),M=w.useCallback(()=>{_.current&&(_.current.pause(),_.current=null),typeof window<"u"&&window.speechSynthesis&&window.speechSynthesis.cancel(),c(!1)},[t]);return w.useEffect(()=>()=>{b(),m.current&&m.current.getTracks().forEach(N=>N.stop()),M()},[b,M]),{isRecording:r,isProcessing:i,recordingTimer:l,isSpeaking:u,voicePermissionDenied:f,selectedVoice:h,startRecording:E,stopRecording:R,speakText:A,stopSpeaking:M,setSelectedVoice:v}},Xw=({isRecording:e,isProcessing:t,recordingTimer:n,isSpeaking:r,voicePermissionDenied:o,isVoiceEnabled:i,onStartRecording:s,onStopRecording:l,onToggleVoice:a,onStopSpeaking:u,primaryColor:c})=>k.jsxs("div",{className:"voice-controls",style:{display:"flex",alignItems:"center",gap:"8px"},children:[k.jsx("button",{onClick:a,className:"chatbot-widget-button",style:{color:i?c:"#9ca3af",padding:"6px"},title:i?"Voice enabled":"Voice disabled",children:i?k.jsx(Vh,{size:16}):k.jsx(qh,{size:16})}),i&&!o&&k.jsxs(k.Fragment,{children:[!e&&!t&&!r&&k.jsx("button",{onClick:s,className:"chatbot-widget-voice-button",style:{backgroundColor:c,color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},onMouseEnter:f=>{f.currentTarget.style.transform="scale(1.05)"},onMouseLeave:f=>{f.currentTarget.style.transform="scale(1)"},title:"Click to start voice recording",children:k.jsx(Iy,{size:18})}),(e||t)&&k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[k.jsx("button",{onClick:l,className:"chatbot-widget-voice-button",style:{backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",animation:e?"chatbot-pulse 1.5s infinite":"none"},title:"Click to stop recording",children:t?k.jsx(zy,{size:14}):k.jsx(Oy,{size:18})}),e&&k.jsxs("div",{style:{fontSize:"12px",color:"#ef4444",fontWeight:"600",minWidth:"30px"},children:[Math.max(0,15-n),"s"]}),t&&k.jsx("div",{style:{fontSize:"12px",color:c,fontWeight:"500"},children:"Processing..."})]}),r&&k.jsx("button",{onClick:u,className:"chatbot-widget-voice-button",style:{backgroundColor:c,color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",animation:"chatbot-pulse 2s infinite"},title:"Click to stop speaking",children:k.jsx(qh,{size:18})})]}),o&&k.jsx("div",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"500",maxWidth:"120px",lineHeight:"1.2"},children:"Mic access denied"})]});function Mt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Zw(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Op(...e){return t=>e.forEach(n=>Zw(n,t))}function Dn(...e){return w.useCallback(Op(...e),e)}function e1(e,t=[]){let n=[];function r(i,s){const l=w.createContext(s),a=n.length;n=[...n,s];const u=f=>{var p;const{scope:d,children:h,...v}=f,y=((p=d==null?void 0:d[e])==null?void 0:p[a])||l,x=w.useMemo(()=>v,Object.values(v));return k.jsx(y.Provider,{value:x,children:h})};u.displayName=i+"Provider";function c(f,d){var y;const h=((y=d==null?void 0:d[e])==null?void 0:y[a])||l,v=w.useContext(h);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,c]}const o=()=>{const i=n.map(s=>w.createContext(s));return function(l){const a=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:a}}),[l,a])}};return o.scopeName=e,[r,t1(o,...t)]}function t1(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((l,{useScope:a,scopeName:u})=>{const f=a(i)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Ip=w.forwardRef((e,t)=>{const{children:n,...r}=e,o=w.Children.toArray(n),i=o.find(n1);if(i){const s=i.props.children,l=o.map(a=>a===i?w.Children.count(s)>1?w.Children.only(null):w.isValidElement(s)?s.props.children:null:a);return k.jsx(Ou,{...r,ref:t,children:w.isValidElement(s)?w.cloneElement(s,void 0,l):null})}return k.jsx(Ou,{...r,ref:t,children:n})});Ip.displayName="Slot";var Ou=w.forwardRef((e,t)=>{const{children:n,...r}=e;if(w.isValidElement(n)){const o=o1(n);return w.cloneElement(n,{...r1(r,n.props),ref:t?Op(t,o):o})}return w.Children.count(n)>1?w.Children.only(null):null});Ou.displayName="SlotClone";var Lp=({children:e})=>k.jsx(k.Fragment,{children:e});function n1(e){return w.isValidElement(e)&&e.type===Lp}function r1(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...l)=>{i(...l),o(...l)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function o1(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var i1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],zn=i1.reduce((e,t)=>{const n=w.forwardRef((r,o)=>{const{asChild:i,...s}=r,l=i?Ip:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(l,{...s,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function s1(e,t){e&&du.flushSync(()=>e.dispatchEvent(t))}function Ir(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function l1(e,t=globalThis==null?void 0:globalThis.document){const n=Ir(e);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var a1="DismissableLayer",Iu="dismissableLayer.update",u1="dismissableLayer.pointerDownOutside",c1="dismissableLayer.focusOutside",Np,Mp=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$p=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...a}=e,u=w.useContext(Mp),[c,f]=w.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=w.useState({}),v=Dn(t,E=>f(E)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(x),g=c?y.indexOf(c):-1,m=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=p,S=h1(E=>{const R=E.target,$=[...u.branches].some(A=>A.contains(R));!_||$||(o==null||o(E),s==null||s(E),E.defaultPrevented||l==null||l())},d),b=p1(E=>{const R=E.target;[...u.branches].some(A=>A.contains(R))||(i==null||i(E),s==null||s(E),E.defaultPrevented||l==null||l())},d);return l1(E=>{g===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},d),w.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Np=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Dp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Np)}},[c,d,n,u]),w.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Dp())},[c,u]),w.useEffect(()=>{const E=()=>h({});return document.addEventListener(Iu,E),()=>document.removeEventListener(Iu,E)},[]),k.jsx(zn.div,{...a,ref:v,style:{pointerEvents:m?_?"auto":"none":void 0,...e.style},onFocusCapture:Mt(e.onFocusCapture,b.onFocusCapture),onBlurCapture:Mt(e.onBlurCapture,b.onBlurCapture),onPointerDownCapture:Mt(e.onPointerDownCapture,S.onPointerDownCapture)})});$p.displayName=a1;var d1="DismissableLayerBranch",f1=w.forwardRef((e,t)=>{const n=w.useContext(Mp),r=w.useRef(null),o=Dn(t,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),k.jsx(zn.div,{...e,ref:o})});f1.displayName=d1;function h1(e,t=globalThis==null?void 0:globalThis.document){const n=Ir(e),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let a=function(){zp(u1,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=a,t.addEventListener("click",o.current,{once:!0})):a()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function p1(e,t=globalThis==null?void 0:globalThis.document){const n=Ir(e),r=w.useRef(!1);return w.useEffect(()=>{const o=i=>{i.target&&!r.current&&zp(c1,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dp(){const e=new CustomEvent(Iu);document.dispatchEvent(e)}function zp(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?s1(o,i):o.dispatchEvent(i)}var Lr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},g1=pm.useId||(()=>{}),m1=0;function v1(e){const[t,n]=w.useState(g1());return Lr(()=>{n(r=>r??String(m1++))},[e]),t?`radix-${t}`:""}const y1=["top","right","bottom","left"],hn=Math.min,Ve=Math.max,Es=Math.round,Cs=Math.floor,pn=e=>({x:e,y:e}),w1={left:"right",right:"left",bottom:"top",top:"bottom"},_1={start:"end",end:"start"};function Lu(e,t,n){return Ve(e,hn(t,n))}function $t(e,t){return typeof e=="function"?e(t):e}function Dt(e){return e.split("-")[0]}function Nr(e){return e.split("-")[1]}function Nu(e){return e==="x"?"y":"x"}function Mu(e){return e==="y"?"height":"width"}function gn(e){return["top","bottom"].includes(Dt(e))?"y":"x"}function $u(e){return Nu(gn(e))}function x1(e,t,n){n===void 0&&(n=!1);const r=Nr(e),o=$u(e),i=Mu(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ts(s)),[s,Ts(s)]}function k1(e){const t=Ts(e);return[Du(e),t,Du(t)]}function Du(e){return e.replace(/start|end/g,t=>_1[t])}function S1(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function b1(e,t,n,r){const o=Nr(e);let i=S1(Dt(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Du)))),i}function Ts(e){return e.replace(/left|right|bottom|top/g,t=>w1[t])}function E1(e){return{top:0,right:0,bottom:0,left:0,...e}}function Up(e){return typeof e!="number"?E1(e):{top:e,right:e,bottom:e,left:e}}function Ps(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Fp(e,t,n){let{reference:r,floating:o}=e;const i=gn(t),s=$u(t),l=Mu(s),a=Dt(t),u=i==="y",c=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,d=r[l]/2-o[l]/2;let h;switch(a){case"top":h={x:c,y:r.y-o.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-o.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Nr(t)){case"start":h[s]-=d*(n&&u?-1:1);break;case"end":h[s]+=d*(n&&u?-1:1);break}return h}const C1=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:f}=Fp(u,r,a),d=r,h={},v=0;for(let y=0;y<l.length;y++){const{name:x,fn:p}=l[y],{x:g,y:m,data:_,reset:S}=await p({x:c,y:f,initialPlacement:r,placement:d,strategy:o,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=g??c,f=m??f,h={...h,[x]:{...h[x],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:c,y:f}=Fp(u,d,a)),y=-1)}return{x:c,y:f,placement:d,strategy:o,middlewareData:h}};async function Uo(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:l,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=$t(t,e),v=Up(h),x=l[d?f==="floating"?"reference":"floating":f],p=Ps(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:c,strategy:a})),g=f==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,m=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(m))?await(i.getScale==null?void 0:i.getScale(m))||{x:1,y:1}:{x:1,y:1},S=Ps(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:m,strategy:a}):g);return{top:(p.top-S.top+v.top)/_.y,bottom:(S.bottom-p.bottom+v.bottom)/_.y,left:(p.left-S.left+v.left)/_.x,right:(S.right-p.right+v.right)/_.x}}const T1=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:l,middlewareData:a}=t,{element:u,padding:c=0}=$t(e,t)||{};if(u==null)return{};const f=Up(c),d={x:n,y:r},h=$u(o),v=Mu(h),y=await s.getDimensions(u),x=h==="y",p=x?"top":"left",g=x?"bottom":"right",m=x?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[h]-d[h]-i.floating[v],S=d[h]-i.reference[h],b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=b?b[m]:0;(!E||!await(s.isElement==null?void 0:s.isElement(b)))&&(E=l.floating[m]||i.floating[v]);const R=_/2-S/2,$=E/2-y[v]/2-1,A=hn(f[p],$),q=hn(f[g],$),M=A,N=E-y[v]-q,I=E/2-y[v]/2+R,J=Lu(M,I,N),B=!a.arrow&&Nr(o)!=null&&I!==J&&i.reference[v]/2-(I<M?A:q)-y[v]/2<0,G=B?I<M?I-M:I-N:0;return{[h]:d[h]+G,data:{[h]:J,centerOffset:I-J-G,...B&&{alignmentOffset:G}},reset:B}}}),P1=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:l,platform:a,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...x}=$t(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const p=Dt(o),g=gn(l),m=Dt(l)===l,_=await(a.isRTL==null?void 0:a.isRTL(u.floating)),S=d||(m||!y?[Ts(l)]:k1(l)),b=v!=="none";!d&&b&&S.push(...b1(l,y,v,_));const E=[l,...S],R=await Uo(t,x),$=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&$.push(R[p]),f){const I=x1(o,s,_);$.push(R[I[0]],R[I[1]])}if(A=[...A,{placement:o,overflows:$}],!$.every(I=>I<=0)){var q,M;const I=(((q=i.flip)==null?void 0:q.index)||0)+1,J=E[I];if(J)return{data:{index:I,overflows:A},reset:{placement:J}};let B=(M=A.filter(G=>G.overflows[0]<=0).sort((G,T)=>G.overflows[1]-T.overflows[1])[0])==null?void 0:M.placement;if(!B)switch(h){case"bestFit":{var N;const G=(N=A.filter(T=>{if(b){const j=gn(T.placement);return j===g||j==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(j=>j>0).reduce((j,L)=>j+L,0)]).sort((T,j)=>T[1]-j[1])[0])==null?void 0:N[0];G&&(B=G);break}case"initialPlacement":B=l;break}if(o!==B)return{reset:{placement:B}}}return{}}}};function Bp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wp(e){return y1.some(t=>e[t]>=0)}const R1=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=$t(e,t);switch(r){case"referenceHidden":{const i=await Uo(t,{...o,elementContext:"reference"}),s=Bp(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Wp(s)}}}case"escaped":{const i=await Uo(t,{...o,altBoundary:!0}),s=Bp(i,n.floating);return{data:{escapedOffsets:s,escaped:Wp(s)}}}default:return{}}}}};async function j1(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Dt(n),l=Nr(n),a=gn(n)==="y",u=["left","top"].includes(s)?-1:1,c=i&&a?-1:1,f=$t(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(h=l==="end"?v*-1:v),a?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const A1=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:l}=t,a=await j1(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+a.x,y:i+a.y,data:{...a,placement:s}}}}},O1=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:x=>{let{x:p,y:g}=x;return{x:p,y:g}}},...a}=$t(e,t),u={x:n,y:r},c=await Uo(t,a),f=gn(Dt(o)),d=Nu(f);let h=u[d],v=u[f];if(i){const x=d==="y"?"top":"left",p=d==="y"?"bottom":"right",g=h+c[x],m=h-c[p];h=Lu(g,h,m)}if(s){const x=f==="y"?"top":"left",p=f==="y"?"bottom":"right",g=v+c[x],m=v-c[p];v=Lu(g,v,m)}const y=l.fn({...t,[d]:h,[f]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[d]:i,[f]:s}}}}}},I1=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:l=0,mainAxis:a=!0,crossAxis:u=!0}=$t(e,t),c={x:n,y:r},f=gn(o),d=Nu(f);let h=c[d],v=c[f];const y=$t(l,t),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(a){const m=d==="y"?"height":"width",_=i.reference[d]-i.floating[m]+x.mainAxis,S=i.reference[d]+i.reference[m]-x.mainAxis;h<_?h=_:h>S&&(h=S)}if(u){var p,g;const m=d==="y"?"width":"height",_=["top","left"].includes(Dt(o)),S=i.reference[f]-i.floating[m]+(_&&((p=s.offset)==null?void 0:p[f])||0)+(_?0:x.crossAxis),b=i.reference[f]+i.reference[m]+(_?0:((g=s.offset)==null?void 0:g[f])||0)-(_?x.crossAxis:0);v<S?v=S:v>b&&(v=b)}return{[d]:h,[f]:v}}}},L1=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:l}=t,{apply:a=()=>{},...u}=$t(e,t),c=await Uo(t,u),f=Dt(o),d=Nr(o),h=gn(o)==="y",{width:v,height:y}=i.floating;let x,p;f==="top"||f==="bottom"?(x=f,p=d===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(p=f,x=d==="end"?"top":"bottom");const g=y-c.top-c.bottom,m=v-c.left-c.right,_=hn(y-c[x],g),S=hn(v-c[p],m),b=!t.middlewareData.shift;let E=_,R=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=m),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=g),b&&!d){const A=Ve(c.left,0),q=Ve(c.right,0),M=Ve(c.top,0),N=Ve(c.bottom,0);h?R=v-2*(A!==0||q!==0?A+q:Ve(c.left,c.right)):E=y-2*(M!==0||N!==0?M+N:Ve(c.top,c.bottom))}await a({...t,availableWidth:R,availableHeight:E});const $=await s.getDimensions(l.floating);return v!==$.width||y!==$.height?{reset:{rects:!0}}:{}}}};function Rs(){return typeof window<"u"}function Mr(e){return Hp(e)?(e.nodeName||"").toLowerCase():"#document"}function qe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _t(e){var t;return(t=(Hp(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Hp(e){return Rs()?e instanceof Node||e instanceof qe(e).Node:!1}function ft(e){return Rs()?e instanceof Element||e instanceof qe(e).Element:!1}function xt(e){return Rs()?e instanceof HTMLElement||e instanceof qe(e).HTMLElement:!1}function Vp(e){return!Rs()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof qe(e).ShadowRoot}function Fo(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ht(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function N1(e){return["table","td","th"].includes(Mr(e))}function js(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function zu(e){const t=Uu(),n=ft(e)?ht(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function M1(e){let t=mn(e);for(;xt(t)&&!$r(t);){if(zu(t))return t;if(js(t))return null;t=mn(t)}return null}function Uu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $r(e){return["html","body","#document"].includes(Mr(e))}function ht(e){return qe(e).getComputedStyle(e)}function As(e){return ft(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function mn(e){if(Mr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vp(e)&&e.host||_t(e);return Vp(t)?t.host:t}function qp(e){const t=mn(e);return $r(t)?e.ownerDocument?e.ownerDocument.body:e.body:xt(t)&&Fo(t)?t:qp(t)}function Bo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=qp(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=qe(o);if(i){const l=Fu(s);return t.concat(s,s.visualViewport||[],Fo(o)?o:[],l&&n?Bo(l):[])}return t.concat(o,Bo(o,[],n))}function Fu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Gp(e){const t=ht(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=xt(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,l=Es(n)!==i||Es(r)!==s;return l&&(n=i,r=s),{width:n,height:r,$:l}}function Bu(e){return ft(e)?e:e.contextElement}function Dr(e){const t=Bu(e);if(!xt(t))return pn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Gp(t);let s=(i?Es(n.width):n.width)/r,l=(i?Es(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const $1=pn(0);function Kp(e){const t=qe(e);return!Uu()||!t.visualViewport?$1:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function D1(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==qe(e)?!1:t}function Un(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Bu(e);let s=pn(1);t&&(r?ft(r)&&(s=Dr(r)):s=Dr(e));const l=D1(i,n,r)?Kp(i):pn(0);let a=(o.left+l.x)/s.x,u=(o.top+l.y)/s.y,c=o.width/s.x,f=o.height/s.y;if(i){const d=qe(i),h=r&&ft(r)?qe(r):r;let v=d,y=Fu(v);for(;y&&r&&h!==v;){const x=Dr(y),p=y.getBoundingClientRect(),g=ht(y),m=p.left+(y.clientLeft+parseFloat(g.paddingLeft))*x.x,_=p.top+(y.clientTop+parseFloat(g.paddingTop))*x.y;a*=x.x,u*=x.y,c*=x.x,f*=x.y,a+=m,u+=_,v=qe(y),y=Fu(v)}}return Ps({width:c,height:f,x:a,y:u})}function z1(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=_t(r),l=t?js(t.floating):!1;if(r===s||l&&i)return n;let a={scrollLeft:0,scrollTop:0},u=pn(1);const c=pn(0),f=xt(r);if((f||!f&&!i)&&((Mr(r)!=="body"||Fo(s))&&(a=As(r)),xt(r))){const d=Un(r);u=Dr(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+c.x,y:n.y*u.y-a.scrollTop*u.y+c.y}}function U1(e){return Array.from(e.getClientRects())}function Wu(e,t){const n=As(e).scrollLeft;return t?t.left+n:Un(_t(e)).left+n}function F1(e){const t=_t(e),n=As(e),r=e.ownerDocument.body,o=Ve(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ve(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Wu(e);const l=-n.scrollTop;return ht(r).direction==="rtl"&&(s+=Ve(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:l}}function B1(e,t){const n=qe(e),r=_t(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,l=0,a=0;if(o){i=o.width,s=o.height;const u=Uu();(!u||u&&t==="fixed")&&(l=o.offsetLeft,a=o.offsetTop)}return{width:i,height:s,x:l,y:a}}function W1(e,t){const n=Un(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=xt(e)?Dr(e):pn(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,a=o*i.x,u=r*i.y;return{width:s,height:l,x:a,y:u}}function Qp(e,t,n){let r;if(t==="viewport")r=B1(e,n);else if(t==="document")r=F1(_t(e));else if(ft(t))r=W1(t,n);else{const o=Kp(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Ps(r)}function Jp(e,t){const n=mn(e);return n===t||!ft(n)||$r(n)?!1:ht(n).position==="fixed"||Jp(n,t)}function H1(e,t){const n=t.get(e);if(n)return n;let r=Bo(e,[],!1).filter(l=>ft(l)&&Mr(l)!=="body"),o=null;const i=ht(e).position==="fixed";let s=i?mn(e):e;for(;ft(s)&&!$r(s);){const l=ht(s),a=zu(s);!a&&l.position==="fixed"&&(o=null),(i?!a&&!o:!a&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Fo(s)&&!a&&Jp(e,s))?r=r.filter(c=>c!==s):o=l,s=mn(s)}return t.set(e,r),r}function V1(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?js(t)?[]:H1(t,this._c):[].concat(n),r],l=s[0],a=s.reduce((u,c)=>{const f=Qp(t,c,o);return u.top=Ve(f.top,u.top),u.right=hn(f.right,u.right),u.bottom=hn(f.bottom,u.bottom),u.left=Ve(f.left,u.left),u},Qp(t,l,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function q1(e){const{width:t,height:n}=Gp(e);return{width:t,height:n}}function G1(e,t,n){const r=xt(t),o=_t(t),i=n==="fixed",s=Un(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const a=pn(0);if(r||!r&&!i)if((Mr(t)!=="body"||Fo(o))&&(l=As(t)),r){const h=Un(t,!0,i,t);a.x=h.x+t.clientLeft,a.y=h.y+t.clientTop}else o&&(a.x=Wu(o));let u=0,c=0;if(o&&!r&&!i){const h=o.getBoundingClientRect();c=h.top+l.scrollTop,u=h.left+l.scrollLeft-Wu(o,h)}const f=s.left+l.scrollLeft-a.x-u,d=s.top+l.scrollTop-a.y-c;return{x:f,y:d,width:s.width,height:s.height}}function Hu(e){return ht(e).position==="static"}function Yp(e,t){if(!xt(e)||ht(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _t(e)===n&&(n=n.ownerDocument.body),n}function Xp(e,t){const n=qe(e);if(js(e))return n;if(!xt(e)){let o=mn(e);for(;o&&!$r(o);){if(ft(o)&&!Hu(o))return o;o=mn(o)}return n}let r=Yp(e,t);for(;r&&N1(r)&&Hu(r);)r=Yp(r,t);return r&&$r(r)&&Hu(r)&&!zu(r)?n:r||M1(e)||n}const K1=async function(e){const t=this.getOffsetParent||Xp,n=this.getDimensions,r=await n(e.floating);return{reference:G1(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Q1(e){return ht(e).direction==="rtl"}const J1={convertOffsetParentRelativeRectToViewportRelativeRect:z1,getDocumentElement:_t,getClippingRect:V1,getOffsetParent:Xp,getElementRects:K1,getClientRects:U1,getDimensions:q1,getScale:Dr,isElement:ft,isRTL:Q1};function Y1(e,t){let n=null,r;const o=_t(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),i();const{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(l||t(),!f||!d)return;const h=Cs(c),v=Cs(o.clientWidth-(u+f)),y=Cs(o.clientHeight-(c+d)),x=Cs(u),g={rootMargin:-h+"px "+-v+"px "+-y+"px "+-x+"px",threshold:Ve(0,hn(1,a))||1};let m=!0;function _(S){const b=S[0].intersectionRatio;if(b!==a){if(!m)return s();b?s(!1,b):r=setTimeout(()=>{s(!1,1e-7)},1e3)}m=!1}try{n=new IntersectionObserver(_,{...g,root:o.ownerDocument})}catch{n=new IntersectionObserver(_,g)}n.observe(e)}return s(!0),i}function X1(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=Bu(e),c=o||i?[...u?Bo(u):[],...Bo(t)]:[];c.forEach(p=>{o&&p.addEventListener("scroll",n,{passive:!0}),i&&p.addEventListener("resize",n)});const f=u&&l?Y1(u,n):null;let d=-1,h=null;s&&(h=new ResizeObserver(p=>{let[g]=p;g&&g.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var m;(m=h)==null||m.observe(t)})),n()}),u&&!a&&h.observe(u),h.observe(t));let v,y=a?Un(e):null;a&&x();function x(){const p=Un(e);y&&(p.x!==y.x||p.y!==y.y||p.width!==y.width||p.height!==y.height)&&n(),y=p,v=requestAnimationFrame(x)}return n(),()=>{var p;c.forEach(g=>{o&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),f==null||f(),(p=h)==null||p.disconnect(),h=null,a&&cancelAnimationFrame(v)}}const Z1=A1,e_=O1,t_=P1,n_=L1,r_=R1,Zp=T1,o_=I1,i_=(e,t,n)=>{const r=new Map,o={platform:J1,...n},i={...o.platform,_c:r};return C1(e,t,{...o,platform:i})};var Os=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Is(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Is(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Is(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function eg(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tg(e,t){const n=eg(e);return Math.round(t*n)/n}function Vu(e){const t=w.useRef(e);return Os(()=>{t.current=e}),t}function s_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:a,open:u}=e,[c,f]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=w.useState(r);Is(d,r)||h(r);const[v,y]=w.useState(null),[x,p]=w.useState(null),g=w.useCallback(T=>{T!==b.current&&(b.current=T,y(T))},[]),m=w.useCallback(T=>{T!==E.current&&(E.current=T,p(T))},[]),_=i||v,S=s||x,b=w.useRef(null),E=w.useRef(null),R=w.useRef(c),$=a!=null,A=Vu(a),q=Vu(o),M=Vu(u),N=w.useCallback(()=>{if(!b.current||!E.current)return;const T={placement:t,strategy:n,middleware:d};q.current&&(T.platform=q.current),i_(b.current,E.current,T).then(j=>{const L={...j,isPositioned:M.current!==!1};I.current&&!Is(R.current,L)&&(R.current=L,du.flushSync(()=>{f(L)}))})},[d,t,n,q,M]);Os(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const I=w.useRef(!1);Os(()=>(I.current=!0,()=>{I.current=!1}),[]),Os(()=>{if(_&&(b.current=_),S&&(E.current=S),_&&S){if(A.current)return A.current(_,S,N);N()}},[_,S,N,A,$]);const J=w.useMemo(()=>({reference:b,floating:E,setReference:g,setFloating:m}),[g,m]),B=w.useMemo(()=>({reference:_,floating:S}),[_,S]),G=w.useMemo(()=>{const T={position:n,left:0,top:0};if(!B.floating)return T;const j=tg(B.floating,c.x),L=tg(B.floating,c.y);return l?{...T,transform:"translate("+j+"px, "+L+"px)",...eg(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:L}},[n,l,B.floating,c.x,c.y]);return w.useMemo(()=>({...c,update:N,refs:J,elements:B,floatingStyles:G}),[c,N,J,B,G])}const l_=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Zp({element:r.current,padding:o}).fn(n):{}:r?Zp({element:r,padding:o}).fn(n):{}}}},a_=(e,t)=>({...Z1(e),options:[e,t]}),u_=(e,t)=>({...e_(e),options:[e,t]}),c_=(e,t)=>({...o_(e),options:[e,t]}),d_=(e,t)=>({...t_(e),options:[e,t]}),f_=(e,t)=>({...n_(e),options:[e,t]}),h_=(e,t)=>({...r_(e),options:[e,t]}),p_=(e,t)=>({...l_(e),options:[e,t]});var g_="Arrow",ng=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return k.jsx(zn.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:k.jsx("polygon",{points:"0,0 30,0 15,10"})})});ng.displayName=g_;var m_=ng;function v_(e,t=[]){let n=[];function r(i,s){const l=w.createContext(s),a=n.length;n=[...n,s];function u(f){const{scope:d,children:h,...v}=f,y=(d==null?void 0:d[e][a])||l,x=w.useMemo(()=>v,Object.values(v));return k.jsx(y.Provider,{value:x,children:h})}function c(f,d){const h=(d==null?void 0:d[e][a])||l,v=w.useContext(h);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,c]}const o=()=>{const i=n.map(s=>w.createContext(s));return function(l){const a=(l==null?void 0:l[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:a}}),[l,a])}};return o.scopeName=e,[r,y_(o,...t)]}function y_(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((l,{useScope:a,scopeName:u})=>{const f=a(i)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function w_(e){const[t,n]=w.useState(void 0);return Lr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,l;if("borderBoxSize"in i){const a=i.borderBoxSize,u=Array.isArray(a)?a[0]:a;s=u.inlineSize,l=u.blockSize}else s=e.offsetWidth,l=e.offsetHeight;n({width:s,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var qu="Popper",[rg,og]=v_(qu),[__,ig]=rg(qu),sg=e=>{const{__scopePopper:t,children:n}=e,[r,o]=w.useState(null);return k.jsx(__,{scope:t,anchor:r,onAnchorChange:o,children:n})};sg.displayName=qu;var lg="PopperAnchor",ag=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=ig(lg,n),s=w.useRef(null),l=Dn(t,s);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:k.jsx(zn.div,{...o,ref:l})});ag.displayName=lg;var Gu="PopperContent",[x_,k_]=rg(Gu),ug=w.forwardRef((e,t)=>{var Ke,Bs,Vo,Ws,Hs,Vs;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:a=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:v,...y}=e,x=ig(Gu,n),[p,g]=w.useState(null),m=Dn(t,Bn=>g(Bn)),[_,S]=w.useState(null),b=w_(_),E=(b==null?void 0:b.width)??0,R=(b==null?void 0:b.height)??0,$=r+(i!=="center"?"-"+i:""),A=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},q=Array.isArray(u)?u:[u],M=q.length>0,N={padding:A,boundary:q.filter(b_),altBoundary:M},{refs:I,floatingStyles:J,placement:B,isPositioned:G,middlewareData:T}=s_({strategy:"fixed",placement:$,whileElementsMounted:(...Bn)=>X1(...Bn,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[a_({mainAxis:o+R,alignmentAxis:s}),a&&u_({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?c_():void 0,...N}),a&&d_({...N}),f_({...N,apply:({elements:Bn,rects:qs,availableWidth:Wn,availableHeight:lc})=>{const{width:ac,height:Gs}=qs.reference,Hn=Bn.floating.style;Hn.setProperty("--radix-popper-available-width",`${Wn}px`),Hn.setProperty("--radix-popper-available-height",`${lc}px`),Hn.setProperty("--radix-popper-anchor-width",`${ac}px`),Hn.setProperty("--radix-popper-anchor-height",`${Gs}px`)}}),_&&p_({element:_,padding:l}),E_({arrowWidth:E,arrowHeight:R}),d&&h_({strategy:"referenceHidden",...N})]}),[j,L]=fg(B),z=Ir(v);Lr(()=>{G&&(z==null||z())},[G,z]);const ue=(Ke=T.arrow)==null?void 0:Ke.x,wn=(Bs=T.arrow)==null?void 0:Bs.y,Ge=((Vo=T.arrow)==null?void 0:Vo.centerOffset)!==0,[Fn,Ae]=w.useState();return Lr(()=>{p&&Ae(window.getComputedStyle(p).zIndex)},[p]),k.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:G?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fn,"--radix-popper-transform-origin":[(Ws=T.transformOrigin)==null?void 0:Ws.x,(Hs=T.transformOrigin)==null?void 0:Hs.y].join(" "),...((Vs=T.hide)==null?void 0:Vs.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:k.jsx(x_,{scope:n,placedSide:j,onArrowChange:S,arrowX:ue,arrowY:wn,shouldHideArrow:Ge,children:k.jsx(zn.div,{"data-side":j,"data-align":L,...y,ref:m,style:{...y.style,animation:G?void 0:"none"}})})})});ug.displayName=Gu;var cg="PopperArrow",S_={top:"bottom",right:"left",bottom:"top",left:"right"},dg=w.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=k_(cg,r),s=S_[i.placedSide];return k.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:k.jsx(m_,{...o,ref:n,style:{...o.style,display:"block"}})})});dg.displayName=cg;function b_(e){return e!==null}var E_=e=>({name:"transformOrigin",options:e,fn(t){var x,p,g;const{placement:n,rects:r,middlewareData:o}=t,s=((x=o.arrow)==null?void 0:x.centerOffset)!==0,l=s?0:e.arrowWidth,a=s?0:e.arrowHeight,[u,c]=fg(n),f={start:"0%",center:"50%",end:"100%"}[c],d=(((p=o.arrow)==null?void 0:p.x)??0)+l/2,h=(((g=o.arrow)==null?void 0:g.y)??0)+a/2;let v="",y="";return u==="bottom"?(v=s?f:`${d}px`,y=`${-a}px`):u==="top"?(v=s?f:`${d}px`,y=`${r.floating.height+a}px`):u==="right"?(v=`${-a}px`,y=s?f:`${h}px`):u==="left"&&(v=`${r.floating.width+a}px`,y=s?f:`${h}px`),{data:{x:v,y}}}});function fg(e){const[t,n="center"]=e.split("-");return[t,n]}var C_=sg,T_=ag,P_=ug,R_=dg;function j_(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var hg=e=>{const{present:t,children:n}=e,r=A_(t),o=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=Dn(r.ref,O_(o));return typeof n=="function"||r.isPresent?w.cloneElement(o,{ref:i}):null};hg.displayName="Presence";function A_(e){const[t,n]=w.useState(),r=w.useRef({}),o=w.useRef(e),i=w.useRef("none"),s=e?"mounted":"unmounted",[l,a]=j_(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Ls(r.current);i.current=l==="mounted"?u:"none"},[l]),Lr(()=>{const u=r.current,c=o.current;if(c!==e){const d=i.current,h=Ls(u);e?a("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?a("UNMOUNT"):a(c&&d!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,a]),Lr(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,f=h=>{const y=Ls(r.current).includes(h.animationName);if(h.target===t&&y&&(a("ANIMATION_END"),!o.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},d=h=>{h.target===t&&(i.current=Ls(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Ls(e){return(e==null?void 0:e.animationName)||"none"}function O_(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function I_({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=L_({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,l=Ir(n),a=w.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else o(u)},[i,e,o,l]);return[s,a]}function L_({defaultProp:e,onChange:t}){const n=w.useState(e),[r]=n,o=w.useRef(r),i=Ir(t);return w.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}var N_="VisuallyHidden",pg=w.forwardRef((e,t)=>k.jsx(zn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));pg.displayName=N_;var M_=pg,[Ns,vk]=e1("Tooltip",[og]),Ms=og(),gg="TooltipProvider",$_=700,Ku="tooltip.open",[D_,Qu]=Ns(gg),mg=e=>{const{__scopeTooltip:t,delayDuration:n=$_,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,[s,l]=w.useState(!0),a=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),k.jsx(D_,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:w.useCallback(c=>{a.current=c},[]),disableHoverableContent:o,children:i})};mg.displayName=gg;var $s="Tooltip",[z_,Ds]=Ns($s),vg=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:i,disableHoverableContent:s,delayDuration:l}=e,a=Qu($s,e.__scopeTooltip),u=Ms(t),[c,f]=w.useState(null),d=v1(),h=w.useRef(0),v=s??a.disableHoverableContent,y=l??a.delayDuration,x=w.useRef(!1),[p=!1,g]=I_({prop:r,defaultProp:o,onChange:E=>{E?(a.onOpen(),document.dispatchEvent(new CustomEvent(Ku))):a.onClose(),i==null||i(E)}}),m=w.useMemo(()=>p?x.current?"delayed-open":"instant-open":"closed",[p]),_=w.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x.current=!1,g(!0)},[g]),S=w.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g(!1)},[g]),b=w.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{x.current=!0,g(!0),h.current=0},y)},[y,g]);return w.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),k.jsx(C_,{...u,children:k.jsx(z_,{scope:t,contentId:d,open:p,stateAttribute:m,trigger:c,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{a.isOpenDelayed?b():_()},[a.isOpenDelayed,b,_]),onTriggerLeave:w.useCallback(()=>{v?S():(window.clearTimeout(h.current),h.current=0)},[S,v]),onOpen:_,onClose:S,disableHoverableContent:v,children:n})})};vg.displayName=$s;var Ju="TooltipTrigger",yg=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Ds(Ju,n),i=Qu(Ju,n),s=Ms(n),l=w.useRef(null),a=Dn(t,l,o.onTriggerChange),u=w.useRef(!1),c=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),k.jsx(T_,{asChild:!0,...s,children:k.jsx(zn.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:a,onPointerMove:Mt(e.onPointerMove,d=>{d.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),c.current=!0)}),onPointerLeave:Mt(e.onPointerLeave,()=>{o.onTriggerLeave(),c.current=!1}),onPointerDown:Mt(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Mt(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:Mt(e.onBlur,o.onClose),onClick:Mt(e.onClick,o.onClose)})})});yg.displayName=Ju;var U_="TooltipPortal",[yk,F_]=Ns(U_,{forceMount:void 0}),zr="TooltipContent",wg=w.forwardRef((e,t)=>{const n=F_(zr,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,s=Ds(zr,e.__scopeTooltip);return k.jsx(hg,{present:r||s.open,children:s.disableHoverableContent?k.jsx(_g,{side:o,...i,ref:t}):k.jsx(B_,{side:o,...i,ref:t})})}),B_=w.forwardRef((e,t)=>{const n=Ds(zr,e.__scopeTooltip),r=Qu(zr,e.__scopeTooltip),o=w.useRef(null),i=Dn(t,o),[s,l]=w.useState(null),{trigger:a,onClose:u}=n,c=o.current,{onPointerInTransitChange:f}=r,d=w.useCallback(()=>{l(null),f(!1)},[f]),h=w.useCallback((v,y)=>{const x=v.currentTarget,p={x:v.clientX,y:v.clientY},g=q_(p,x.getBoundingClientRect()),m=G_(p,g),_=K_(y.getBoundingClientRect()),S=J_([...m,..._]);l(S),f(!0)},[f]);return w.useEffect(()=>()=>d(),[d]),w.useEffect(()=>{if(a&&c){const v=x=>h(x,c),y=x=>h(x,a);return a.addEventListener("pointerleave",v),c.addEventListener("pointerleave",y),()=>{a.removeEventListener("pointerleave",v),c.removeEventListener("pointerleave",y)}}},[a,c,h,d]),w.useEffect(()=>{if(s){const v=y=>{const x=y.target,p={x:y.clientX,y:y.clientY},g=(a==null?void 0:a.contains(x))||(c==null?void 0:c.contains(x)),m=!Q_(p,s);g?d():m&&(d(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[a,c,s,u,d]),k.jsx(_g,{...e,ref:i})}),[W_,H_]=Ns($s,{isInside:!1}),_g=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:s,...l}=e,a=Ds(zr,n),u=Ms(n),{onClose:c}=a;return w.useEffect(()=>(document.addEventListener(Ku,c),()=>document.removeEventListener(Ku,c)),[c]),w.useEffect(()=>{if(a.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(a.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[a.trigger,c]),k.jsx($p,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:k.jsxs(P_,{"data-state":a.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[k.jsx(Lp,{children:r}),k.jsx(W_,{scope:n,isInside:!0,children:k.jsx(M_,{id:a.contentId,role:"tooltip",children:o||r})})]})})});wg.displayName=zr;var xg="TooltipArrow",V_=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Ms(n);return H_(xg,n).isInside?null:k.jsx(R_,{...o,...r,ref:t})});V_.displayName=xg;function q_(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function G_(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function K_(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function Q_(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const l=t[i].x,a=t[i].y,u=t[s].x,c=t[s].y;a>r!=c>r&&n<(u-l)*(r-a)/(c-a)+l&&(o=!o)}return o}function J_(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Y_(t)}function Y_(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var X_=mg,Z_=vg,ex=yg,kg=wg;function Sg(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Sg(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tx(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Sg(e))&&(r&&(r+=" "),r+=t);return r}const Yu="-",nx=e=>{const t=ox(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const l=s.split(Yu);return l[0]===""&&l.length!==1&&l.shift(),bg(l,t)||rx(s)},getConflictingClassGroupIds:(s,l)=>{const a=n[s]||[];return l&&r[s]?[...a,...r[s]]:a}}},bg=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?bg(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(Yu);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},Eg=/^\[(.+)\]$/,rx=e=>{if(Eg.test(e)){const t=Eg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ox=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return sx(Object.entries(e.classGroups),n).forEach(([i,s])=>{Xu(s,r,i,t)}),r},Xu=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:Cg(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(ix(o)){Xu(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{Xu(s,Cg(t,i),n,r)})})},Cg=(e,t)=>{let n=e;return t.split(Yu).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ix=e=>e.isThemeGetter,sx=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[n,o]}):e,lx=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}},Tg="!",ax=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,s=l=>{const a=[];let u=0,c=0,f;for(let x=0;x<l.length;x++){let p=l[x];if(u===0){if(p===o&&(r||l.slice(x,x+i)===t)){a.push(l.slice(c,x)),c=x+i;continue}if(p==="/"){f=x;continue}}p==="["?u++:p==="]"&&u--}const d=a.length===0?l:l.substring(c),h=d.startsWith(Tg),v=h?d.substring(1):d,y=f&&f>c?f-c:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:s}):s},ux=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},cx=e=>({cache:lx(e.cacheSize),parseClassName:ax(e),...nx(e)}),dx=/\s+/,fx=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(dx);let l="";for(let a=s.length-1;a>=0;a-=1){const u=s[a],{modifiers:c,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=n(u);let v=!!h,y=r(v?d.substring(0,h):d);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=r(d),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=ux(c).join(":"),p=f?x+Tg:x,g=p+y;if(i.includes(g))continue;i.push(g);const m=o(y,v);for(let _=0;_<m.length;++_){const S=m[_];i.push(p+S)}l=u+(l.length>0?" "+l:l)}return l};function hx(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Pg(t))&&(r&&(r+=" "),r+=n);return r}const Pg=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Pg(e[r]))&&(n&&(n+=" "),n+=t);return n};function px(e,...t){let n,r,o,i=s;function s(a){const u=t.reduce((c,f)=>f(c),e());return n=cx(u),r=n.cache.get,o=n.cache.set,i=l,l(a)}function l(a){const u=r(a);if(u)return u;const c=fx(a,n);return o(a,c),c}return function(){return i(hx.apply(null,arguments))}}const re=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Rg=/^\[(?:([a-z-]+):)?(.+)\]$/i,gx=/^\d+\/\d+$/,mx=new Set(["px","full","screen"]),vx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_x=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zt=e=>Ur(e)||mx.has(e)||gx.test(e),vn=e=>Fr(e,"length",Rx),Ur=e=>!!e&&!Number.isNaN(Number(e)),Zu=e=>Fr(e,"number",Ur),Wo=e=>!!e&&Number.isInteger(Number(e)),kx=e=>e.endsWith("%")&&Ur(e.slice(0,-1)),U=e=>Rg.test(e),yn=e=>vx.test(e),Sx=new Set(["length","size","percentage"]),bx=e=>Fr(e,Sx,jg),Ex=e=>Fr(e,"position",jg),Cx=new Set(["image","url"]),Tx=e=>Fr(e,Cx,Ax),Px=e=>Fr(e,"",jx),Ho=()=>!0,Fr=(e,t,n)=>{const r=Rg.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Rx=e=>yx.test(e)&&!wx.test(e),jg=()=>!1,jx=e=>_x.test(e),Ax=e=>xx.test(e),Ox=px(()=>{const e=re("colors"),t=re("spacing"),n=re("blur"),r=re("brightness"),o=re("borderColor"),i=re("borderRadius"),s=re("borderSpacing"),l=re("borderWidth"),a=re("contrast"),u=re("grayscale"),c=re("hueRotate"),f=re("invert"),d=re("gap"),h=re("gradientColorStops"),v=re("gradientColorStopPositions"),y=re("inset"),x=re("margin"),p=re("opacity"),g=re("padding"),m=re("saturate"),_=re("scale"),S=re("sepia"),b=re("skew"),E=re("space"),R=re("translate"),$=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",U,t],M=()=>[U,t],N=()=>["",zt,vn],I=()=>["auto",Ur,U],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",U],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Ur,U];return{cacheSize:500,separator:":",theme:{colors:[Ho],spacing:[zt,vn],blur:["none","",yn,U],brightness:z(),borderColor:[e],borderRadius:["none","","full",yn,U],borderSpacing:M(),borderWidth:N(),contrast:z(),grayscale:j(),hueRotate:z(),invert:j(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[kx,vn],inset:q(),margin:q(),opacity:z(),padding:M(),saturate:z(),scale:z(),sepia:j(),skew:z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",U]}],container:["container"],columns:[{columns:[yn]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),U]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wo,U]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",U]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Wo,U]}],"grid-cols":[{"grid-cols":[Ho]}],"col-start-end":[{col:["auto",{span:["full",Wo,U]},U]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Ho]}],"row-start-end":[{row:["auto",{span:[Wo,U]},U]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",U]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",U]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",U,t]}],"min-w":[{"min-w":[U,t,"min","max","fit"]}],"max-w":[{"max-w":[U,t,"none","full","min","max","fit","prose",{screen:[yn]},yn]}],h:[{h:[U,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[U,t,"auto","min","max","fit"]}],"font-size":[{text:["base",yn,vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zu]}],"font-family":[{font:[Ho]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",U]}],"line-clamp":[{"line-clamp":["none",Ur,Zu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zt,U]}],"list-image":[{"list-image":["none",U]}],"list-style-type":[{list:["none","disc","decimal",U]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zt,vn]}],"underline-offset":[{"underline-offset":["auto",zt,U]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),Ex]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Tx]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:B()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[zt,U]}],"outline-w":[{outline:[zt,vn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[zt,vn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",yn,Px]}],"shadow-color":[{shadow:[Ho]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",yn,U]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[m]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",U]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",U]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",U]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Wo,U]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",U]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[zt,vn,Zu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Ix(...e){return Ox(tx(e))}const Ag=X_,Og=Z_,Ig=ex,ec=w.forwardRef(({className:e,sideOffset:t=4,...n},r)=>k.jsx(kg,{ref:r,sideOffset:t,className:Ix("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));ec.displayName=kg.displayName;const Lx=({selectedVoice:e,onVoiceChange:t,autoPlayResponses:n,onAutoPlayToggle:r,primaryColor:o})=>{const[i,s]=w.useState(!1),[l,a]=w.useState(!1),u=w.useRef(null),c=w.useRef(null),f=()=>document.querySelector('[data-state="open"]')!==null||document.querySelector(".dialog-overlay")!==null||document.querySelector('[role="dialog"]')!==null,d=()=>{f()||(u.current&&clearTimeout(u.current),s(!0),u.current=setTimeout(()=>{s(!1)},15e3))},h=()=>{f()||(c.current&&clearTimeout(c.current),a(!0),c.current=setTimeout(()=>{a(!1)},15e3))},v=()=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{s(!1)},15e3)},y=()=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{a(!1)},15e3)};return w.useEffect(()=>{const x=()=>{f()&&(s(!1),a(!1),u.current&&clearTimeout(u.current),c.current&&clearTimeout(c.current))},p=new MutationObserver(x);return p.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-state","role"]}),()=>{p.disconnect(),u.current&&clearTimeout(u.current),c.current&&clearTimeout(c.current)}},[]),k.jsxs("div",{className:"flex items-center gap-2 p-2 border-t border-gray-200",children:[k.jsx(Ag,{children:k.jsxs(Og,{open:i,children:[k.jsx(Ig,{asChild:!0,children:k.jsx("button",{onClick:r,onMouseEnter:d,onMouseLeave:v,onFocus:d,onBlur:v,className:`p-1.5 rounded transition-colors ${n?"text-white":"text-gray-400 hover:text-gray-600"}`,style:{backgroundColor:n?o:"transparent"},children:k.jsx(Vh,{size:14})})}),k.jsx(ec,{children:k.jsxs("p",{children:[n?"Disable":"Enable"," auto-play responses"]})})]})}),k.jsxs("select",{value:e,onChange:x=>t(x.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white",children:[k.jsx("option",{value:"bark",children:"Bark (Fast & Natural)"}),k.jsx("option",{value:"tortoise",children:"Tortoise (High Quality)"})]}),k.jsx(Ag,{children:k.jsxs(Og,{open:l,children:[k.jsx(Ig,{asChild:!0,children:k.jsx("div",{onMouseEnter:h,onMouseLeave:y,onFocus:h,onBlur:y,tabIndex:0,children:k.jsx(My,{size:12,className:"text-gray-400"})})}),k.jsx(ec,{children:k.jsx("p",{children:"Voice powered by Together AI"})})]})})]})};function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(null,arguments)}function Nx(e){const t=new Uint8Array(e);return window.btoa(String.fromCharCode(...t))}function Mx(e){const t=window.atob(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer}const tc=new Map;function Lg(e,t){return async n=>{const r=tc.get(e);if(r)return n.addModule(r);const o=new Blob([t],{type:"application/javascript"}),i=URL.createObjectURL(o);try{return await n.addModule(i),void tc.set(e,i)}catch{URL.revokeObjectURL(i)}try{const s=`data:application/javascript;base64,${btoa(t)}`;await n.addModule(s),tc.set(e,s)}catch{throw new Error(`Failed to load the ${e} worklet module. Make sure the browser supports AudioWorklets.`)}}}const $x=Lg("raw-audio-processor",`
const BIAS = 0x84;
const CLIP = 32635;
const encodeTable = [
  0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,
  4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7
];

function encodeSample(sample) {
  let sign;
  let exponent;
  let mantissa;
  let muLawSample;
  sign = (sample >> 8) & 0x80;
  if (sign !== 0) sample = -sample;
  sample = sample + BIAS;
  if (sample > CLIP) sample = CLIP;
  exponent = encodeTable[(sample>>7) & 0xFF];
  mantissa = (sample >> (exponent+3)) & 0x0F;
  muLawSample = ~(sign | (exponent << 4) | mantissa);
  
  return muLawSample;
}

class RawAudioProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
              
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.isMuted = false;
          this.buffer = []; // Initialize an empty buffer
          this.bufferSize = data.sampleRate / 4;
          this.format = data.format;

          if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {
            globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {
              this.resampler = resampler;
            });
          }
          break;
        case "setMuted":
          this.isMuted = data.isMuted;
          break;
      }
    };
  }
  process(inputs) {
    if (!this.buffer) {
      return true;
    }
    
    const input = inputs[0]; // Get the first input node
    if (input.length > 0) {
      let channelData = input[0]; // Get the first channel's data

      // Resample the audio if necessary
      if (this.resampler) {
        channelData = this.resampler.full(channelData);
      }

      // Add channel data to the buffer
      this.buffer.push(...channelData);
      // Get max volume 
      let sum = 0.0;
      for (let i = 0; i < channelData.length; i++) {
        sum += channelData[i] * channelData[i];
      }
      const maxVolume = Math.sqrt(sum / channelData.length);
      // Check if buffer size has reached or exceeded the threshold
      if (this.buffer.length >= this.bufferSize) {
        const float32Array = this.isMuted 
          ? new Float32Array(this.buffer.length)
          : new Float32Array(this.buffer);

        let encodedArray = this.format === "ulaw"
          ? new Uint8Array(float32Array.length)
          : new Int16Array(float32Array.length);

        // Iterate through the Float32Array and convert each sample to PCM16
        for (let i = 0; i < float32Array.length; i++) {
          // Clamp the value to the range [-1, 1]
          let sample = Math.max(-1, Math.min(1, float32Array[i]));

          // Scale the sample to the range [-32768, 32767]
          let value = sample < 0 ? sample * 32768 : sample * 32767;
          if (this.format === "ulaw") {
            value = encodeSample(Math.round(value));
          }

          encodedArray[i] = value;
        }

        // Send the buffered data to the main script
        this.port.postMessage([encodedArray, maxVolume]);

        // Clear the buffer after sending
        this.buffer = [];
      }
    }
    return true; // Continue processing
  }
}
registerProcessor("raw-audio-processor", RawAudioProcessor);
`);function Ng(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}class nc{static async create({sampleRate:t,format:n,preferHeadphonesForIosDevices:r}){let o=null,i=null;try{const a={sampleRate:{ideal:t},echoCancellation:{ideal:!0},noiseSuppression:{ideal:!0}};if(Ng()&&r){const h=(await window.navigator.mediaDevices.enumerateDevices()).find(v=>v.kind==="audioinput"&&["airpod","headphone","earphone"].find(y=>v.label.toLowerCase().includes(y)));h&&(a.deviceId={ideal:h.deviceId})}const u=navigator.mediaDevices.getSupportedConstraints().sampleRate;o=new window.AudioContext(u?{sampleRate:t}:{});const c=o.createAnalyser();u||await o.audioWorklet.addModule("https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js"),await $x(o.audioWorklet),i=await navigator.mediaDevices.getUserMedia({audio:a});const f=o.createMediaStreamSource(i),d=new AudioWorkletNode(o,"raw-audio-processor");return d.port.postMessage({type:"setFormat",format:n,sampleRate:t}),f.connect(c),c.connect(d),await o.resume(),new nc(o,c,d,i)}catch(a){var s,l;throw(s=i)==null||s.getTracks().forEach(u=>u.stop()),(l=o)==null||l.close(),a}}constructor(t,n,r,o){this.context=void 0,this.analyser=void 0,this.worklet=void 0,this.inputStream=void 0,this.context=t,this.analyser=n,this.worklet=r,this.inputStream=o}async close(){this.inputStream.getTracks().forEach(t=>t.stop()),await this.context.close()}setMuted(t){this.worklet.port.postMessage({type:"setMuted",isMuted:t})}}const Dx=Lg("audio-concat-processor",`
const decodeTable = [0,132,396,924,1980,4092,8316,16764];

export function decodeSample(muLawSample) {
  let sign;
  let exponent;
  let mantissa;
  let sample;
  muLawSample = ~muLawSample;
  sign = (muLawSample & 0x80);
  exponent = (muLawSample >> 4) & 0x07;
  mantissa = muLawSample & 0x0F;
  sample = decodeTable[exponent] + (mantissa << (exponent+3));
  if (sign !== 0) sample = -sample;

  return sample;
}

class AudioConcatProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.buffers = []; // Initialize an empty buffer
    this.cursor = 0;
    this.currentBuffer = null;
    this.wasInterrupted = false;
    this.finished = false;
    
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.format = data.format;
          break;
        case "buffer":
          this.wasInterrupted = false;
          this.buffers.push(
            this.format === "ulaw"
              ? new Uint8Array(data.buffer)
              : new Int16Array(data.buffer)
          );
          break;
        case "interrupt":
          this.wasInterrupted = true;
          break;
        case "clearInterrupted":
          if (this.wasInterrupted) {
            this.wasInterrupted = false;
            this.buffers = [];
            this.currentBuffer = null;
          }
      }
    };
  }
  process(_, outputs) {
    let finished = false;
    const output = outputs[0][0];
    for (let i = 0; i < output.length; i++) {
      if (!this.currentBuffer) {
        if (this.buffers.length === 0) {
          finished = true;
          break;
        }
        this.currentBuffer = this.buffers.shift();
        this.cursor = 0;
      }

      let value = this.currentBuffer[this.cursor];
      if (this.format === "ulaw") {
        value = decodeSample(value);
      }
      output[i] = value / 32768;
      this.cursor++;

      if (this.cursor >= this.currentBuffer.length) {
        this.currentBuffer = null;
      }
    }

    if (this.finished !== finished) {
      this.finished = finished;
      this.port.postMessage({ type: "process", finished });
    }

    return true; // Continue processing
  }
}

registerProcessor("audio-concat-processor", AudioConcatProcessor);
`);class rc{static async create({sampleRate:t,format:n}){let r=null;try{r=new AudioContext({sampleRate:t});const i=r.createAnalyser(),s=r.createGain();s.connect(i),i.connect(r.destination),await Dx(r.audioWorklet);const l=new AudioWorkletNode(r,"audio-concat-processor");return l.port.postMessage({type:"setFormat",format:n}),l.connect(s),await r.resume(),new rc(r,i,s,l)}catch(i){var o;throw(o=r)==null||o.close(),i}}constructor(t,n,r,o){this.context=void 0,this.analyser=void 0,this.gain=void 0,this.worklet=void 0,this.context=t,this.analyser=n,this.gain=r,this.worklet=o}async close(){await this.context.close()}}function Mg(e){return!!e.type}class oc{static async create(t){let n=null;try{var r;const i=(r=t.origin)!=null?r:"wss://api.elevenlabs.io",s=t.signedUrl?t.signedUrl:i+"/v1/convai/conversation?agent_id="+t.agentId,l=["convai"];t.authorization&&l.push(`bearer.${t.authorization}`),n=new WebSocket(s,l);const a=await new Promise((v,y)=>{n.addEventListener("open",()=>{var x;const p={type:"conversation_initiation_client_data"};var g,m,_,S;t.overrides&&(p.conversation_config_override={agent:{prompt:(g=t.overrides.agent)==null?void 0:g.prompt,first_message:(m=t.overrides.agent)==null?void 0:m.firstMessage,language:(_=t.overrides.agent)==null?void 0:_.language},tts:{voice_id:(S=t.overrides.tts)==null?void 0:S.voiceId}}),t.customLlmExtraBody&&(p.custom_llm_extra_body=t.customLlmExtraBody),t.dynamicVariables&&(p.dynamic_variables=t.dynamicVariables),(x=n)==null||x.send(JSON.stringify(p))},{once:!0}),n.addEventListener("error",x=>{setTimeout(()=>y(x),0)}),n.addEventListener("close",y),n.addEventListener("message",x=>{const p=JSON.parse(x.data);Mg(p)&&(p.type==="conversation_initiation_metadata"?v(p.conversation_initiation_metadata_event):console.warn("First received message is not conversation metadata."))},{once:!0})}),{conversation_id:u,agent_output_audio_format:c,user_input_audio_format:f}=a,d=$g(f??"pcm_16000"),h=$g(c);return new oc(n,u,d,h)}catch(i){var o;throw(o=n)==null||o.close(),i}}constructor(t,n,r,o){this.socket=void 0,this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.queue=[],this.disconnectionDetails=null,this.onDisconnectCallback=null,this.onMessageCallback=null,this.socket=t,this.conversationId=n,this.inputFormat=r,this.outputFormat=o,this.socket.addEventListener("error",i=>{setTimeout(()=>this.disconnect({reason:"error",message:"The connection was closed due to a socket error.",context:i}),0)}),this.socket.addEventListener("close",i=>{this.disconnect(i.code===1e3?{reason:"agent",context:i}:{reason:"error",message:i.reason||"The connection was closed by the server.",context:i})}),this.socket.addEventListener("message",i=>{try{const s=JSON.parse(i.data);if(!Mg(s))return;this.onMessageCallback?this.onMessageCallback(s):this.queue.push(s)}catch{}})}close(){this.socket.close()}sendMessage(t){this.socket.send(JSON.stringify(t))}onMessage(t){this.onMessageCallback=t,this.queue.forEach(t),this.queue=[]}onDisconnect(t){this.onDisconnectCallback=t,this.disconnectionDetails&&t(this.disconnectionDetails)}disconnect(t){var n;this.disconnectionDetails||(this.disconnectionDetails=t,(n=this.onDisconnectCallback)==null||n.call(this,t))}}function $g(e){const[t,n]=e.split("_");if(!["pcm","ulaw"].includes(t))throw new Error(`Invalid format: ${e}`);const r=parseInt(n);if(isNaN(r))throw new Error(`Invalid sample rate: ${n}`);return{format:t,sampleRate:r}}const zx={clientTools:{}},Ux={onConnect:()=>{},onDebug:()=>{},onDisconnect:()=>{},onError:()=>{},onMessage:()=>{},onAudio:()=>{},onModeChange:()=>{},onStatusChange:()=>{},onCanSendFeedbackChange:()=>{}};class ic{static async startSession(t){var n;const r=zs({},zx,Ux,t);r.onStatusChange({status:"connecting"}),r.onCanSendFeedbackChange({canSendFeedback:!1});let o=null,i=null,s=null,l=null,a=null;if((n=t.useWakeLock)==null||n)try{a=await navigator.wakeLock.request("screen")}catch{}try{var u,c;l=await navigator.mediaDevices.getUserMedia({audio:!0});const g=(u=t.connectionDelay)!=null?u:{default:0,android:3e3};let m=g.default;var f;if(/android/i.test(navigator.userAgent))m=(f=g.android)!=null?f:m;else if(Ng()){var d;m=(d=g.ios)!=null?d:m}return m>0&&await new Promise(_=>setTimeout(_,m)),i=await oc.create(t),[o,s]=await Promise.all([nc.create(zs({},i.inputFormat,{preferHeadphonesForIosDevices:t.preferHeadphonesForIosDevices})),rc.create(i.outputFormat)]),(c=l)==null||c.getTracks().forEach(_=>_.stop()),l=null,new ic(r,i,o,s,a)}catch(g){var h,v,y,x;r.onStatusChange({status:"disconnected"}),(h=l)==null||h.getTracks().forEach(m=>m.stop()),(v=i)==null||v.close(),await((y=o)==null?void 0:y.close()),await((x=s)==null?void 0:x.close());try{var p;await((p=a)==null?void 0:p.release()),a=null}catch{}throw g}}constructor(t,n,r,o,i){var s=this;this.options=void 0,this.connection=void 0,this.input=void 0,this.output=void 0,this.wakeLock=void 0,this.lastInterruptTimestamp=0,this.mode="listening",this.status="connecting",this.inputFrequencyData=void 0,this.outputFrequencyData=void 0,this.volume=1,this.currentEventId=1,this.lastFeedbackEventId=1,this.canSendFeedback=!1,this.endSession=()=>this.endSessionWithDetails({reason:"user"}),this.endSessionWithDetails=async function(l){if(s.status==="connected"||s.status==="connecting"){s.updateStatus("disconnecting");try{var a;await((a=s.wakeLock)==null?void 0:a.release()),s.wakeLock=null}catch{}s.connection.close(),await s.input.close(),await s.output.close(),s.updateStatus("disconnected"),s.options.onDisconnect(l)}},this.updateMode=l=>{l!==this.mode&&(this.mode=l,this.options.onModeChange({mode:l}))},this.updateStatus=l=>{l!==this.status&&(this.status=l,this.options.onStatusChange({status:l}))},this.updateCanSendFeedback=()=>{const l=this.currentEventId!==this.lastFeedbackEventId;this.canSendFeedback!==l&&(this.canSendFeedback=l,this.options.onCanSendFeedbackChange({canSendFeedback:l}))},this.onMessage=async function(l){switch(l.type){case"interruption":return l.interruption_event&&(s.lastInterruptTimestamp=l.interruption_event.event_id),void s.fadeOutAudio();case"agent_response":return void s.options.onMessage({source:"ai",message:l.agent_response_event.agent_response});case"user_transcript":return void s.options.onMessage({source:"user",message:l.user_transcription_event.user_transcript});case"internal_tentative_agent_response":return void s.options.onDebug({type:"tentative_agent_response",response:l.tentative_agent_response_internal_event.tentative_agent_response});case"client_tool_call":if(s.options.clientTools.hasOwnProperty(l.client_tool_call.tool_name))try{var a;const u=(a=await s.options.clientTools[l.client_tool_call.tool_name](l.client_tool_call.parameters))!=null?a:"Client tool execution successful.",c=typeof u=="object"?JSON.stringify(u):String(u);s.connection.sendMessage({type:"client_tool_result",tool_call_id:l.client_tool_call.tool_call_id,result:c,is_error:!1})}catch(u){s.onError("Client tool execution failed with following error: "+(u==null?void 0:u.message),{clientToolName:l.client_tool_call.tool_name}),s.connection.sendMessage({type:"client_tool_result",tool_call_id:l.client_tool_call.tool_call_id,result:"Client tool execution failed: "+(u==null?void 0:u.message),is_error:!0})}else{if(s.options.onUnhandledClientToolCall)return void s.options.onUnhandledClientToolCall(l.client_tool_call);s.onError(`Client tool with name ${l.client_tool_call.tool_name} is not defined on client`,{clientToolName:l.client_tool_call.tool_name}),s.connection.sendMessage({type:"client_tool_result",tool_call_id:l.client_tool_call.tool_call_id,result:`Client tool with name ${l.client_tool_call.tool_name} is not defined on client`,is_error:!0})}return;case"audio":return void(s.lastInterruptTimestamp<=l.audio_event.event_id&&(s.options.onAudio(l.audio_event.audio_base_64),s.addAudioBase64Chunk(l.audio_event.audio_base_64),s.currentEventId=l.audio_event.event_id,s.updateCanSendFeedback(),s.updateMode("speaking")));case"ping":return void s.connection.sendMessage({type:"pong",event_id:l.ping_event.event_id});default:return void s.options.onDebug(l)}},this.onInputWorkletMessage=l=>{this.status==="connected"&&this.connection.sendMessage({user_audio_chunk:Nx(l.data[0].buffer)})},this.onOutputWorkletMessage=({data:l})=>{l.type==="process"&&this.updateMode(l.finished?"listening":"speaking")},this.addAudioBase64Chunk=l=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"}),this.output.worklet.port.postMessage({type:"buffer",buffer:Mx(l)})},this.fadeOutAudio=()=>{this.updateMode("listening"),this.output.worklet.port.postMessage({type:"interrupt"}),this.output.gain.gain.exponentialRampToValueAtTime(1e-4,this.output.context.currentTime+2),setTimeout(()=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"})},2e3)},this.onError=(l,a)=>{console.error(l,a),this.options.onError(l,a)},this.calculateVolume=l=>{if(l.length===0)return 0;let a=0;for(let u=0;u<l.length;u++)a+=l[u]/255;return a/=l.length,a<0?0:a>1?1:a},this.getId=()=>this.connection.conversationId,this.isOpen=()=>this.status==="connected",this.setVolume=({volume:l})=>{this.volume=l},this.setMicMuted=l=>{this.input.setMuted(l)},this.getInputByteFrequencyData=()=>(this.inputFrequencyData!=null||(this.inputFrequencyData=new Uint8Array(this.input.analyser.frequencyBinCount)),this.input.analyser.getByteFrequencyData(this.inputFrequencyData),this.inputFrequencyData),this.getOutputByteFrequencyData=()=>(this.outputFrequencyData!=null||(this.outputFrequencyData=new Uint8Array(this.output.analyser.frequencyBinCount)),this.output.analyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData),this.getInputVolume=()=>this.calculateVolume(this.getInputByteFrequencyData()),this.getOutputVolume=()=>this.calculateVolume(this.getOutputByteFrequencyData()),this.sendFeedback=l=>{this.canSendFeedback?(this.connection.sendMessage({type:"feedback",score:l?"like":"dislike",event_id:this.currentEventId}),this.lastFeedbackEventId=this.currentEventId,this.updateCanSendFeedback()):console.warn(this.lastFeedbackEventId===0?"Cannot send feedback: the conversation has not started yet.":"Cannot send feedback: feedback has already been sent for the current response.")},this.sendContextualUpdate=l=>{this.connection.sendMessage({type:"contextual_update",text:l})},this.sendUserMessage=l=>{this.connection.sendMessage({type:"user_message",text:l})},this.sendUserActivity=()=>{this.connection.sendMessage({type:"user_activity"})},this.options=t,this.connection=n,this.input=r,this.output=o,this.wakeLock=i,this.options.onConnect({conversationId:n.conversationId}),this.connection.onDisconnect(this.endSessionWithDetails),this.connection.onMessage(this.onMessage),this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.output.worklet.port.onmessage=this.onOutputWorkletMessage,this.updateStatus("connected")}}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sc.apply(null,arguments)}const Fx=["micMuted","volume"];function Bx(e={}){const{micMuted:t,volume:n}=e,r=function(d,h){if(d==null)return{};var v={};for(var y in d)if({}.hasOwnProperty.call(d,y)){if(h.includes(y))continue;v[y]=d[y]}return v}(e,Fx),o=w.useRef(null),i=w.useRef(null),[s,l]=w.useState("disconnected"),[a,u]=w.useState(!1),[c,f]=w.useState("listening");return w.useEffect(()=>{var d;t!==void 0&&(o==null||(d=o.current)==null||d.setMicMuted(t))},[t]),w.useEffect(()=>{var d;n!==void 0&&(o==null||(d=o.current)==null||d.setVolume({volume:n}))},[n]),w.useEffect(()=>()=>{var d;(d=o.current)==null||d.endSession()},[]),{startSession:async d=>{var h;if((h=o.current)!=null&&h.isOpen())return o.current.getId();if(i.current)return(await i.current).getId();try{return i.current=ic.startSession(sc({},r??{},d??{},{onModeChange:({mode:v})=>{f(v)},onStatusChange:({status:v})=>{l(v)},onCanSendFeedbackChange:({canSendFeedback:v})=>{u(v)}})),o.current=await i.current,t!==void 0&&o.current.setMicMuted(t),n!==void 0&&o.current.setVolume({volume:n}),o.current.getId()}finally{i.current=null}},endSession:async()=>{const d=o.current;o.current=null,await(d==null?void 0:d.endSession())},setVolume:({volume:d})=>{var h;(h=o.current)==null||h.setVolume({volume:d})},getInputByteFrequencyData:()=>{var d;return(d=o.current)==null?void 0:d.getInputByteFrequencyData()},getOutputByteFrequencyData:()=>{var d;return(d=o.current)==null?void 0:d.getOutputByteFrequencyData()},getInputVolume:()=>{var d,h;return(d=(h=o.current)==null?void 0:h.getInputVolume())!=null?d:0},getOutputVolume:()=>{var d,h;return(d=(h=o.current)==null?void 0:h.getOutputVolume())!=null?d:0},sendFeedback:d=>{var h;(h=o.current)==null||h.sendFeedback(d)},getId:()=>{var d;return(d=o.current)==null?void 0:d.getId()},sendContextualUpdate:d=>{var h;(h=o.current)==null||h.sendContextualUpdate(d)},sendUserMessage:d=>{var h;(h=o.current)==null||h.sendUserMessage(d)},sendUserActivity:()=>{var d;(d=o.current)==null||d.sendUserActivity()},status:s,canSendFeedback:a,micMuted:t,isSpeaking:c==="speaking"}}const Wx=({primaryColor:e,secondaryColor:t,textColor:n,chatBackground:r,logoUrl:o,agentId:i,onBackToChat:s})=>{const[l,a]=w.useState(!1),u=Bx({onConnect:()=>{console.log("ElevenLabs connected"),a(!0)},onDisconnect:()=>{console.log("ElevenLabs disconnected"),a(!1)},onMessage:d=>{console.log("ElevenLabs message:",d)},onError:d=>{console.error("ElevenLabs error:",d)}}),c=async()=>{try{await u.startSession({agentId:i})}catch(d){console.error("Failed to start call:",d)}},f=async()=>{try{await u.endSession(),a(!1)}catch(d){console.error("Failed to end call:",d)}};return k.jsxs("div",{style:{backgroundColor:r,flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",textAlign:"center"},children:[k.jsxs("div",{style:{marginBottom:"2rem"},children:[k.jsxs("div",{style:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:o?"transparent":e,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",position:"relative",boxShadow:o?"none":l?"0 0 30px rgba(59, 130, 246, 0.5)":"0 4px 12px rgba(0, 0, 0, 0.15)",animation:l?"voicePulse 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease"},children:[o?k.jsx("img",{src:o,alt:"Logo",style:{width:"80px",height:"80px",borderRadius:"50%",objectFit:"contain",imageRendering:"crisp-edges",filter:"contrast(1.05) saturate(1.1)"},onError:d=>{d.currentTarget.style.display="none";const h=d.currentTarget.nextElementSibling;h&&(h.style.display="block")}}):null,k.jsx(cs,{style:{width:"40px",height:"40px",color:"white",display:o?"none":"block"}})]}),k.jsx("h3",{style:{color:n,margin:"0 0 0.5rem 0",fontSize:"24px",fontWeight:"600"},children:l?"Voice Agent Active":"Voice Assistant"}),k.jsx("p",{style:{color:n,opacity:.7,margin:"0 0 2rem 0",fontSize:"16px"},children:l?"Speak naturally to interact with the AI assistant":"Connect to our AI voice assistant for hands-free support"})]}),k.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",justifyContent:"center"},children:[l?k.jsx("button",{onClick:f,style:{backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s"},children:k.jsx(Ly,{style:{width:"20px",height:"20px"}})}):k.jsx("button",{onClick:c,style:{backgroundColor:e,color:"white",border:"none",borderRadius:"50%",width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s"},children:k.jsx(cs,{style:{width:"20px",height:"20px"}})}),k.jsx("button",{onClick:s,style:{backgroundColor:t,color:n,border:`1px solid ${t==="#f1f5f9"?"#e2e8f0":"rgba(0,0,0,0.1)"}`,borderRadius:"28px",padding:"0 1rem",height:"56px",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Back to Chat"})]})]})},Hx=e=>e.split(`
`).map((t,n)=>k.jsxs("span",{children:[t,n<e.split(`
`).length-1&&k.jsx("br",{})]},n)),Dg=async e=>{try{await fetch("https://luccatora.app.n8n.cloud/webhook/webbot-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,timestamp:new Date().toISOString()})})}catch(t){console.error("Failed to log error:",t)}},Vx=({webhookUrl:e="https://luccatora.app.n8n.cloud/webhook/webbot-test",title:t="MediFlow",bio:n="Your medical assistant",placeholder:r="Type your message...",position:o="bottom-right",primaryColor:i="#6366f1",secondaryColor:s="#f1f5f9",chatBackground:l="#ffffff",botTextColor:a="#1f2937",userTextColor:u="#ffffff",headerGradientColor:c="#8b5cf6",headerMainColor:f="#6366f1",userId:d="anonymous",clinicName:h="Demo Clinic",clinicId:v="1",logoUrl:y="/lovable-uploads/fd9d4dbf-9035-4de8-a3a1-81089fcac665.png",logoFile:x,avatarUrl:p="/lovable-uploads/1f938225-daa7-46d3-a44e-d951e492fcd4.png",avatarFile:g,welcomeMessage:m="Hi! I'm your medical assistant. How can I help you today?",welcomeTooltipMessage:_="Click to start chatting with our AI assistant!",admin:S=!1,isVoiceEnabled:b=!0,isElevenLabsEnabled:E=!1,elevenLabsAgentId:R="agent_01k04zwwq3fv5acgzdwmbvfk8k",logoBackgroundColor:$="transparent",logoBorderColor:A="#e5e7eb",headerButtonColor:q="#ffffff",companyName:M="MediFlow",agentName:N="Medical Assistant",callToAction:I="Start a conversation"})=>{const[J,B]=w.useState(y),[G,T]=w.useState(p);w.useEffect(()=>{if(x){const C=URL.createObjectURL(x);return B(C),()=>URL.revokeObjectURL(C)}else B(y)},[x,y]),w.useEffect(()=>{if(g){const C=URL.createObjectURL(g);return T(C),()=>URL.revokeObjectURL(C)}else T(p)},[g,p]);const[j,L]=w.useState(!1),[z,ue]=w.useState(!0),[wn,Ge]=w.useState(!1),Fn=Yw({onTranscription:C=>{C.trim()&&Ko(C)},isVoiceEnabled:b&&j,autoPlayResponses:b?z:!1}),{isRecording:Ae=!1,isProcessing:Ke=!1,recordingTimer:Bs=0,isSpeaking:Vo=!1,voicePermissionDenied:Ws=!1,selectedVoice:Hs="bark",startRecording:Vs=()=>{},stopRecording:Bn=()=>{},speakText:qs=()=>{},stopSpeaking:Wn=()=>{},setSelectedVoice:lc=()=>{}}=b?Fn:{},[ac,Gs]=w.useState(!1),Hn=()=>{if(typeof window<"u")try{return crypto.randomUUID()}catch{return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`},qx=()=>{if(typeof window>"u")return Hn();let C=sessionStorage.getItem("chatbot-session-id");return C||(C=Hn(),sessionStorage.setItem("chatbot-session-id",C)),C},[Vn]=w.useState(()=>qx()),[Ut,zg]=w.useState(!1),[Ks,qo]=w.useState([]),[qn,Ug]=w.useState(""),[uc,Fg]=w.useState(!1),[cc,Bg]=w.useState(!1),[dc,fc]=w.useState(null),[hc,Qs]=w.useState(""),[pc,Go]=w.useState(""),[_k,Wg]=w.useState(!1);w.useState(null);const[Gx,xk]=w.useState(!0),[nt,Hg]=w.useState(!1),[Js,Vg]=w.useState(0),Kx=w.useRef(null),Qx=w.useRef(null),Gn=w.useRef(null),qg=w.useRef(null);w.useEffect(()=>{const C=()=>{if(typeof window<"u"){const W=window.innerHeight,ee=window.innerWidth;Vg(W),document.documentElement.style.setProperty("--chatbot-vh",`${W}px`),document.documentElement.style.setProperty("--chatbot-mobile-vh",`${W}px`);const Y=ee<=768;Y&&document.documentElement.style.setProperty("--chatbot-mobile-vh","-webkit-fill-available"),console.log("Viewport updated:",{vh:W,vw:ee,isMobile:Y})}};C();const F=()=>{if(C(),typeof window<"u"&&window.innerWidth<=768){const ee=window.innerHeight<window.screen.height*.75,Y=document.querySelector(".chatbot-widget-container");Y&&(ee?Y.classList.add("keyboard-open"):Y.classList.remove("keyboard-open"))}};if(window.addEventListener("resize",F),window.addEventListener("orientationchange",()=>{setTimeout(C,100),setTimeout(C,300)}),window.visualViewport){const W=()=>{const ee=window.visualViewport.height;document.documentElement.style.setProperty("--chatbot-mobile-vh",`${ee}px`);const Y=ee<window.innerHeight*.8,Qe=document.querySelector(".chatbot-widget-container");Qe&&(Y?Qe.classList.add("keyboard-open"):Qe.classList.remove("keyboard-open"))};return window.visualViewport.addEventListener("resize",W),window.visualViewport.addEventListener("scroll",W),()=>{window.removeEventListener("resize",F),window.removeEventListener("orientationchange",C),window.visualViewport.removeEventListener("resize",W),window.visualViewport.removeEventListener("scroll",W)}}return()=>{window.removeEventListener("resize",F),window.removeEventListener("orientationchange",C)}},[]),w.useEffect(()=>{const C=()=>{setTimeout(()=>{if(window.innerWidth<=768){const ee=document.querySelector(".chatbot-widget-container");ee&&ee.classList.add("keyboard-open")}setTimeout(()=>{Ys(),Gn.current&&window.innerWidth<=768&&(Gn.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),setTimeout(()=>{const ee=qg.current;ee&&(ee.scrollTop=ee.scrollHeight)},100))},50)},0),setTimeout(()=>{if(Gn.current&&window.innerWidth<=768){const ee=Gn.current.getBoundingClientRect(),Y=window.visualViewport?window.visualViewport.height:window.innerHeight;ee.bottom<=Y||Gn.current.scrollIntoView({behavior:"smooth",block:"end"})}},300)},F=()=>{setTimeout(()=>{const ee=document.querySelector(".chatbot-widget-container");ee&&ee.classList.remove("keyboard-open"),setTimeout(()=>{Ys()},100)},150)},W=Gn.current;if(W)return W.addEventListener("focus",C),W.addEventListener("blur",F),W.addEventListener("touchstart",ee=>{ee.preventDefault(),W.focus()}),()=>{W.removeEventListener("focus",C),W.removeEventListener("blur",F),W.removeEventListener("touchstart",()=>{})}},[Ut]),w.useEffect(()=>{qo([{id:"welcome-1",text:m,sender:"bot",timestamp:new Date,showSuggestions:!0}])},[m]),w.useEffect(()=>{const C=document.querySelector(".chatbot-widget-container");C?(C.style.setProperty("--chatbot-primary",i),C.style.setProperty("--chatbot-secondary",s),C.style.setProperty("--chatbot-background",l),C.style.setProperty("--chatbot-bot-text",a),C.style.setProperty("--chatbot-user-text",u),C.style.setProperty("--chatbot-header-gradient",c),C.style.setProperty("--chatbot-header-main",f),C.style.setProperty("--chatbot-logo-background",$),C.style.setProperty("--chatbot-logo-border",A),document.documentElement.style.setProperty("--chatbot-primary",i),document.documentElement.style.setProperty("--chatbot-secondary",s),document.documentElement.style.setProperty("--chatbot-background",l),document.documentElement.style.setProperty("--chatbot-bot-text",a),document.documentElement.style.setProperty("--chatbot-user-text",u),document.documentElement.style.setProperty("--chatbot-header-gradient",c),document.documentElement.style.setProperty("--chatbot-header-main",f),document.documentElement.style.setProperty("--chatbot-logo-background",$),document.documentElement.style.setProperty("--chatbot-logo-border",A),C.offsetHeight,console.log("Chatbot styles updated:",{primaryColor:i,secondaryColor:s,chatBackground:l,botTextColor:a,userTextColor:u,headerGradientColor:c,headerMainColor:f})):console.warn("Chatbot container not found. Styles not applied.")},[i,s,l,a,u,c,f,$,A]);const Ys=()=>{setTimeout(()=>{const C=document.querySelector(".chatbot-widget-messages");C&&(C.scrollTop=C.scrollHeight,setTimeout(()=>{C.scroll({top:C.scrollHeight,behavior:"smooth"})},50))},0)};w.useEffect(()=>{const C=document.querySelector(".chatbot-widget-messages");if(!C)return;const F=new MutationObserver(()=>{C.scrollTop+C.clientHeight>=C.scrollHeight-100&&Ys()});return F.observe(C,{childList:!0,subtree:!0}),()=>F.disconnect()},[Ut]),w.useEffect(()=>{Ys()},[Ks]),w.useEffect(()=>{Ut&&(Wg(!1),setTimeout(()=>{if(typeof window<"u"){const C=window.innerHeight;Vg(C),document.documentElement.style.setProperty("--chatbot-vh",`${C}px`)}},100))},[Ut]);const[kk,gc]=w.useState(!1),Kn=w.useRef(null);w.useEffect(()=>(Kn.current=setTimeout(()=>{gc(!0)},2e3),()=>{Kn.current&&clearTimeout(Kn.current)}),[]),w.useEffect(()=>{Ut&&(gc(!1),Kn.current&&clearTimeout(Kn.current))},[Ut]),w.useState(0);const Jx=()=>{gc(!1),Kn.current&&clearTimeout(Kn.current),zg(!0)},Yx=async(C,F)=>{try{if(!e){console.warn("Webhook URL not configured for correction");return}const W={type:"correction",originalMessage:C,correctedMessage:F,userId:Vn,clinicName:h,clinicId:v,timestamp:new Date().toISOString()};console.log("Sending correction to webhook:",W),await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)})}catch(W){console.error("Error sending correction to webhook:",W),await Dg({from:"webhook",errorCode:500,errorMessage:W instanceof Error?W.message:"Unknown correction error",errorStack:W instanceof Error&&W.stack||"",payloadToWebHook:{type:"correction",originalMessage:C,correctedMessage:F,userId:Vn,clinicName:h,clinicId:v},initializationUrl:window.location.href})}},Gg=C=>{nt||(Ko(C),Hg(!0))},Ko=async(C,F=0)=>{const W=C||qn.trim();if(!W||uc)return;const ee={id:Date.now().toString(),text:W,sender:"user",timestamp:new Date};qo(Y=>[...Y,ee]),Ug(""),Fg(!0),Bg(!0),Gs(!1),Hg(!0);try{if(!e)throw new Error("Webhook URL not configured");const Y={message:W,userId:Vn,clinicName:h,clinicId:v,timestamp:new Date().toISOString()};console.log("Sending webhook payload:",Y);const Qe=new AbortController,vc=setTimeout(()=>Qe.abort(),3e4),Xs=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y),signal:Qe.signal});if(clearTimeout(vc),!Xs.ok){const yc=await Xs.text();throw new Error(`HTTP ${Xs.status}: ${yc}`)}const pt=await Xs.json();console.log("Webhook response:",pt);let Ft="Sorry, I could not process your request.";Array.isArray(pt)&&pt.length>0&&pt[0].output?Ft=pt[0].output:pt.message?Ft=pt.message:pt.response?Ft=pt.response:typeof pt=="string"&&(Ft=pt);const rk={id:(Date.now()+1).toString(),text:Ft,sender:"bot",timestamp:new Date};qo(yc=>[...yc,rk]),b&&j&&z&&!Vo&&setTimeout(()=>{qs(Ft)},500),!Ut&&Gx&&(Wg(!0),"Notification"in window&&Notification.permission==="granted"&&new Notification(t,{body:Ft.length>50?Ft.substring(0,50)+"...":Ft,icon:y||"/favicon.ico"}))}catch(Y){if(console.error("Error sending message:",Y),await Dg({from:"webhook",errorCode:500,errorMessage:Y instanceof Error?Y.message:"Unknown error",errorStack:Y instanceof Error&&Y.stack||"",payloadToWebHook:{message:W,userId:Vn,clinicName:h,clinicId:v,timestamp:new Date().toISOString()},initializationUrl:window.location.href}),F<2&&Y instanceof Error&&Y.name!=="AbortError"){console.log(`Retrying... Attempt ${F+1}`),setTimeout(()=>{Ko(W,F+1)},1e3*(F+1));return}Gs(!0);const Qe={id:(Date.now()+1).toString(),text:F>=2?"I apologize, but I'm having trouble connecting right now. Please try again in a moment.":"Sorry, I encountered an error. Please try again.",sender:"bot",timestamp:new Date};qo(vc=>[...vc,Qe])}finally{Fg(!1),Bg(!1)}},Xx=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),qn.trim()&&!cc&&Ko(qn))},Zx=C=>{fc(C.id),Qs(C.text),Go("")},Kg=async C=>{const F=hc.trim();if(!F){Go("Message cannot be empty");return}const W=Ks.find(Y=>Y.id===C);if(!W)return;const ee=W.text;F!==ee&&(qo(Y=>Y.map(Qe=>Qe.id===C?{...Qe,text:F}:Qe)),await Yx(ee,F)),fc(null),Qs(""),Go("")},Qg=()=>{fc(null),Qs(""),Go("")},ek=(C,F)=>{C.key==="Enter"&&!C.shiftKey?(C.preventDefault(),Kg(F)):C.key==="Escape"&&(C.preventDefault(),Qg())},mc=hc.trim().length>0,tk=()=>{b&&(L(!j),j&&Wn&&Wn())},nk=()=>{b&&(ue(!z),!z&&Wn&&Wn())};return Vn.length>8&&`${Vn.substring(0,8)}`,k.jsxs("div",{className:`chatbot-widget-container chatbot-widget-${o}`,style:{position:"fixed",bottom:"1.5rem",right:o==="bottom-right"?"1.5rem":"auto",left:o==="bottom-left"?"1.5rem":"auto",top:"auto",zIndex:2147483647},ref:C=>{C&&console.log("Widget position:",{position:o,computedStyle:window.getComputedStyle(C),bottom:window.getComputedStyle(C).bottom,top:window.getComputedStyle(C).top,right:window.getComputedStyle(C).right,left:window.getComputedStyle(C).left})},children:[Ut&&k.jsxs("div",{ref:qg,className:"chatbot-widget-window chatbot-widget-animate-in",style:{height:window.innerWidth<=768?"100vh":Js>0?`min(${Js*.9}px, 600px)`:"600px",maxHeight:window.innerWidth<=768?"100vh":Js>0?`${Js*.9}px`:"600px"},children:[k.jsxs("div",{className:"chatbot-widget-header",style:{backgroundColor:i},children:[k.jsxs("div",{className:"chatbot-widget-header-content",children:[k.jsx("div",{className:"chatbot-widget-header-avatar",children:J&&k.jsx("img",{src:J,alt:"Logo",className:"chatbot-widget-logo",onError:C=>{console.error("Logo failed to load:",J),C.currentTarget.style.display="none"},onLoad:()=>{console.log("Logo loaded successfully:",J)}})}),k.jsxs("div",{children:[k.jsx("h3",{className:"chatbot-widget-header-title",children:t}),k.jsxs("p",{className:"chatbot-widget-header-subtitle",children:[n,b&&j&&k.jsx("span",{style:{marginLeft:"8px",fontSize:"10px"},children:"🎤 Voice Mode"})]})]})]}),k.jsxs("div",{className:"chatbot-widget-header-actions",children:[E&&R&&k.jsx("button",{className:"chatbot-widget-button",onClick:()=>Ge(!0),title:"Start a call",style:{marginRight:"2px",width:"48px",height:"48px",padding:"0",display:"flex !important",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",borderRadius:"50%",cursor:"pointer",opacity:"1",visibility:"visible"},children:k.jsx(cs,{style:{width:"26px",height:"26px",color:"#1f2937 !important"},className:"bg-transparent"})}),k.jsx("button",{className:"chatbot-widget-button",onClick:()=>window.open("/privacy-policy","_blank"),title:"Privacy Policy",style:{marginRight:"0px",width:"32px",height:"32px",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",borderRadius:"50%",cursor:"pointer",opacity:"0.8",transition:"opacity 0.2s ease"},onMouseEnter:C=>C.currentTarget.style.opacity="1",onMouseLeave:C=>C.currentTarget.style.opacity="0.8",children:k.jsx($y,{style:{width:"16px",height:"16px",color:q||"#ffffff"}})}),k.jsx("button",{className:"chatbot-widget-button",onClick:()=>zg(!1),children:k.jsx(Gh,{style:{width:"16px",height:"16px"}})})]})]}),wn?k.jsx(Wx,{primaryColor:i,secondaryColor:s,textColor:a,chatBackground:l,logoUrl:p,agentId:R,onBackToChat:()=>Ge(!1)}):k.jsx(k.Fragment,{children:ac?k.jsx("div",{className:"chatbot-widget-messages chatbot-widget-scrollbar",style:{backgroundColor:l,flex:1,overflowY:"auto",paddingBottom:window.innerWidth<=768?void 0:"1rem"},children:k.jsx("div",{className:"chatbot-widget-messages-content",children:k.jsx("p",{className:"chatbot-widget-message-text",children:"We're experiencing some technical difficulties. Please refresh the page to try again."})})}):k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"chatbot-widget-messages chatbot-widget-scrollbar",style:{backgroundColor:l,flex:1,overflowY:"auto",paddingBottom:window.innerWidth<=768?void 0:"1rem"},children:k.jsxs("div",{className:"chatbot-widget-messages-content",children:[Ks.map(C=>k.jsx("div",{className:`chatbot-widget-message ${C.sender==="user"?"chatbot-widget-message-user":"chatbot-widget-message-bot"} ${dc===C.id?"editing":""}`,children:k.jsx("div",{className:`chatbot-widget-message-bubble ${C.sender==="user"?"chatbot-widget-message-bubble-user":"chatbot-widget-message-bubble-bot"} ${dc===C.id?"editing":""}`,style:{backgroundColor:C.sender==="user"?i:s,color:C.sender==="user"?u:a,border:C.sender==="bot"?`1px solid ${s==="#f1f5f9"?"#e2e8f0":"rgba(0,0,0,0.1)"}`:"none"},children:dc===C.id?k.jsxs("div",{style:{width:"100%"},children:[k.jsxs("div",{style:{position:"relative"},children:[k.jsx("textarea",{ref:Qx,value:hc,onChange:F=>{Qs(F.target.value),Go("")},onKeyDown:F=>ek(F,C.id),className:`chatbot-widget-textarea full-width ${pc?"error":""}`,style:{color:a,backgroundColor:l},placeholder:"Edit your message..."}),pc&&k.jsx("div",{className:"chatbot-widget-error",children:pc})]}),k.jsxs("div",{className:"chatbot-widget-edit-controls",children:[k.jsx("button",{onClick:()=>Kg(C.id),disabled:!mc,className:"chatbot-widget-button",style:{color:a,opacity:mc?1:.5,cursor:mc?"pointer":"not-allowed"},children:k.jsx(Ry,{style:{width:"14px",height:"14px"}})}),k.jsx("button",{onClick:Qg,className:"chatbot-widget-button",style:{color:a},children:k.jsx(Gh,{style:{width:"14px",height:"14px"}})})]})]}):k.jsxs(k.Fragment,{children:[k.jsx("p",{className:"chatbot-widget-message-text",children:Hx(C.text)}),C.showSuggestions&&C.sender==="bot"&&!nt&&k.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"6px",marginTop:"12px",flexWrap:"nowrap",justifyContent:"flex-start"},children:[k.jsxs("button",{onClick:()=>Gg("Book now"),disabled:nt,style:{backgroundColor:i,border:"none",color:u,padding:"8px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",cursor:nt?"not-allowed":"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px",opacity:nt?.6:1,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",whiteSpace:"nowrap",minWidth:"auto"},onMouseEnter:F=>{nt||(F.currentTarget.style.transform="translateY(-1px)",F.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)")},onMouseLeave:F=>{nt||(F.currentTarget.style.transform="translateY(0)",F.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)")},children:[k.jsx(Py,{size:14}),"Book Now"]}),k.jsxs("button",{onClick:()=>Gg("Ask Question?"),disabled:nt,style:{backgroundColor:i,border:"none",color:u,padding:"8px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",cursor:nt?"not-allowed":"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px",opacity:nt?.6:1,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",whiteSpace:"nowrap",minWidth:"auto"},onMouseEnter:F=>{nt||(F.currentTarget.style.transform="translateY(-1px)",F.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)")},onMouseLeave:F=>{nt||(F.currentTarget.style.transform="translateY(0)",F.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)")},children:[k.jsx(jy,{size:14}),"Ask Question"]})]}),k.jsx("span",{className:"chatbot-widget-message-timestamp",children:C.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),C.sender==="bot"&&S&&k.jsx("div",{className:"chatbot-widget-message-actions",children:k.jsx("button",{onClick:()=>Zx(C),className:"chatbot-widget-button",style:{color:a},children:k.jsx(Dy,{style:{width:"12px",height:"12px"}})})})]})})},C.id)),cc&&k.jsx("div",{className:"chatbot-widget-message chatbot-widget-message-bot",children:k.jsx("div",{className:"chatbot-widget-message-bubble chatbot-widget-message-bubble-bot",style:{backgroundColor:s,color:a,border:`1px solid ${s==="#f1f5f9"?"#e2e8f0":"rgba(0,0,0,0.1)"}`},children:k.jsxs("div",{className:"chatbot-widget-typing",children:[k.jsx("div",{className:"chatbot-widget-typing-dot"}),k.jsx("div",{className:"chatbot-widget-typing-dot"}),k.jsx("div",{className:"chatbot-widget-typing-dot"})]})})}),k.jsx("div",{ref:Kx})]})}),k.jsxs("div",{className:"chatbot-widget-input",style:{position:"relative"},children:[!Ks.some(C=>C.sender==="user")&&E&&R&&k.jsxs("button",{onClick:()=>Ge(!0),className:"w-full mb-3 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",style:{backgroundColor:i,fontSize:"16px",fontWeight:"600"},children:[k.jsx(cs,{style:{width:"20px",height:"20px"}}),"Call our AI Voice Agent"]}),k.jsxs("div",{className:"chatbot-widget-input-container",children:[k.jsx("input",{ref:Gn,value:qn,onChange:C=>Ug(C.target.value),onKeyPress:Xx,placeholder:b&&Ae?"Listening...":b&&Ke?"Processing...":r,disabled:uc||b&&(Ae||Ke),className:"chatbot-widget-input-field",style:{color:a,opacity:b&&(Ae||Ke)?.7:1},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),b&&k.jsx(Xw,{isRecording:Ae,isProcessing:Ke,recordingTimer:Bs,isSpeaking:Vo,voicePermissionDenied:Ws,isVoiceEnabled:j,onStartRecording:Vs,onStopRecording:Bn,onStopSpeaking:Wn,onToggleVoice:tk,primaryColor:i}),k.jsx("button",{onClick:()=>{qn.trim()&&!cc&&Ko(qn)},disabled:uc||!qn.trim()||b&&(Ae||Ke),className:"chatbot-widget-send-button",style:{backgroundColor:i},children:k.jsx(Ny,{style:{width:"14px",height:"14px"}})})]}),b&&j&&k.jsx(Lx,{selectedVoice:Hs,onVoiceChange:lc,autoPlayResponses:z,onAutoPlayToggle:nk,primaryColor:i})]})]})})]}),!Ut&&k.jsx("div",{className:"voice-chat-widget",style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999},children:k.jsxs("div",{className:"chat-bubble",style:{background:"#ffffff",borderRadius:"24px",padding:"16px 20px",boxShadow:"0 4px 24px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08)",maxWidth:"380px",cursor:"pointer"},onClick:Jx,children:[k.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"16px"},children:[k.jsx("div",{style:{width:"48px",height:"48px",background:G?$||"transparent":i,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,overflow:"hidden"},children:G?k.jsx("img",{src:G,alt:"Avatar",style:{width:"100%",height:"100%",objectFit:"contain",imageRendering:"crisp-edges",filter:"contrast(1.05) saturate(1.1)"},onError:C=>{console.error("Avatar logo failed to load:",G),C.currentTarget.style.display="none"}}):k.jsx("div",{style:{color:"#ffffff",fontSize:"11px",fontWeight:"600",textAlign:"center",lineHeight:"1.2"},children:M.split(" ").slice(0,2).join(`
`).toUpperCase()||"AI"})}),k.jsx("div",{style:{flex:1},children:k.jsx("p",{style:{color:"#1a1a1a",fontSize:"15px",lineHeight:"1.4",margin:0},children:_||`Hey! I'm ${N}, your AI assistant. Feel free to chat with me and ask any questions!`})})]}),k.jsxs("button",{style:{background:i,color:"#ffffff",border:"none",borderRadius:"24px",padding:"14px 24px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",width:"100%",transition:"all 0.2s ease"},onMouseEnter:C=>{C.currentTarget.style.background=`${i}dd`,C.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:C=>{C.currentTarget.style.background=i,C.currentTarget.style.transform="translateY(0)"},children:[k.jsx(Ay,{style:{width:"20px",height:"20px"}}),I||"Start a conversation"]})]})})]})};class Us{constructor(){wc(this,"container",null);wc(this,"root",null)}init(t){this.destroy(),this.container=document.createElement("div"),this.container.id="chatbot-widget-container",this.container.className="chatbot-widget-container",document.body.appendChild(this.container),this.root=Uh(this.container),this.root.render(Oc.createElement(Vx,{webhookUrl:t.webhookUrl,title:t.title,bio:t.bio,placeholder:t.placeholder,position:t.position,primaryColor:t.primaryColor,secondaryColor:t.secondaryColor,chatBackground:t.chatBackground,botTextColor:t.botTextColor,userTextColor:t.userTextColor,headerGradientColor:t.headerGradientColor,headerMainColor:t.headerMainColor,logoUrl:t.logoUrl,welcomeMessage:t.welcomeMessage,userId:t.userId,clinicName:t.clinicName,clinicId:t.clinicId,logoBackgroundColor:t.logoBackgroundColor,logoBorderColor:t.logoBorderColor,headerButtonColor:t.headerButtonColor,fontFamily:t.fontFamily})),console.log("ChatbotWidget initialized with suggestion buttons and line break support")}destroy(){this.root&&(this.root.unmount(),this.root=null),this.container&&(document.body.removeChild(this.container),this.container=null)}}const Fs=new Us;return typeof globalThis<"u"&&(globalThis.ChatbotWidget={ChatbotManager:Us,init:e=>Fs.init(e),destroy:()=>Fs.destroy()}),typeof window<"u"&&(window.ChatbotWidget={ChatbotManager:Us,init:e=>Fs.init(e),destroy:()=>Fs.destroy()},console.log("ChatbotWidget methods available:",{ChatbotManager:typeof window.ChatbotWidget.ChatbotManager,init:typeof window.ChatbotWidget.init,destroy:typeof window.ChatbotWidget.destroy}),console.log("New features included: suggestion buttons with icons, line break rendering, toggle button visibility fix")),kt.ChatbotManager=Us,Object.defineProperty(kt,Symbol.toStringTag,{value:"Module"}),kt}({});
