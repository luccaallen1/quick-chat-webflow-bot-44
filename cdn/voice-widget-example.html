<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Widget CDN Example</title>
    
    <!-- Load Voice Widget CSS -->
    <!-- <link rel="stylesheet" href="https://voice-agent-uvke.onrender.com/cdn/voice-widget.css"> -->
    <link rel="stylesheet" href="./voice-widget.css">
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .demo-container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            max-width: 800px;
            width: 100%;
        }
        
        .code-block {
            background: #f4f4f4;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border: 1px solid #ddd;
        }
        
        code {
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            color: #333;
        }
        
        .widget-demo {
            width: 100%;
            max-width: 1200px;
            margin: 20px 0;
            display: flex;
            justify-content: center;
        }
        
        .note {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .warning {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>Voice Widget CDN Integration</h1>
    
    <div class="demo-container">
        <h2>How to Integrate</h2>
        <p>Add these two files to your HTML:</p>
        
        <div class="code-block">
            <code>&lt;!-- 1. Include the CSS file in your &lt;head&gt; --&gt;
&lt;link rel="stylesheet" href="https://voice-agent-uvke.onrender.com/cdn/voice-widget.css"&gt;

&lt;!-- 2. Create a container element where you want the widget --&gt;
&lt;div id="my-voice-widget" style="max-width: 800px; margin: 0 auto;"&gt;&lt;/div&gt;

&lt;!-- 3. Include the JS file before closing &lt;/body&gt; --&gt;
&lt;script src="https://voice-agent-uvke.onrender.com/cdn/voice-widget.js"&gt;&lt;/script&gt;

&lt;!-- 4. Initialize the widget with container ID --&gt;
&lt;script&gt;
  window.VoiceWidget.init({
    agentId: 'your-11labs-agent-id', // Required
    containerId: 'my-voice-widget', // Specify container
    title: 'AI Voice Assistant',
    description: 'Talk to our AI for instant help',
    buttonText: 'Start Voice Chat',
    buttonColor: '#4F46E5',
    backgroundColor: '#ffffff',
    textColor: '#1F2937',
    avatarUrl: 'https://example.com/avatar.png'
  });
&lt;/script&gt;</code>
        </div>
        
        <div class="warning">
            <strong>‚ö†Ô∏è Important:</strong> Replace <code>your-11labs-agent-id</code> with your actual 11Labs agent ID from your 11Labs dashboard. The widget requires a valid agent ID to function.
        </div>
        
        <div class="note">
            <strong>üìã Files Generated:</strong><br>
            ‚Ä¢ <strong>voice-widget.js</strong> (170.62 KB) - Main widget functionality<br>
            ‚Ä¢ <strong>voice-widget.css</strong> (0.89 KB) - Styling and animations
        </div>
    </div>
    
    <div class="demo-container">
        <h2>Configuration Options</h2>
        <ul>
            <li><strong>agentId</strong> (required) - Your 11Labs agent ID</li>
            <li><strong>containerId</strong> (recommended) - ID of existing container element to prevent overflow</li>
            <li><strong>title</strong> - Widget title text</li>
            <li><strong>description</strong> - Description text below title</li>
            <li><strong>buttonText</strong> - Call button text</li>
            <li><strong>buttonColor</strong> - Button background color</li>
            <li><strong>backgroundColor</strong> - Widget background color</li>
            <li><strong>textColor</strong> - Main text color</li>
            <li><strong>secondaryTextColor</strong> - Secondary text color</li>
            <li><strong>avatarUrl</strong> - Avatar image URL</li>
        </ul>
        
        <div class="note">
            <strong>üí° Pro Tip:</strong> Always use <code>containerId</code> to specify where the widget should render. This prevents layout issues and horizontal scrolling, especially on mobile devices.
        </div>
    </div>
    
    <!-- Demo Widget -->
    <div class="widget-demo">
        <div id="demo-widget-container" style="max-width: 100%; overflow-x: hidden;"></div>
    </div>
    
    <!-- Load Voice Widget JS -->
    <script src="https://voice-agent-uvke.onrender.com/cdn/voice-widget.js"></script>
    
    <!-- Initialize Demo Widget -->
    <script>
        // Wait for everything to be ready
        window.addEventListener('load', function() {
            console.log('Page fully loaded');
            console.log('VoiceWidget available:', !!window.VoiceWidget);
            console.log('VoiceWidget methods:', window.VoiceWidget);
            
            // Give it a moment to ensure script is fully executed
            setTimeout(function() {
                if (window.VoiceWidget && window.VoiceWidget.VoiceManager) {
                    console.log('Initializing VoiceWidget...');
                    const instance = new window.VoiceWidget.VoiceManager();
                    instance.init({
                        agentId: 'agent_01k04zwwq3fv5acgzdwmbvfk8k',
                        title: 'Demo Voice Assistant',
                        description: 'This is a demo of the voice widget. Replace the agent ID to test with a real 11Labs agent.',
                        buttonText: 'Try Voice Chat',
                        buttonColor: '#4F46E5',
                        backgroundColor: '#ffffff',
                        textColor: '#1F2937',
                        secondaryTextColor: '#6B7280',
                        avatarUrl: 'https://api.dicebear.com/7.x/avataaars/svg?seed=VoiceBot',
                        containerId: 'demo-widget-container'
                    });
                } else {
                    console.error('VoiceWidget still not available');
                    console.log('window.VoiceWidget:', window.VoiceWidget);
                }
            }, 500);
        });
    </script>
</body>
</html>