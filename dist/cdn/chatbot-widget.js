var ChatbotWidget=function(yt){"use strict";var nk=Object.defineProperty;var rk=(yt,wt,he)=>wt in yt?nk(yt,wt,{enumerable:!0,configurable:!0,writable:!0,value:he}):yt[wt]=he;var tc=(yt,wt,he)=>rk(yt,typeof wt!="symbol"?wt+"":wt,he);function wt(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Og(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var nc={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mr=Symbol.for("react.element"),Ig=Symbol.for("react.portal"),Lg=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),$g=Symbol.for("react.profiler"),Mg=Symbol.for("react.provider"),Dg=Symbol.for("react.context"),zg=Symbol.for("react.forward_ref"),Ug=Symbol.for("react.suspense"),Fg=Symbol.for("react.memo"),Bg=Symbol.for("react.lazy"),rc=Symbol.iterator;function Wg(e){return e===null||typeof e!="object"?null:(e=rc&&e[rc]||e["@@iterator"],typeof e=="function"?e:null)}var oc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ic=Object.assign,sc={};function Fn(e,t,n){this.props=e,this.context=t,this.refs=sc,this.updater=n||oc}Fn.prototype.isReactComponent={},Fn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Fn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ac(){}ac.prototype=Fn.prototype;function Bs(e,t,n){this.props=e,this.context=t,this.refs=sc,this.updater=n||oc}var Ws=Bs.prototype=new ac;Ws.constructor=Bs,ic(Ws,Fn.prototype),Ws.isPureReactComponent=!0;var lc=Array.isArray,uc=Object.prototype.hasOwnProperty,Vs={current:null},cc={key:!0,ref:!0,__self:!0,__source:!0};function dc(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)uc.call(t,r)&&!cc.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:Mr,type:e,key:i,ref:s,props:o,_owner:Vs.current}}function Vg(e,t){return{$$typeof:Mr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hs(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mr}function Hg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var fc=/\/+/g;function qs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hg(""+e.key):t.toString(36)}function Ho(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Mr:case Ig:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+qs(s,0):r,lc(o)?(n="",e!=null&&(n=e.replace(fc,"$&/")+"/"),Ho(o,t,n,"",function(u){return u})):o!=null&&(Hs(o)&&(o=Vg(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(fc,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",lc(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+qs(i,a);s+=Ho(i,t,n,l,o)}else if(l=Wg(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+qs(i,a++),s+=Ho(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function qo(e,t,n){if(e==null)return e;var r=[],o=0;return Ho(e,r,"","",function(i){return t.call(n,i,o++)}),r}function qg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},Go={transition:null},Gg={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:Go,ReactCurrentOwner:Vs};function hc(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:qo,forEach:function(e,t,n){qo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qo(e,function(){t++}),t},toArray:function(e){return qo(e,function(t){return t})||[]},only:function(e){if(!Hs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},B.Component=Fn,B.Fragment=Lg,B.Profiler=$g,B.PureComponent=Bs,B.StrictMode=Ng,B.Suspense=Ug,B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gg,B.act=hc,B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ic({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Vs.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)uc.call(t,l)&&!cc.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Mr,type:e.type,key:o,ref:i,props:r,_owner:s}},B.createContext=function(e){return e={$$typeof:Dg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mg,_context:e},e.Consumer=e},B.createElement=dc,B.createFactory=function(e){var t=dc.bind(null,e);return t.type=e,t},B.createRef=function(){return{current:null}},B.forwardRef=function(e){return{$$typeof:zg,render:e}},B.isValidElement=Hs,B.lazy=function(e){return{$$typeof:Bg,_payload:{_status:-1,_result:e},_init:qg}},B.memo=function(e,t){return{$$typeof:Fg,type:e,compare:t===void 0?null:t}},B.startTransition=function(e){var t=Go.transition;Go.transition={};try{e()}finally{Go.transition=t}},B.unstable_act=hc,B.useCallback=function(e,t){return ke.current.useCallback(e,t)},B.useContext=function(e){return ke.current.useContext(e)},B.useDebugValue=function(){},B.useDeferredValue=function(e){return ke.current.useDeferredValue(e)},B.useEffect=function(e,t){return ke.current.useEffect(e,t)},B.useId=function(){return ke.current.useId()},B.useImperativeHandle=function(e,t,n){return ke.current.useImperativeHandle(e,t,n)},B.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)},B.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)},B.useMemo=function(e,t){return ke.current.useMemo(e,t)},B.useReducer=function(e,t,n){return ke.current.useReducer(e,t,n)},B.useRef=function(e){return ke.current.useRef(e)},B.useState=function(e){return ke.current.useState(e)},B.useSyncExternalStore=function(e,t,n){return ke.current.useSyncExternalStore(e,t,n)},B.useTransition=function(){return ke.current.useTransition()},B.version="18.3.1",nc.exports=B;var w=nc.exports;const pc=Og(w),Kg=wt({__proto__:null,default:pc},[w]);var gc={exports:{}},Le={},mc={exports:{}},vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,j){var N=E.length;E.push(j);e:for(;0<N;){var F=N-1>>>1,oe=E[F];if(0<o(oe,j))E[F]=j,E[N]=oe,N=F;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var j=E[0],N=E.pop();if(N!==j){E[0]=N;e:for(var F=0,oe=E.length,$t=oe>>>1;F<$t;){var Ke=2*(F+1)-1,Mt=E[Ke],Qe=Ke+1,Je=E[Qe];if(0>o(Mt,N))Qe<oe&&0>o(Je,Mt)?(E[F]=Je,E[Qe]=N,F=Qe):(E[F]=Mt,E[Ke]=N,F=Ke);else if(Qe<oe&&0>o(Je,N))E[F]=Je,E[Qe]=N,F=Qe;else break e}}return j}function o(E,j){var N=E.sortIndex-j.sortIndex;return N!==0?N:E.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(E){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=E)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function k(E){if(y=!1,m(E),!v)if(n(l)!==null)v=!0,z(_);else{var j=n(u);j!==null&&V(k,j.startTime-E)}}function _(E,j){v=!1,y&&(y=!1,p(T),T=-1),h=!0;var N=f;try{for(m(j),d=n(l);d!==null&&(!(d.expirationTime>j)||E&&!D());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var oe=F(d.expirationTime<=j);j=e.unstable_now(),typeof oe=="function"?d.callback=oe:d===n(l)&&r(l),m(j)}else r(l);d=n(l)}if(d!==null)var $t=!0;else{var Ke=n(u);Ke!==null&&V(k,Ke.startTime-j),$t=!1}return $t}finally{d=null,f=N,h=!1}}var b=!1,C=null,T=-1,$=5,A=-1;function D(){return!(e.unstable_now()-A<$)}function L(){if(C!==null){var E=e.unstable_now();A=E;var j=!0;try{j=C(!0,E)}finally{j?I():(b=!1,C=null)}}else b=!1}var I;if(typeof g=="function")I=function(){g(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,G=R.port2;R.port1.onmessage=L,I=function(){G.postMessage(null)}}else I=function(){x(L,0)};function z(E){C=E,b||(b=!0,I())}function V(E,j){T=x(function(){E(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,z(_))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var N=f;f=j;try{return E()}finally{f=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,j){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var N=f;f=E;try{return j()}finally{f=N}},e.unstable_scheduleCallback=function(E,j,N){var F=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?F+N:F):N=F,E){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=N+oe,E={id:c++,callback:j,priorityLevel:E,startTime:N,expirationTime:oe,sortIndex:-1},N>F?(E.sortIndex=N,t(u,E),n(l)===null&&E===n(u)&&(y?(p(T),T=-1):y=!0,V(k,N-F))):(E.sortIndex=oe,t(l,E),v||h||(v=!0,z(_))),E},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(E){var j=f;return function(){var N=f;f=j;try{return E.apply(this,arguments)}finally{f=N}}}})(vc),mc.exports=vc;var Qg=mc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jg=w,Ne=Qg;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yc=new Set,Dr={};function wn(e,t){Bn(e,t),Bn(e+"Capture",t)}function Bn(e,t){for(Dr[e]=t,e=0;e<t.length;e++)yc.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=Object.prototype.hasOwnProperty,Yg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wc={},xc={};function Xg(e){return Gs.call(xc,e)?!0:Gs.call(wc,e)?!1:Yg.test(e)?xc[e]=!0:(wc[e]=!0,!1)}function Zg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function em(e,t,n,r){if(t===null||typeof t>"u"||Zg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new Se(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new Se(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new Se(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new Se(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){pe[e]=new Se(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){pe[e]=new Se(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){pe[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ks=/[\-:]([a-z])/g;function Qs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ks,Qs);pe[t]=new Se(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ks,Qs);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ks,Qs);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)}),pe.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function Js(e,t,n,r){var o=pe.hasOwnProperty(t)?pe[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(em(t,n,o,r)&&(n=null),r||o===null?Xg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _t=Jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ko=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),Vn=Symbol.for("react.fragment"),Ys=Symbol.for("react.strict_mode"),Xs=Symbol.for("react.profiler"),_c=Symbol.for("react.provider"),kc=Symbol.for("react.context"),Zs=Symbol.for("react.forward_ref"),ea=Symbol.for("react.suspense"),ta=Symbol.for("react.suspense_list"),na=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Sc=Symbol.for("react.offscreen"),bc=Symbol.iterator;function zr(e){return e===null||typeof e!="object"?null:(e=bc&&e[bc]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,ra;function Ur(e){if(ra===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ra=t&&t[1]||""}return`
`+ra+e}var oa=!1;function ia(e,t){if(!e||oa)return"";oa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{oa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ur(e):""}function tm(e){switch(e.tag){case 5:return Ur(e.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return e=ia(e.type,!1),e;case 11:return e=ia(e.type.render,!1),e;case 1:return e=ia(e.type,!0),e;default:return""}}function sa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vn:return"Fragment";case Wn:return"Portal";case Xs:return"Profiler";case Ys:return"StrictMode";case ea:return"Suspense";case ta:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kc:return(e.displayName||"Context")+".Consumer";case _c:return(e._context.displayName||"Context")+".Provider";case Zs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case na:return t=e.displayName||null,t!==null?t:sa(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return sa(e(t))}catch{}}return null}function nm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sa(t);case 8:return t===Ys?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rm(e){var t=Cc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qo(e){e._valueTracker||(e._valueTracker=rm(e))}function Ec(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function aa(e,t){var n=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Tc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pc(e,t){t=t.checked,t!=null&&Js(e,"checked",t,!1)}function la(e,t){Pc(e,t);var n=zt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ua(e,t.type,n):t.hasOwnProperty("defaultValue")&&ua(e,t.type,zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ua(e,t,n){(t!=="number"||Jo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fr=Array.isArray;function Hn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ca(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ac(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Fr(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zt(n)}}function Oc(e,t){var n=zt(t.value),r=zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Rc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ic(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function da(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ic(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yo,Lc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yo=Yo||document.createElement("div"),Yo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Br(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},om=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(e){om.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wr[t]=Wr[e]})});function Nc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wr.hasOwnProperty(e)&&Wr[e]?(""+t).trim():t+"px"}function $c(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Nc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var im=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fa(e,t){if(t){if(im[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function ha(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=null;function ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,qn=null,Gn=null;function Mc(e){if(e=fo(e)){if(typeof ma!="function")throw Error(P(280));var t=e.stateNode;t&&(t=xi(t),ma(e.stateNode,e.type,t))}}function Dc(e){qn?Gn?Gn.push(e):Gn=[e]:qn=e}function zc(){if(qn){var e=qn,t=Gn;if(Gn=qn=null,Mc(e),t)for(e=0;e<t.length;e++)Mc(t[e])}}function Uc(e,t){return e(t)}function Fc(){}var va=!1;function Bc(e,t,n){if(va)return e(t,n);va=!0;try{return Uc(e,t,n)}finally{va=!1,(qn!==null||Gn!==null)&&(Fc(),zc())}}function Vr(e,t){var n=e.stateNode;if(n===null)return null;var r=xi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var ya=!1;if(xt)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){ya=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{ya=!1}function sm(e,t,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var qr=!1,Xo=null,Zo=!1,wa=null,am={onError:function(e){qr=!0,Xo=e}};function lm(e,t,n,r,o,i,s,a,l){qr=!1,Xo=null,sm.apply(am,arguments)}function um(e,t,n,r,o,i,s,a,l){if(lm.apply(this,arguments),qr){if(qr){var u=Xo;qr=!1,Xo=null}else throw Error(P(198));Zo||(Zo=!0,wa=u)}}function xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vc(e){if(xn(e)!==e)throw Error(P(188))}function cm(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Vc(o),e;if(i===r)return Vc(o),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Hc(e){return e=cm(e),e!==null?qc(e):null}function qc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qc(e);if(t!==null)return t;e=e.sibling}return null}var Gc=Ne.unstable_scheduleCallback,Kc=Ne.unstable_cancelCallback,dm=Ne.unstable_shouldYield,fm=Ne.unstable_requestPaint,se=Ne.unstable_now,hm=Ne.unstable_getCurrentPriorityLevel,xa=Ne.unstable_ImmediatePriority,Qc=Ne.unstable_UserBlockingPriority,ei=Ne.unstable_NormalPriority,pm=Ne.unstable_LowPriority,Jc=Ne.unstable_IdlePriority,ti=null,ut=null;function gm(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(ti,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:ym,mm=Math.log,vm=Math.LN2;function ym(e){return e>>>=0,e===0?32:31-(mm(e)/vm|0)|0}var ni=64,ri=4194304;function Gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Gr(a):(i&=s,i!==0&&(r=Gr(i)))}else s=n&~o,s!==0?r=Gr(s):i!==0&&(r=Gr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ye(t),o=1<<n,r|=e[n],t&=~o;return r}function wm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Ye(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=wm(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function _a(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yc(){var e=ni;return ni<<=1,!(ni&4194240)&&(ni=64),e}function ka(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=n}function _m(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ye(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Sa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ye(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var K=0;function Xc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zc,ba,ed,td,nd,Ca=!1,ii=[],Ut=null,Ft=null,Bt=null,Qr=new Map,Jr=new Map,Wt=[],km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rd(e,t){switch(e){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Qr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(t.pointerId)}}function Yr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=fo(t),t!==null&&ba(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Sm(e,t,n,r,o){switch(t){case"focusin":return Ut=Yr(Ut,e,t,n,r,o),!0;case"dragenter":return Ft=Yr(Ft,e,t,n,r,o),!0;case"mouseover":return Bt=Yr(Bt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Qr.set(i,Yr(Qr.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Jr.set(i,Yr(Jr.get(i)||null,e,t,n,r,o)),!0}return!1}function od(e){var t=_n(e.target);if(t!==null){var n=xn(t);if(n!==null){if(t=n.tag,t===13){if(t=Wc(n),t!==null){e.blockedOn=t,nd(e.priority,function(){ed(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ta(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pa=r,n.target.dispatchEvent(r),pa=null}else return t=fo(n),t!==null&&ba(t),e.blockedOn=n,!1;t.shift()}return!0}function id(e,t,n){si(e)&&n.delete(t)}function bm(){Ca=!1,Ut!==null&&si(Ut)&&(Ut=null),Ft!==null&&si(Ft)&&(Ft=null),Bt!==null&&si(Bt)&&(Bt=null),Qr.forEach(id),Jr.forEach(id)}function Xr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ca||(Ca=!0,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,bm)))}function Zr(e){function t(o){return Xr(o,e)}if(0<ii.length){Xr(ii[0],e);for(var n=1;n<ii.length;n++){var r=ii[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ut!==null&&Xr(Ut,e),Ft!==null&&Xr(Ft,e),Bt!==null&&Xr(Bt,e),Qr.forEach(t),Jr.forEach(t),n=0;n<Wt.length;n++)r=Wt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)od(n),n.blockedOn===null&&Wt.shift()}var Kn=_t.ReactCurrentBatchConfig,ai=!0;function Cm(e,t,n,r){var o=K,i=Kn.transition;Kn.transition=null;try{K=1,Ea(e,t,n,r)}finally{K=o,Kn.transition=i}}function Em(e,t,n,r){var o=K,i=Kn.transition;Kn.transition=null;try{K=4,Ea(e,t,n,r)}finally{K=o,Kn.transition=i}}function Ea(e,t,n,r){if(ai){var o=Ta(e,t,n,r);if(o===null)Va(e,t,r,li,n),rd(e,r);else if(Sm(o,e,t,n,r))r.stopPropagation();else if(rd(e,r),t&4&&-1<km.indexOf(e)){for(;o!==null;){var i=fo(o);if(i!==null&&Zc(i),i=Ta(e,t,n,r),i===null&&Va(e,t,r,li,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Va(e,t,r,null,n)}}var li=null;function Ta(e,t,n,r){if(li=null,e=ga(r),e=_n(e),e!==null)if(t=xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return li=e,null}function sd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hm()){case xa:return 1;case Qc:return 4;case ei:case pm:return 16;case Jc:return 536870912;default:return 16}default:return 16}}var Vt=null,Pa=null,ui=null;function ad(){if(ui)return ui;var e,t=Pa,n=t.length,r,o="value"in Vt?Vt.value:Vt.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return ui=o.slice(e,1<r?1-r:void 0)}function ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function di(){return!0}function ld(){return!1}function $e(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?di:ld,this.isPropagationStopped=ld,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),t}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=$e(Qn),eo=te({},Qn,{view:0,detail:0}),Tm=$e(eo),Aa,Oa,to,fi=te({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?(Aa=e.screenX-to.screenX,Oa=e.screenY-to.screenY):Oa=Aa=0,to=e),Aa)},movementY:function(e){return"movementY"in e?e.movementY:Oa}}),ud=$e(fi),Pm=te({},fi,{dataTransfer:0}),jm=$e(Pm),Am=te({},eo,{relatedTarget:0}),Ra=$e(Am),Om=te({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Rm=$e(Om),Im=te({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lm=$e(Im),Nm=te({},Qn,{data:0}),cd=$e(Nm),$m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dm[e])?!!t[e]:!1}function Ia(){return zm}var Um=te({},eo,{key:function(e){if(e.key){var t=$m[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(e){return e.type==="keypress"?ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fm=$e(Um),Bm=te({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=$e(Bm),Wm=te({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),Vm=$e(Wm),Hm=te({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qm=$e(Hm),Gm=te({},fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Km=$e(Gm),Qm=[9,13,27,32],La=xt&&"CompositionEvent"in window,no=null;xt&&"documentMode"in document&&(no=document.documentMode);var Jm=xt&&"TextEvent"in window&&!no,fd=xt&&(!La||no&&8<no&&11>=no),hd=" ",pd=!1;function gd(e,t){switch(e){case"keyup":return Qm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function Ym(e,t){switch(e){case"compositionend":return md(t);case"keypress":return t.which!==32?null:(pd=!0,hd);case"textInput":return e=t.data,e===hd&&pd?null:e;default:return null}}function Xm(e,t){if(Jn)return e==="compositionend"||!La&&gd(e,t)?(e=ad(),ui=Pa=Vt=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fd&&t.locale!=="ko"?null:t.data;default:return null}}var Zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zm[e.type]:t==="textarea"}function yd(e,t,n,r){Dc(r),t=vi(t,"onChange"),0<t.length&&(n=new ja("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ro=null,oo=null;function ev(e){$d(e,0)}function hi(e){var t=tr(e);if(Ec(t))return e}function tv(e,t){if(e==="change")return t}var wd=!1;if(xt){var Na;if(xt){var $a="oninput"in document;if(!$a){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),$a=typeof xd.oninput=="function"}Na=$a}else Na=!1;wd=Na&&(!document.documentMode||9<document.documentMode)}function _d(){ro&&(ro.detachEvent("onpropertychange",kd),oo=ro=null)}function kd(e){if(e.propertyName==="value"&&hi(oo)){var t=[];yd(t,oo,e,ga(e)),Bc(ev,t)}}function nv(e,t,n){e==="focusin"?(_d(),ro=t,oo=n,ro.attachEvent("onpropertychange",kd)):e==="focusout"&&_d()}function rv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(oo)}function ov(e,t){if(e==="click")return hi(t)}function iv(e,t){if(e==="input"||e==="change")return hi(t)}function sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xe=typeof Object.is=="function"?Object.is:sv;function io(e,t){if(Xe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Gs.call(t,o)||!Xe(e[o],t[o]))return!1}return!0}function Sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bd(e,t){var n=Sd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sd(n)}}function Cd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ed(){for(var e=window,t=Jo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jo(e.document)}return t}function Ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function av(e){var t=Ed(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cd(n.ownerDocument.documentElement,n)){if(r!==null&&Ma(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=bd(n,i);var s=bd(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lv=xt&&"documentMode"in document&&11>=document.documentMode,Yn=null,Da=null,so=null,za=!1;function Td(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;za||Yn==null||Yn!==Jo(r)||(r=Yn,"selectionStart"in r&&Ma(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),so&&io(so,r)||(so=r,r=vi(Da,"onSelect"),0<r.length&&(t=new ja("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yn)))}function pi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Xn={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionend:pi("Transition","TransitionEnd")},Ua={},Pd={};xt&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Xn.animationend.animation,delete Xn.animationiteration.animation,delete Xn.animationstart.animation),"TransitionEvent"in window||delete Xn.transitionend.transition);function gi(e){if(Ua[e])return Ua[e];if(!Xn[e])return e;var t=Xn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pd)return Ua[e]=t[n];return e}var jd=gi("animationend"),Ad=gi("animationiteration"),Od=gi("animationstart"),Rd=gi("transitionend"),Id=new Map,Ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(e,t){Id.set(e,t),wn(t,[e])}for(var Fa=0;Fa<Ld.length;Fa++){var Ba=Ld[Fa],uv=Ba.toLowerCase(),cv=Ba[0].toUpperCase()+Ba.slice(1);Ht(uv,"on"+cv)}Ht(jd,"onAnimationEnd"),Ht(Ad,"onAnimationIteration"),Ht(Od,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(Rd,"onTransitionEnd"),Bn("onMouseEnter",["mouseout","mouseover"]),Bn("onMouseLeave",["mouseout","mouseover"]),Bn("onPointerEnter",["pointerout","pointerover"]),Bn("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ao));function Nd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,um(r,t,void 0,e),e.currentTarget=null}function $d(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Nd(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Nd(o,a,u),i=l}}}if(Zo)throw e=wa,Zo=!1,wa=null,e}function Y(e,t){var n=t[Ja];n===void 0&&(n=t[Ja]=new Set);var r=e+"__bubble";n.has(r)||(Md(t,e,2,!1),n.add(r))}function Wa(e,t,n){var r=0;t&&(r|=4),Md(n,e,r,t)}var mi="_reactListening"+Math.random().toString(36).slice(2);function lo(e){if(!e[mi]){e[mi]=!0,yc.forEach(function(n){n!=="selectionchange"&&(dv.has(n)||Wa(n,!1,e),Wa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mi]||(t[mi]=!0,Wa("selectionchange",!1,t))}}function Md(e,t,n,r){switch(sd(t)){case 1:var o=Cm;break;case 4:o=Em;break;default:o=Ea}n=o.bind(null,t,n,e),o=void 0,!ya||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Va(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=_n(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Bc(function(){var u=i,c=ga(n),d=[];e:{var f=Id.get(e);if(f!==void 0){var h=ja,v=e;switch(e){case"keypress":if(ci(n)===0)break e;case"keydown":case"keyup":h=Fm;break;case"focusin":v="focus",h=Ra;break;case"focusout":v="blur",h=Ra;break;case"beforeblur":case"afterblur":h=Ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Vm;break;case jd:case Ad:case Od:h=Rm;break;case Rd:h=qm;break;case"scroll":h=Tm;break;case"wheel":h=Km;break;case"copy":case"cut":case"paste":h=Lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=dd}var y=(t&4)!==0,x=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,m;g!==null;){m=g;var k=m.stateNode;if(m.tag===5&&k!==null&&(m=k,p!==null&&(k=Vr(g,p),k!=null&&y.push(uo(g,k,m)))),x)break;g=g.return}0<y.length&&(f=new h(f,v,null,n,c),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==pa&&(v=n.relatedTarget||n.fromElement)&&(_n(v)||v[kt]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=u,v=v?_n(v):null,v!==null&&(x=xn(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(y=ud,k="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=dd,k="onPointerLeave",p="onPointerEnter",g="pointer"),x=h==null?f:tr(h),m=v==null?f:tr(v),f=new y(k,g+"leave",h,n,c),f.target=x,f.relatedTarget=m,k=null,_n(c)===u&&(y=new y(p,g+"enter",v,n,c),y.target=m,y.relatedTarget=x,k=y),x=k,h&&v)t:{for(y=h,p=v,g=0,m=y;m;m=Zn(m))g++;for(m=0,k=p;k;k=Zn(k))m++;for(;0<g-m;)y=Zn(y),g--;for(;0<m-g;)p=Zn(p),m--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=Zn(y),p=Zn(p)}y=null}else y=null;h!==null&&Dd(d,f,h,y,!1),v!==null&&x!==null&&Dd(d,x,v,y,!0)}}e:{if(f=u?tr(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var _=tv;else if(vd(f))if(wd)_=iv;else{_=rv;var b=nv}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=ov);if(_&&(_=_(e,u))){yd(d,_,n,c);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&ua(f,"number",f.value)}switch(b=u?tr(u):window,e){case"focusin":(vd(b)||b.contentEditable==="true")&&(Yn=b,Da=u,so=null);break;case"focusout":so=Da=Yn=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,Td(d,n,c);break;case"selectionchange":if(lv)break;case"keydown":case"keyup":Td(d,n,c)}var C;if(La)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Jn?gd(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(fd&&n.locale!=="ko"&&(Jn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Jn&&(C=ad()):(Vt=c,Pa="value"in Vt?Vt.value:Vt.textContent,Jn=!0)),b=vi(u,T),0<b.length&&(T=new cd(T,e,null,n,c),d.push({event:T,listeners:b}),C?T.data=C:(C=md(n),C!==null&&(T.data=C)))),(C=Jm?Ym(e,n):Xm(e,n))&&(u=vi(u,"onBeforeInput"),0<u.length&&(c=new cd("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}$d(d,t)})}function uo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Vr(e,n),i!=null&&r.unshift(uo(e,i,o)),i=Vr(e,t),i!=null&&r.push(uo(e,i,o))),e=e.return}return r}function Zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dd(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=Vr(n,i),l!=null&&s.unshift(uo(n,l,a))):o||(l=Vr(n,i),l!=null&&s.push(uo(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var fv=/\r\n?/g,hv=/\u0000|\uFFFD/g;function zd(e){return(typeof e=="string"?e:""+e).replace(fv,`
`).replace(hv,"")}function yi(e,t,n){if(t=zd(t),zd(e)!==t&&n)throw Error(P(425))}function wi(){}var Ha=null,qa=null;function Ga(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ka=typeof setTimeout=="function"?setTimeout:void 0,pv=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,gv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(e){return Ud.resolve(null).then(e).catch(mv)}:Ka;function mv(e){setTimeout(function(){throw e})}function Qa(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Zr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Zr(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var er=Math.random().toString(36).slice(2),ct="__reactFiber$"+er,co="__reactProps$"+er,kt="__reactContainer$"+er,Ja="__reactEvents$"+er,vv="__reactListeners$"+er,yv="__reactHandles$"+er;function _n(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kt]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fd(e);e!==null;){if(n=e[ct])return n;e=Fd(e)}return t}e=n,n=e.parentNode}return null}function fo(e){return e=e[ct]||e[kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function xi(e){return e[co]||null}var Ya=[],nr=-1;function Gt(e){return{current:e}}function X(e){0>nr||(e.current=Ya[nr],Ya[nr]=null,nr--)}function Q(e,t){nr++,Ya[nr]=e.current,e.current=t}var Kt={},ve=Gt(Kt),Te=Gt(!1),kn=Kt;function rr(e,t){var n=e.type.contextTypes;if(!n)return Kt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pe(e){return e=e.childContextTypes,e!=null}function _i(){X(Te),X(ve)}function Bd(e,t,n){if(ve.current!==Kt)throw Error(P(168));Q(ve,t),Q(Te,n)}function Wd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(P(108,nm(e)||"Unknown",o));return te({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kt,kn=ve.current,Q(ve,e),Q(Te,Te.current),!0}function Vd(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Wd(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,X(Te),X(ve),Q(ve,e)):X(Te),Q(Te,n)}var St=null,Si=!1,Xa=!1;function Hd(e){St===null?St=[e]:St.push(e)}function wv(e){Si=!0,Hd(e)}function Qt(){if(!Xa&&St!==null){Xa=!0;var e=0,t=K;try{var n=St;for(K=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}St=null,Si=!1}catch(o){throw St!==null&&(St=St.slice(e+1)),Gc(xa,Qt),o}finally{K=t,Xa=!1}}return null}var or=[],ir=0,bi=null,Ci=0,Be=[],We=0,Sn=null,bt=1,Ct="";function bn(e,t){or[ir++]=Ci,or[ir++]=bi,bi=e,Ci=t}function qd(e,t,n){Be[We++]=bt,Be[We++]=Ct,Be[We++]=Sn,Sn=e;var r=bt;e=Ct;var o=32-Ye(r)-1;r&=~(1<<o),n+=1;var i=32-Ye(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,bt=1<<32-Ye(t)+o|n<<o|r,Ct=i+e}else bt=1<<i|n<<o|r,Ct=e}function Za(e){e.return!==null&&(bn(e,1),qd(e,1,0))}function el(e){for(;e===bi;)bi=or[--ir],or[ir]=null,Ci=or[--ir],or[ir]=null;for(;e===Sn;)Sn=Be[--We],Be[We]=null,Ct=Be[--We],Be[We]=null,bt=Be[--We],Be[We]=null}var Me=null,De=null,ee=!1,Ze=null;function Gd(e,t){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Kd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,De=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,De=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sn!==null?{id:bt,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Me=e,De=null,!0):!1;default:return!1}}function tl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nl(e){if(ee){var t=De;if(t){var n=t;if(!Kd(e,t)){if(tl(e))throw Error(P(418));t=qt(n.nextSibling);var r=Me;t&&Kd(e,t)?Gd(r,n):(e.flags=e.flags&-4097|2,ee=!1,Me=e)}}else{if(tl(e))throw Error(P(418));e.flags=e.flags&-4097|2,ee=!1,Me=e}}}function Qd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function Ei(e){if(e!==Me)return!1;if(!ee)return Qd(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ga(e.type,e.memoizedProps)),t&&(t=De)){if(tl(e))throw Jd(),Error(P(418));for(;t;)Gd(e,t),t=qt(t.nextSibling)}if(Qd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){De=qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}De=null}}else De=Me?qt(e.stateNode.nextSibling):null;return!0}function Jd(){for(var e=De;e;)e=qt(e.nextSibling)}function sr(){De=Me=null,ee=!1}function rl(e){Ze===null?Ze=[e]:Ze.push(e)}var xv=_t.ReactCurrentBatchConfig;function ho(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Ti(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yd(e){var t=e._init;return t(e._payload)}function Xd(e){function t(p,g){if(e){var m=p.deletions;m===null?(p.deletions=[g],p.flags|=16):m.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function o(p,g){return p=rn(p,g),p.index=0,p.sibling=null,p}function i(p,g,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<g?(p.flags|=2,g):m):(p.flags|=2,g)):(p.flags|=1048576,g)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,g,m,k){return g===null||g.tag!==6?(g=Kl(m,p.mode,k),g.return=p,g):(g=o(g,m),g.return=p,g)}function l(p,g,m,k){var _=m.type;return _===Vn?c(p,g,m.props.children,k,m.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Dt&&Yd(_)===g.type)?(k=o(g,m.props),k.ref=ho(p,g,m),k.return=p,k):(k=Yi(m.type,m.key,m.props,null,p.mode,k),k.ref=ho(p,g,m),k.return=p,k)}function u(p,g,m,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=Ql(m,p.mode,k),g.return=p,g):(g=o(g,m.children||[]),g.return=p,g)}function c(p,g,m,k,_){return g===null||g.tag!==7?(g=Rn(m,p.mode,k,_),g.return=p,g):(g=o(g,m),g.return=p,g)}function d(p,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Kl(""+g,p.mode,m),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ko:return m=Yi(g.type,g.key,g.props,null,p.mode,m),m.ref=ho(p,null,g),m.return=p,m;case Wn:return g=Ql(g,p.mode,m),g.return=p,g;case Dt:var k=g._init;return d(p,k(g._payload),m)}if(Fr(g)||zr(g))return g=Rn(g,p.mode,m,null),g.return=p,g;Ti(p,g)}return null}function f(p,g,m,k){var _=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:a(p,g,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ko:return m.key===_?l(p,g,m,k):null;case Wn:return m.key===_?u(p,g,m,k):null;case Dt:return _=m._init,f(p,g,_(m._payload),k)}if(Fr(m)||zr(m))return _!==null?null:c(p,g,m,k,null);Ti(p,m)}return null}function h(p,g,m,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(m)||null,a(g,p,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ko:return p=p.get(k.key===null?m:k.key)||null,l(g,p,k,_);case Wn:return p=p.get(k.key===null?m:k.key)||null,u(g,p,k,_);case Dt:var b=k._init;return h(p,g,m,b(k._payload),_)}if(Fr(k)||zr(k))return p=p.get(m)||null,c(g,p,k,_,null);Ti(g,k)}return null}function v(p,g,m,k){for(var _=null,b=null,C=g,T=g=0,$=null;C!==null&&T<m.length;T++){C.index>T?($=C,C=null):$=C.sibling;var A=f(p,C,m[T],k);if(A===null){C===null&&(C=$);break}e&&C&&A.alternate===null&&t(p,C),g=i(A,g,T),b===null?_=A:b.sibling=A,b=A,C=$}if(T===m.length)return n(p,C),ee&&bn(p,T),_;if(C===null){for(;T<m.length;T++)C=d(p,m[T],k),C!==null&&(g=i(C,g,T),b===null?_=C:b.sibling=C,b=C);return ee&&bn(p,T),_}for(C=r(p,C);T<m.length;T++)$=h(C,p,T,m[T],k),$!==null&&(e&&$.alternate!==null&&C.delete($.key===null?T:$.key),g=i($,g,T),b===null?_=$:b.sibling=$,b=$);return e&&C.forEach(function(D){return t(p,D)}),ee&&bn(p,T),_}function y(p,g,m,k){var _=zr(m);if(typeof _!="function")throw Error(P(150));if(m=_.call(m),m==null)throw Error(P(151));for(var b=_=null,C=g,T=g=0,$=null,A=m.next();C!==null&&!A.done;T++,A=m.next()){C.index>T?($=C,C=null):$=C.sibling;var D=f(p,C,A.value,k);if(D===null){C===null&&(C=$);break}e&&C&&D.alternate===null&&t(p,C),g=i(D,g,T),b===null?_=D:b.sibling=D,b=D,C=$}if(A.done)return n(p,C),ee&&bn(p,T),_;if(C===null){for(;!A.done;T++,A=m.next())A=d(p,A.value,k),A!==null&&(g=i(A,g,T),b===null?_=A:b.sibling=A,b=A);return ee&&bn(p,T),_}for(C=r(p,C);!A.done;T++,A=m.next())A=h(C,p,T,A.value,k),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?T:A.key),g=i(A,g,T),b===null?_=A:b.sibling=A,b=A);return e&&C.forEach(function(L){return t(p,L)}),ee&&bn(p,T),_}function x(p,g,m,k){if(typeof m=="object"&&m!==null&&m.type===Vn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ko:e:{for(var _=m.key,b=g;b!==null;){if(b.key===_){if(_=m.type,_===Vn){if(b.tag===7){n(p,b.sibling),g=o(b,m.props.children),g.return=p,p=g;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Dt&&Yd(_)===b.type){n(p,b.sibling),g=o(b,m.props),g.ref=ho(p,b,m),g.return=p,p=g;break e}n(p,b);break}else t(p,b);b=b.sibling}m.type===Vn?(g=Rn(m.props.children,p.mode,k,m.key),g.return=p,p=g):(k=Yi(m.type,m.key,m.props,null,p.mode,k),k.ref=ho(p,g,m),k.return=p,p=k)}return s(p);case Wn:e:{for(b=m.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){n(p,g.sibling),g=o(g,m.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=Ql(m,p.mode,k),g.return=p,p=g}return s(p);case Dt:return b=m._init,x(p,g,b(m._payload),k)}if(Fr(m))return v(p,g,m,k);if(zr(m))return y(p,g,m,k);Ti(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(n(p,g.sibling),g=o(g,m),g.return=p,p=g):(n(p,g),g=Kl(m,p.mode,k),g.return=p,p=g),s(p)):n(p,g)}return x}var ar=Xd(!0),Zd=Xd(!1),Pi=Gt(null),ji=null,lr=null,ol=null;function il(){ol=lr=ji=null}function sl(e){var t=Pi.current;X(Pi),e._currentValue=t}function al(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ur(e,t){ji=e,ol=lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(je=!0),e.firstContext=null)}function Ve(e){var t=e._currentValue;if(ol!==e)if(e={context:e,memoizedValue:t,next:null},lr===null){if(ji===null)throw Error(P(308));lr=e,ji.dependencies={lanes:0,firstContext:e}}else lr=lr.next=e;return t}var Cn=null;function ll(e){Cn===null?Cn=[e]:Cn.push(e)}function ef(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,ll(t)):(n.next=o.next,o.next=n),t.interleaved=n,Et(e,r)}function Et(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jt=!1;function ul(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Et(e,n)}return o=r.interleaved,o===null?(t.next=t,ll(r)):(t.next=o.next,o.next=t),r.interleaved=t,Et(e,n)}function Ai(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sa(e,n)}}function nf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oi(e,t,n,r){var o=e.updateQueue;Jt=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,c=u=l=null,a=i;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,y=a;switch(f=t,h=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(h,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(h,d,f):v,f==null)break e;d=te({},d,f);break e;case 2:Jt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,s|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(c===null&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Pn|=s,e.lanes=s,e.memoizedState=d}}function rf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(P(191,o));o.call(r)}}}var po={},dt=Gt(po),go=Gt(po),mo=Gt(po);function En(e){if(e===po)throw Error(P(174));return e}function cl(e,t){switch(Q(mo,t),Q(go,e),Q(dt,po),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:da(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=da(t,e)}X(dt),Q(dt,t)}function cr(){X(dt),X(go),X(mo)}function of(e){En(mo.current);var t=En(dt.current),n=da(t,e.type);t!==n&&(Q(go,e),Q(dt,n))}function dl(e){go.current===e&&(X(dt),X(go))}var ne=Gt(0);function Ri(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fl=[];function hl(){for(var e=0;e<fl.length;e++)fl[e]._workInProgressVersionPrimary=null;fl.length=0}var Ii=_t.ReactCurrentDispatcher,pl=_t.ReactCurrentBatchConfig,Tn=0,re=null,le=null,ce=null,Li=!1,vo=!1,yo=0,_v=0;function ye(){throw Error(P(321))}function gl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xe(e[n],t[n]))return!1;return!0}function ml(e,t,n,r,o,i){if(Tn=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ii.current=e===null||e.memoizedState===null?Cv:Ev,e=n(r,o),vo){i=0;do{if(vo=!1,yo=0,25<=i)throw Error(P(301));i+=1,ce=le=null,t.updateQueue=null,Ii.current=Tv,e=n(r,o)}while(vo)}if(Ii.current=Mi,t=le!==null&&le.next!==null,Tn=0,ce=le=re=null,Li=!1,t)throw Error(P(300));return e}function vl(){var e=yo!==0;return yo=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?re.memoizedState=ce=e:ce=ce.next=e,ce}function He(){if(le===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=ce===null?re.memoizedState:ce.next;if(t!==null)ce=t,le=e;else{if(e===null)throw Error(P(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ce===null?re.memoizedState=ce=e:ce=ce.next=e}return ce}function wo(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=He(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=le,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var c=u.lane;if((Tn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,re.lanes|=c,Pn|=c}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,Xe(r,t.memoizedState)||(je=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,re.lanes|=i,Pn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wl(e){var t=He(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Xe(i,t.memoizedState)||(je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function sf(){}function af(e,t){var n=re,r=He(),o=t(),i=!Xe(r.memoizedState,o);if(i&&(r.memoizedState=o,je=!0),r=r.queue,xl(cf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,xo(9,uf.bind(null,n,r,o,t),void 0,null),de===null)throw Error(P(349));Tn&30||lf(n,t,o)}return o}function lf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uf(e,t,n,r){t.value=n,t.getSnapshot=r,df(t)&&ff(e)}function cf(e,t,n){return n(function(){df(t)&&ff(e)})}function df(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xe(e,n)}catch{return!0}}function ff(e){var t=Et(e,1);t!==null&&rt(t,e,1,-1)}function hf(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=bv.bind(null,re,e),[t.memoizedState,e]}function xo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pf(){return He().memoizedState}function Ni(e,t,n,r){var o=ft();re.flags|=e,o.memoizedState=xo(1|t,n,void 0,r===void 0?null:r)}function $i(e,t,n,r){var o=He();r=r===void 0?null:r;var i=void 0;if(le!==null){var s=le.memoizedState;if(i=s.destroy,r!==null&&gl(r,s.deps)){o.memoizedState=xo(t,n,i,r);return}}re.flags|=e,o.memoizedState=xo(1|t,n,i,r)}function gf(e,t){return Ni(8390656,8,e,t)}function xl(e,t){return $i(2048,8,e,t)}function mf(e,t){return $i(4,2,e,t)}function vf(e,t){return $i(4,4,e,t)}function yf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wf(e,t,n){return n=n!=null?n.concat([e]):null,$i(4,4,yf.bind(null,t,e),n)}function _l(){}function xf(e,t){var n=He();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _f(e,t){var n=He();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kf(e,t,n){return Tn&21?(Xe(n,t)||(n=Yc(),re.lanes|=n,Pn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,je=!0),e.memoizedState=n)}function kv(e,t){var n=K;K=n!==0&&4>n?n:4,e(!0);var r=pl.transition;pl.transition={};try{e(!1),t()}finally{K=n,pl.transition=r}}function Sf(){return He().memoizedState}function Sv(e,t,n){var r=tn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bf(e))Cf(t,n);else if(n=ef(e,t,n,r),n!==null){var o=Ce();rt(n,e,r,o),Ef(n,t,r)}}function bv(e,t,n){var r=tn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bf(e))Cf(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Xe(a,s)){var l=t.interleaved;l===null?(o.next=o,ll(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=ef(e,t,o,r),n!==null&&(o=Ce(),rt(n,e,r,o),Ef(n,t,r))}}function bf(e){var t=e.alternate;return e===re||t!==null&&t===re}function Cf(e,t){vo=Li=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ef(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sa(e,n)}}var Mi={readContext:Ve,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},Cv={readContext:Ve,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:gf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ni(4194308,4,yf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ni(4,2,e,t)},useMemo:function(e,t){var n=ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ft();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sv.bind(null,re,e),[r.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:hf,useDebugValue:_l,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=hf(!1),t=e[0];return e=kv.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=re,o=ft();if(ee){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),de===null)throw Error(P(349));Tn&30||lf(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,gf(cf.bind(null,r,i,e),[e]),r.flags|=2048,xo(9,uf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ft(),t=de.identifierPrefix;if(ee){var n=Ct,r=bt;n=(r&~(1<<32-Ye(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_v++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ev={readContext:Ve,useCallback:xf,useContext:Ve,useEffect:xl,useImperativeHandle:wf,useInsertionEffect:mf,useLayoutEffect:vf,useMemo:_f,useReducer:yl,useRef:pf,useState:function(){return yl(wo)},useDebugValue:_l,useDeferredValue:function(e){var t=He();return kf(t,le.memoizedState,e)},useTransition:function(){var e=yl(wo)[0],t=He().memoizedState;return[e,t]},useMutableSource:sf,useSyncExternalStore:af,useId:Sf,unstable_isNewReconciler:!1},Tv={readContext:Ve,useCallback:xf,useContext:Ve,useEffect:xl,useImperativeHandle:wf,useInsertionEffect:mf,useLayoutEffect:vf,useMemo:_f,useReducer:wl,useRef:pf,useState:function(){return wl(wo)},useDebugValue:_l,useDeferredValue:function(e){var t=He();return le===null?t.memoizedState=e:kf(t,le.memoizedState,e)},useTransition:function(){var e=wl(wo)[0],t=He().memoizedState;return[e,t]},useMutableSource:sf,useSyncExternalStore:af,useId:Sf,unstable_isNewReconciler:!1};function et(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function kl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Di={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ce(),o=tn(e),i=Tt(r,o);i.payload=t,n!=null&&(i.callback=n),t=Yt(e,i,o),t!==null&&(rt(t,e,o,r),Ai(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ce(),o=tn(e),i=Tt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yt(e,i,o),t!==null&&(rt(t,e,o,r),Ai(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ce(),r=tn(e),o=Tt(n,r);o.tag=2,t!=null&&(o.callback=t),t=Yt(e,o,r),t!==null&&(rt(t,e,r,n),Ai(t,e,r))}};function Tf(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!io(n,r)||!io(o,i):!0}function Pf(e,t,n){var r=!1,o=Kt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(o=Pe(t)?kn:ve.current,r=t.contextTypes,i=(r=r!=null)?rr(e,o):Kt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function jf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function Sl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ul(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ve(i):(i=Pe(t)?kn:ve.current,o.context=rr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(kl(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Di.enqueueReplaceState(o,o.state,null),Oi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function dr(e,t){try{var n="",r=t;do n+=tm(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function bl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pv=typeof WeakMap=="function"?WeakMap:Map;function Af(e,t,n){n=Tt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hi||(Hi=!0,Ul=r),Cl(e,t)},n}function Of(e,t,n){n=Tt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Cl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cl(e,t),typeof r!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Rf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pv;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Bv.bind(null,e,t,n),t.then(e,e))}function If(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lf(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tt(-1,1),t.tag=2,Yt(n,t,1))),n.lanes|=1),e)}var jv=_t.ReactCurrentOwner,je=!1;function be(e,t,n,r){t.child=e===null?Zd(t,null,n,r):ar(t,e.child,n,r)}function Nf(e,t,n,r,o){n=n.render;var i=t.ref;return ur(t,o),r=ml(e,t,n,r,i,o),n=vl(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pt(e,t,o)):(ee&&n&&Za(t),t.flags|=1,be(e,t,r,o),t.child)}function $f(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Gl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Mf(e,t,i,r,o)):(e=Yi(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:io,n(s,r)&&e.ref===t.ref)return Pt(e,t,o)}return t.flags|=1,e=rn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Mf(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(io(i,r)&&e.ref===t.ref)if(je=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(je=!0);else return t.lanes=e.lanes,Pt(e,t,o)}return El(e,t,n,r,o)}function Df(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(hr,ze),ze|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(hr,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(hr,ze),ze|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Q(hr,ze),ze|=r;return be(e,t,o,n),t.child}function zf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,n,r,o){var i=Pe(n)?kn:ve.current;return i=rr(t,i),ur(t,o),n=ml(e,t,n,r,i,o),r=vl(),e!==null&&!je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Pt(e,t,o)):(ee&&r&&Za(t),t.flags|=1,be(e,t,n,o),t.child)}function Uf(e,t,n,r,o){if(Pe(n)){var i=!0;ki(t)}else i=!1;if(ur(t,o),t.stateNode===null)Ui(e,t),Pf(t,n,r),Sl(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ve(u):(u=Pe(n)?kn:ve.current,u=rr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&jf(t,s,r,u),Jt=!1;var f=t.memoizedState;s.state=f,Oi(t,r,s,o),l=t.memoizedState,a!==r||f!==l||Te.current||Jt?(typeof c=="function"&&(kl(t,n,c,r),l=t.memoizedState),(a=Jt||Tf(t,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,tf(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:et(t.type,a),s.props=u,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ve(l):(l=Pe(n)?kn:ve.current,l=rr(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&jf(t,s,r,l),Jt=!1,f=t.memoizedState,s.state=f,Oi(t,r,s,o);var v=t.memoizedState;a!==d||f!==v||Te.current||Jt?(typeof h=="function"&&(kl(t,n,h,r),v=t.memoizedState),(u=Jt||Tf(t,n,u,r,f,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Tl(e,t,n,r,i,o)}function Tl(e,t,n,r,o,i){zf(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Vd(t,n,!1),Pt(e,t,i);r=t.stateNode,jv.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ar(t,e.child,null,i),t.child=ar(t,null,a,i)):be(e,t,a,i),t.memoizedState=r.state,o&&Vd(t,n,!0),t.child}function Ff(e){var t=e.stateNode;t.pendingContext?Bd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bd(e,t.context,!1),cl(e,t.containerInfo)}function Bf(e,t,n,r,o){return sr(),rl(o),t.flags|=256,be(e,t,n,r),t.child}var Pl={dehydrated:null,treeContext:null,retryLane:0};function jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wf(e,t,n){var r=t.pendingProps,o=ne.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Q(ne,o&1),e===null)return nl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Xi(s,r,0,null),e=Rn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=jl(n),t.memoizedState=Pl,e):Al(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Av(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=rn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=rn(a,i):(i=Rn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?jl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Pl,r}return i=e.child,e=i.sibling,r=rn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Al(e,t){return t=Xi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zi(e,t,n,r){return r!==null&&rl(r),ar(t,e.child,null,n),e=Al(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Av(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=bl(Error(P(422))),zi(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Xi({mode:"visible",children:r.children},o,0,null),i=Rn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ar(t,e.child,null,s),t.child.memoizedState=jl(s),t.memoizedState=Pl,i);if(!(t.mode&1))return zi(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=bl(i,r,void 0),zi(e,t,s,r)}if(a=(s&e.childLanes)!==0,je||a){if(r=de,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Et(e,o),rt(r,e,o,-1))}return ql(),r=bl(Error(P(421))),zi(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Wv.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,De=qt(o.nextSibling),Me=t,ee=!0,Ze=null,e!==null&&(Be[We++]=bt,Be[We++]=Ct,Be[We++]=Sn,bt=e.id,Ct=e.overflow,Sn=t),t=Al(t,r.children),t.flags|=4096,t)}function Vf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),al(e.return,t,n)}function Ol(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Hf(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(be(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,n,t);else if(e.tag===19)Vf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Q(ne,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ri(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ol(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ri(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ol(t,!0,n,null,i);break;case"together":Ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ui(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=rn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ov(e,t,n){switch(t.tag){case 3:Ff(t),sr();break;case 5:of(t);break;case 1:Pe(t.type)&&ki(t);break;case 4:cl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Q(Pi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Q(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?Wf(e,t,n):(Q(ne,ne.current&1),e=Pt(e,t,n),e!==null?e.sibling:null);Q(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hf(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Q(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,Df(e,t,n)}return Pt(e,t,n)}var qf,Rl,Gf,Kf;qf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rl=function(){},Gf=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,En(dt.current);var i=null;switch(n){case"input":o=aa(e,o),r=aa(e,r),i=[];break;case"select":o=te({},o,{value:void 0}),r=te({},r,{value:void 0}),i=[];break;case"textarea":o=ca(e,o),r=ca(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wi)}fa(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Y("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Kf=function(e,t,n,r){n!==r&&(t.flags|=4)};function _o(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Rv(e,t,n){var r=t.pendingProps;switch(el(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Pe(t.type)&&_i(),we(t),null;case 3:return r=t.stateNode,cr(),X(Te),X(ve),hl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ei(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ze!==null&&(Wl(Ze),Ze=null))),Rl(e,t),we(t),null;case 5:dl(t);var o=En(mo.current);if(n=t.type,e!==null&&t.stateNode!=null)Gf(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return we(t),null}if(e=En(dt.current),Ei(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ct]=t,r[co]=i,e=(t.mode&1)!==0,n){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(o=0;o<ao.length;o++)Y(ao[o],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":Tc(r,i),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Y("invalid",r);break;case"textarea":Ac(r,i),Y("invalid",r)}fa(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&yi(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&yi(r.textContent,a,e),o=["children",""+a]):Dr.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Y("scroll",r)}switch(n){case"input":Qo(r),jc(r,i,!0);break;case"textarea":Qo(r),Rc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ic(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ct]=t,e[co]=r,qf(e,t,!1,!1),t.stateNode=e;e:{switch(s=ha(n,r),n){case"dialog":Y("cancel",e),Y("close",e),o=r;break;case"iframe":case"object":case"embed":Y("load",e),o=r;break;case"video":case"audio":for(o=0;o<ao.length;o++)Y(ao[o],e);o=r;break;case"source":Y("error",e),o=r;break;case"img":case"image":case"link":Y("error",e),Y("load",e),o=r;break;case"details":Y("toggle",e),o=r;break;case"input":Tc(e,r),o=aa(e,r),Y("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=te({},r,{value:void 0}),Y("invalid",e);break;case"textarea":Ac(e,r),o=ca(e,r),Y("invalid",e);break;default:o=r}fa(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?$c(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lc(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Br(e,l):typeof l=="number"&&Br(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Dr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Y("scroll",e):l!=null&&Js(e,i,l,s))}switch(n){case"input":Qo(e),jc(e,r,!1);break;case"textarea":Qo(e),Rc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=wi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)Kf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=En(mo.current),En(dt.current),Ei(t)){if(r=t.stateNode,n=t.memoizedProps,r[ct]=t,(i=r.nodeValue!==n)&&(e=Me,e!==null))switch(e.tag){case 3:yi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=t,t.stateNode=r}return we(t),null;case 13:if(X(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&De!==null&&t.mode&1&&!(t.flags&128))Jd(),sr(),t.flags|=98560,i=!1;else if(i=Ei(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[ct]=t}else sr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else Ze!==null&&(Wl(Ze),Ze=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?ue===0&&(ue=3):ql())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return cr(),Rl(e,t),e===null&&lo(t.stateNode.containerInfo),we(t),null;case 10:return sl(t.type._context),we(t),null;case 17:return Pe(t.type)&&_i(),we(t),null;case 19:if(X(ne),i=t.memoizedState,i===null)return we(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)_o(i,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ri(e),s!==null){for(t.flags|=128,_o(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Q(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>pr&&(t.flags|=128,r=!0,_o(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ri(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_o(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ee)return we(t),null}else 2*se()-i.renderingStartTime>pr&&n!==1073741824&&(t.flags|=128,r=!0,_o(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,n=ne.current,Q(ne,r?n&1|2:n&1),t):(we(t),null);case 22:case 23:return Hl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ze&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Iv(e,t){switch(el(t),t.tag){case 1:return Pe(t.type)&&_i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cr(),X(Te),X(ve),hl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dl(t),null;case 13:if(X(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));sr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(ne),null;case 4:return cr(),null;case 10:return sl(t.type._context),null;case 22:case 23:return Hl(),null;case 24:return null;default:return null}}var Fi=!1,xe=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,O=null;function fr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function Il(e,t,n){try{n()}catch(r){ie(e,t,r)}}var Qf=!1;function Nv(e,t){if(Ha=ai,e=Ed(),Ma(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===o&&(a=s),f===i&&++c===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qa={focusedElem:e,selectionRange:n},ai=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:et(t.type,y),x);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(k){ie(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=Qf,Qf=!1,v}function ko(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Il(t,n,i)}o=o.next}while(o!==r)}}function Bi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ll(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jf(e){var t=e.alternate;t!==null&&(e.alternate=null,Jf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[co],delete t[Ja],delete t[vv],delete t[yv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yf(e){return e.tag===5||e.tag===3||e.tag===4}function Xf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wi));else if(r!==4&&(e=e.child,e!==null))for(Nl(e,t,n),e=e.sibling;e!==null;)Nl(e,t,n),e=e.sibling}function $l(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($l(e,t,n),e=e.sibling;e!==null;)$l(e,t,n),e=e.sibling}var ge=null,tt=!1;function Xt(e,t,n){for(n=n.child;n!==null;)Zf(e,t,n),n=n.sibling}function Zf(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(ti,n)}catch{}switch(n.tag){case 5:xe||fr(n,t);case 6:var r=ge,o=tt;ge=null,Xt(e,t,n),ge=r,tt=o,ge!==null&&(tt?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(tt?(e=ge,n=n.stateNode,e.nodeType===8?Qa(e.parentNode,n):e.nodeType===1&&Qa(e,n),Zr(e)):Qa(ge,n.stateNode));break;case 4:r=ge,o=tt,ge=n.stateNode.containerInfo,tt=!0,Xt(e,t,n),ge=r,tt=o;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Il(n,t,s),o=o.next}while(o!==r)}Xt(e,t,n);break;case 1:if(!xe&&(fr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ie(n,t,a)}Xt(e,t,n);break;case 21:Xt(e,t,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,Xt(e,t,n),xe=r):Xt(e,t,n);break;default:Xt(e,t,n)}}function eh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Lv),t.forEach(function(r){var o=Vv.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ge=a.stateNode,tt=!1;break e;case 3:ge=a.stateNode.containerInfo,tt=!0;break e;case 4:ge=a.stateNode.containerInfo,tt=!0;break e}a=a.return}if(ge===null)throw Error(P(160));Zf(i,s,o),ge=null,tt=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){ie(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)th(t,e),t=t.sibling}function th(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nt(t,e),ht(e),r&4){try{ko(3,e,e.return),Bi(3,e)}catch(y){ie(e,e.return,y)}try{ko(5,e,e.return)}catch(y){ie(e,e.return,y)}}break;case 1:nt(t,e),ht(e),r&512&&n!==null&&fr(n,n.return);break;case 5:if(nt(t,e),ht(e),r&512&&n!==null&&fr(n,n.return),e.flags&32){var o=e.stateNode;try{Br(o,"")}catch(y){ie(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Pc(o,i),ha(a,s);var u=ha(a,i);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?$c(o,d):c==="dangerouslySetInnerHTML"?Lc(o,d):c==="children"?Br(o,d):Js(o,c,d,u)}switch(a){case"input":la(o,i);break;case"textarea":Oc(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Hn(o,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Hn(o,!!i.multiple,i.defaultValue,!0):Hn(o,!!i.multiple,i.multiple?[]:"",!1))}o[co]=i}catch(y){ie(e,e.return,y)}}break;case 6:if(nt(t,e),ht(e),r&4){if(e.stateNode===null)throw Error(P(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(y){ie(e,e.return,y)}}break;case 3:if(nt(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zr(t.containerInfo)}catch(y){ie(e,e.return,y)}break;case 4:nt(t,e),ht(e);break;case 13:nt(t,e),ht(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(zl=se())),r&4&&eh(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(xe=(u=xe)||c,nt(t,e),xe=u):nt(t,e),ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(O=e,c=e.child;c!==null;){for(d=O=c;O!==null;){switch(f=O,h=f.child,f.tag){case 0:case 11:case 14:case 15:ko(4,f,f.return);break;case 1:fr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){ie(r,n,y)}}break;case 5:fr(f,f.return);break;case 22:if(f.memoizedState!==null){oh(d);continue}}h!==null?(h.return=f,O=h):oh(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Nc("display",s))}catch(y){ie(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ie(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nt(t,e),ht(e),r&4&&eh(e);break;case 21:break;default:nt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yf(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Br(o,""),r.flags&=-33);var i=Xf(e);$l(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Xf(e);Nl(e,a,s);break;default:throw Error(P(161))}}catch(l){ie(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $v(e,t,n){O=e,nh(e)}function nh(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var o=O,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Fi;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||xe;a=Fi;var u=xe;if(Fi=s,(xe=l)&&!u)for(O=o;O!==null;)s=O,l=s.child,s.tag===22&&s.memoizedState!==null?ih(o):l!==null?(l.return=s,O=l):ih(o);for(;i!==null;)O=i,nh(i),i=i.sibling;O=o,Fi=a,xe=u}rh(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,O=i):rh(e)}}function rh(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||Bi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:et(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rf(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rf(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Zr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}xe||t.flags&512&&Ll(t)}catch(f){ie(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function oh(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function ih(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bi(4,t)}catch(l){ie(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){ie(t,o,l)}}var i=t.return;try{Ll(t)}catch(l){ie(t,i,l)}break;case 5:var s=t.return;try{Ll(t)}catch(l){ie(t,s,l)}}}catch(l){ie(t,t.return,l)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var Mv=Math.ceil,Wi=_t.ReactCurrentDispatcher,Ml=_t.ReactCurrentOwner,qe=_t.ReactCurrentBatchConfig,H=0,de=null,ae=null,me=0,ze=0,hr=Gt(0),ue=0,So=null,Pn=0,Vi=0,Dl=0,bo=null,Ae=null,zl=0,pr=1/0,jt=null,Hi=!1,Ul=null,Zt=null,qi=!1,en=null,Gi=0,Co=0,Fl=null,Ki=-1,Qi=0;function Ce(){return H&6?se():Ki!==-1?Ki:Ki=se()}function tn(e){return e.mode&1?H&2&&me!==0?me&-me:xv.transition!==null?(Qi===0&&(Qi=Yc()),Qi):(e=K,e!==0||(e=window.event,e=e===void 0?16:sd(e.type)),e):1}function rt(e,t,n,r){if(50<Co)throw Co=0,Fl=null,Error(P(185));Kr(e,n,r),(!(H&2)||e!==de)&&(e===de&&(!(H&2)&&(Vi|=n),ue===4&&nn(e,me)),Oe(e,r),n===1&&H===0&&!(t.mode&1)&&(pr=se()+500,Si&&Qt()))}function Oe(e,t){var n=e.callbackNode;xm(e,t);var r=oi(e,e===de?me:0);if(r===0)n!==null&&Kc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Kc(n),t===1)e.tag===0?wv(ah.bind(null,e)):Hd(ah.bind(null,e)),gv(function(){!(H&6)&&Qt()}),n=null;else{switch(Xc(r)){case 1:n=xa;break;case 4:n=Qc;break;case 16:n=ei;break;case 536870912:n=Jc;break;default:n=ei}n=gh(n,sh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sh(e,t){if(Ki=-1,Qi=0,H&6)throw Error(P(327));var n=e.callbackNode;if(gr()&&e.callbackNode!==n)return null;var r=oi(e,e===de?me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ji(e,r);else{t=r;var o=H;H|=2;var i=uh();(de!==e||me!==t)&&(jt=null,pr=se()+500,An(e,t));do try{Uv();break}catch(a){lh(e,a)}while(!0);il(),Wi.current=i,H=o,ae!==null?t=0:(de=null,me=0,t=ue)}if(t!==0){if(t===2&&(o=_a(e),o!==0&&(r=o,t=Bl(e,o))),t===1)throw n=So,An(e,0),nn(e,r),Oe(e,se()),n;if(t===6)nn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Dv(o)&&(t=Ji(e,r),t===2&&(i=_a(e),i!==0&&(r=i,t=Bl(e,i))),t===1))throw n=So,An(e,0),nn(e,r),Oe(e,se()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:On(e,Ae,jt);break;case 3:if(nn(e,r),(r&130023424)===r&&(t=zl+500-se(),10<t)){if(oi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ce(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ka(On.bind(null,e,Ae,jt),t);break}On(e,Ae,jt);break;case 4:if(nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Ye(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mv(r/1960))-r,10<r){e.timeoutHandle=Ka(On.bind(null,e,Ae,jt),r);break}On(e,Ae,jt);break;case 5:On(e,Ae,jt);break;default:throw Error(P(329))}}}return Oe(e,se()),e.callbackNode===n?sh.bind(null,e):null}function Bl(e,t){var n=bo;return e.current.memoizedState.isDehydrated&&(An(e,t).flags|=256),e=Ji(e,t),e!==2&&(t=Ae,Ae=n,t!==null&&Wl(t)),e}function Wl(e){Ae===null?Ae=e:Ae.push.apply(Ae,e)}function Dv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Xe(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~Dl,t&=~Vi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ye(t),r=1<<n;e[n]=-1,t&=~r}}function ah(e){if(H&6)throw Error(P(327));gr();var t=oi(e,0);if(!(t&1))return Oe(e,se()),null;var n=Ji(e,t);if(e.tag!==0&&n===2){var r=_a(e);r!==0&&(t=r,n=Bl(e,r))}if(n===1)throw n=So,An(e,0),nn(e,t),Oe(e,se()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,Ae,jt),Oe(e,se()),null}function Vl(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(pr=se()+500,Si&&Qt())}}function jn(e){en!==null&&en.tag===0&&!(H&6)&&gr();var t=H;H|=1;var n=qe.transition,r=K;try{if(qe.transition=null,K=1,e)return e()}finally{K=r,qe.transition=n,H=t,!(H&6)&&Qt()}}function Hl(){ze=hr.current,X(hr)}function An(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pv(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(el(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_i();break;case 3:cr(),X(Te),X(ve),hl();break;case 5:dl(r);break;case 4:cr();break;case 13:X(ne);break;case 19:X(ne);break;case 10:sl(r.type._context);break;case 22:case 23:Hl()}n=n.return}if(de=e,ae=e=rn(e.current,null),me=ze=t,ue=0,So=null,Dl=Vi=Pn=0,Ae=bo=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Cn=null}return e}function lh(e,t){do{var n=ae;try{if(il(),Ii.current=Mi,Li){for(var r=re.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Li=!1}if(Tn=0,ce=le=re=null,vo=!1,yo=0,Ml.current=null,n===null||n.return===null){ue=1,So=t,ae=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=me,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=If(s);if(h!==null){h.flags&=-257,Lf(h,s,a,i,t),h.mode&1&&Rf(i,u,t),t=h,l=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){Rf(i,u,t),ql();break e}l=Error(P(426))}}else if(ee&&a.mode&1){var x=If(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Lf(x,s,a,i,t),rl(dr(l,a));break e}}i=l=dr(l,a),ue!==4&&(ue=2),bo===null?bo=[i]:bo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Af(i,l,t);nf(i,p);break e;case 1:a=l;var g=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zt===null||!Zt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Of(i,a,t);nf(i,k);break e}}i=i.return}while(i!==null)}dh(n)}catch(_){t=_,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function uh(){var e=Wi.current;return Wi.current=Mi,e===null?Mi:e}function ql(){(ue===0||ue===3||ue===2)&&(ue=4),de===null||!(Pn&268435455)&&!(Vi&268435455)||nn(de,me)}function Ji(e,t){var n=H;H|=2;var r=uh();(de!==e||me!==t)&&(jt=null,An(e,t));do try{zv();break}catch(o){lh(e,o)}while(!0);if(il(),H=n,Wi.current=r,ae!==null)throw Error(P(261));return de=null,me=0,ue}function zv(){for(;ae!==null;)ch(ae)}function Uv(){for(;ae!==null&&!dm();)ch(ae)}function ch(e){var t=ph(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?dh(e):ae=t,Ml.current=null}function dh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Iv(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,ae=null;return}}else if(n=Rv(n,t,ze),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);ue===0&&(ue=5)}function On(e,t,n){var r=K,o=qe.transition;try{qe.transition=null,K=1,Fv(e,t,n,r)}finally{qe.transition=o,K=r}return null}function Fv(e,t,n,r){do gr();while(en!==null);if(H&6)throw Error(P(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(_m(e,i),e===de&&(ae=de=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qi||(qi=!0,gh(ei,function(){return gr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var s=K;K=1;var a=H;H|=4,Ml.current=null,Nv(e,n),th(n,e),av(qa),ai=!!Ha,qa=Ha=null,e.current=n,$v(n),fm(),H=a,K=s,qe.transition=i}else e.current=n;if(qi&&(qi=!1,en=e,Gi=o),i=e.pendingLanes,i===0&&(Zt=null),gm(n.stateNode),Oe(e,se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hi)throw Hi=!1,e=Ul,Ul=null,e;return Gi&1&&e.tag!==0&&gr(),i=e.pendingLanes,i&1?e===Fl?Co++:(Co=0,Fl=e):Co=0,Qt(),null}function gr(){if(en!==null){var e=Xc(Gi),t=qe.transition,n=K;try{if(qe.transition=null,K=16>e?16:e,en===null)var r=!1;else{if(e=en,en=null,Gi=0,H&6)throw Error(P(331));var o=H;for(H|=4,O=e.current;O!==null;){var i=O,s=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:ko(8,c,i)}var d=c.child;if(d!==null)d.return=c,O=d;else for(;O!==null;){c=O;var f=c.sibling,h=c.return;if(Jf(c),c===u){O=null;break}if(f!==null){f.return=h,O=f;break}O=h}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}O=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,O=s;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ko(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,O=p;break e}O=i.return}}var g=e.current;for(O=g;O!==null;){s=O;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,O=m;else e:for(s=g;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bi(9,a)}}catch(_){ie(a,a.return,_)}if(a===s){O=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,O=k;break e}O=a.return}}if(H=o,Qt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(ti,e)}catch{}r=!0}return r}finally{K=n,qe.transition=t}}return!1}function fh(e,t,n){t=dr(n,t),t=Af(e,t,1),e=Yt(e,t,1),t=Ce(),e!==null&&(Kr(e,1,t),Oe(e,t))}function ie(e,t,n){if(e.tag===3)fh(e,e,n);else for(;t!==null;){if(t.tag===3){fh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zt===null||!Zt.has(r))){e=dr(n,e),e=Of(t,e,1),t=Yt(t,e,1),e=Ce(),t!==null&&(Kr(t,1,e),Oe(t,e));break}}t=t.return}}function Bv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&n,de===e&&(me&n)===n&&(ue===4||ue===3&&(me&130023424)===me&&500>se()-zl?An(e,0):Dl|=n),Oe(e,t)}function hh(e,t){t===0&&(e.mode&1?(t=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):t=1);var n=Ce();e=Et(e,t),e!==null&&(Kr(e,t,n),Oe(e,n))}function Wv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hh(e,n)}function Vv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),hh(e,n)}var ph;ph=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return je=!1,Ov(e,t,n);je=!!(e.flags&131072)}else je=!1,ee&&t.flags&1048576&&qd(t,Ci,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ui(e,t),e=t.pendingProps;var o=rr(t,ve.current);ur(t,n),o=ml(null,t,r,e,o,n);var i=vl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(r)?(i=!0,ki(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ul(t),o.updater=Di,t.stateNode=o,o._reactInternals=t,Sl(t,r,e,n),t=Tl(null,t,r,!0,i,n)):(t.tag=0,ee&&i&&Za(t),be(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ui(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=qv(r),e=et(r,e),o){case 0:t=El(null,t,r,e,n);break e;case 1:t=Uf(null,t,r,e,n);break e;case 11:t=Nf(null,t,r,e,n);break e;case 14:t=$f(null,t,r,et(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:et(r,o),El(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:et(r,o),Uf(e,t,r,o,n);case 3:e:{if(Ff(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,o=i.element,tf(e,t),Oi(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=dr(Error(P(423)),t),t=Bf(e,t,r,n,o);break e}else if(r!==o){o=dr(Error(P(424)),t),t=Bf(e,t,r,n,o);break e}else for(De=qt(t.stateNode.containerInfo.firstChild),Me=t,ee=!0,Ze=null,n=Zd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sr(),r===o){t=Pt(e,t,n);break e}be(e,t,r,n)}t=t.child}return t;case 5:return of(t),e===null&&nl(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Ga(r,o)?s=null:i!==null&&Ga(r,i)&&(t.flags|=32),zf(e,t),be(e,t,s,n),t.child;case 6:return e===null&&nl(t),null;case 13:return Wf(e,t,n);case 4:return cl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ar(t,null,r,n):be(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:et(r,o),Nf(e,t,r,o,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Q(Pi,r._currentValue),r._currentValue=s,i!==null)if(Xe(i.value,s)){if(i.children===o.children&&!Te.current){t=Pt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Tt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),al(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(P(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),al(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}be(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ur(t,n),o=Ve(o),r=r(o),t.flags|=1,be(e,t,r,n),t.child;case 14:return r=t.type,o=et(r,t.pendingProps),o=et(r.type,o),$f(e,t,r,o,n);case 15:return Mf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:et(r,o),Ui(e,t),t.tag=1,Pe(r)?(e=!0,ki(t)):e=!1,ur(t,n),Pf(t,r,o),Sl(t,r,o,n),Tl(null,t,r,!0,e,n);case 19:return Hf(e,t,n);case 22:return Df(e,t,n)}throw Error(P(156,t.tag))};function gh(e,t){return Gc(e,t)}function Hv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,n,r){return new Hv(e,t,n,r)}function Gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qv(e){if(typeof e=="function")return Gl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zs)return 11;if(e===na)return 14}return 2}function rn(e,t){var n=e.alternate;return n===null?(n=Ge(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yi(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Gl(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Vn:return Rn(n.children,o,i,t);case Ys:s=8,o|=8;break;case Xs:return e=Ge(12,n,t,o|2),e.elementType=Xs,e.lanes=i,e;case ea:return e=Ge(13,n,t,o),e.elementType=ea,e.lanes=i,e;case ta:return e=Ge(19,n,t,o),e.elementType=ta,e.lanes=i,e;case Sc:return Xi(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _c:s=10;break e;case kc:s=9;break e;case Zs:s=11;break e;case na:s=14;break e;case Dt:s=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Ge(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Rn(e,t,n,r){return e=Ge(7,e,r,t),e.lanes=n,e}function Xi(e,t,n,r){return e=Ge(22,e,r,t),e.elementType=Sc,e.lanes=n,e.stateNode={isHidden:!1},e}function Kl(e,t,n){return e=Ge(6,e,null,t),e.lanes=n,e}function Ql(e,t,n){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gv(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ka(0),this.expirationTimes=ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ka(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Jl(e,t,n,r,o,i,s,a,l){return e=new Gv(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ge(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ul(i),e}function Kv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mh(e){if(!e)return Kt;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Pe(n))return Wd(e,n,t)}return t}function vh(e,t,n,r,o,i,s,a,l){return e=Jl(n,r,!0,e,o,i,s,a,l),e.context=mh(null),n=e.current,r=Ce(),o=tn(n),i=Tt(r,o),i.callback=t??null,Yt(n,i,o),e.current.lanes=o,Kr(e,o,r),Oe(e,r),e}function Zi(e,t,n,r){var o=t.current,i=Ce(),s=tn(o);return n=mh(n),t.context===null?t.context=n:t.pendingContext=n,t=Tt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yt(o,t,s),e!==null&&(rt(e,o,s,i),Ai(e,o,s)),s}function es(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yl(e,t){yh(e,t),(e=e.alternate)&&yh(e,t)}function Qv(){return null}var wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}ts.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Zi(e,t,null,null)},ts.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){Zi(null,e,null,null)}),t[kt]=null}};function ts(e){this._internalRoot=e}ts.prototype.unstable_scheduleHydration=function(e){if(e){var t=td();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&t!==0&&t<Wt[n].priority;n++);Wt.splice(n,0,e),n===0&&od(e)}};function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ns(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xh(){}function Jv(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=es(s);i.call(u)}}var s=vh(t,r,e,0,null,!1,!1,"",xh);return e._reactRootContainer=s,e[kt]=s.current,lo(e.nodeType===8?e.parentNode:e),jn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=es(l);a.call(u)}}var l=Jl(e,0,!1,null,null,!1,!1,"",xh);return e._reactRootContainer=l,e[kt]=l.current,lo(e.nodeType===8?e.parentNode:e),jn(function(){Zi(t,l,n,r)}),l}function rs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=es(s);a.call(l)}}Zi(t,s,e,o)}else s=Jv(n,t,e,o,r);return es(s)}Zc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gr(t.pendingLanes);n!==0&&(Sa(t,n|1),Oe(t,se()),!(H&6)&&(pr=se()+500,Qt()))}break;case 13:jn(function(){var r=Et(e,1);if(r!==null){var o=Ce();rt(r,e,1,o)}}),Yl(e,1)}},ba=function(e){if(e.tag===13){var t=Et(e,134217728);if(t!==null){var n=Ce();rt(t,e,134217728,n)}Yl(e,134217728)}},ed=function(e){if(e.tag===13){var t=tn(e),n=Et(e,t);if(n!==null){var r=Ce();rt(n,e,t,r)}Yl(e,t)}},td=function(){return K},nd=function(e,t){var n=K;try{return K=e,t()}finally{K=n}},ma=function(e,t,n){switch(t){case"input":if(la(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xi(r);if(!o)throw Error(P(90));Ec(r),la(r,o)}}}break;case"textarea":Oc(e,n);break;case"select":t=n.value,t!=null&&Hn(e,!!n.multiple,t,!1)}},Uc=Vl,Fc=jn;var Yv={usingClientEntryPoint:!1,Events:[fo,tr,xi,Dc,zc,Vl]},Eo={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xv={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hc(e),e===null?null:e.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||Qv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!os.isDisabled&&os.supportsFiber)try{ti=os.inject(Xv),ut=os}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yv,Le.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zl(t))throw Error(P(200));return Kv(e,t,null,n)},Le.createRoot=function(e,t){if(!Zl(e))throw Error(P(299));var n=!1,r="",o=wh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Jl(e,1,!1,null,null,n,!1,r,o),e[kt]=t.current,lo(e.nodeType===8?e.parentNode:e),new Xl(t)},Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Hc(t),e=e===null?null:e.stateNode,e},Le.flushSync=function(e){return jn(e)},Le.hydrate=function(e,t,n){if(!ns(t))throw Error(P(200));return rs(null,e,t,!0,n)},Le.hydrateRoot=function(e,t,n){if(!Zl(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=wh;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=vh(t,null,e,1,n??null,o,!1,i,s),e[kt]=t.current,lo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ts(t)},Le.render=function(e,t,n){if(!ns(t))throw Error(P(200));return rs(null,e,t,!1,n)},Le.unmountComponentAtNode=function(e){if(!ns(e))throw Error(P(40));return e._reactRootContainer?(jn(function(){rs(null,null,e,!1,function(){e._reactRootContainer=null,e[kt]=null})}),!0):!1},Le.unstable_batchedUpdates=Vl,Le.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ns(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return rs(e,t,n,!1,r)},Le.version="18.3.1-next-f1338f8080-20240426";function _h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_h)}catch(e){console.error(e)}}_h(),gc.exports=Le;var eu=gc.exports,kh,Sh=eu;kh=Sh.createRoot,Sh.hydrateRoot;var bh={exports:{}},is={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv=w,ey=Symbol.for("react.element"),ty=Symbol.for("react.fragment"),ny=Object.prototype.hasOwnProperty,ry=Zv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oy={key:!0,ref:!0,__self:!0,__source:!0};function Ch(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)ny.call(t,r)&&!oy.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:ey,type:e,key:i,ref:s,props:o,_owner:ry.current}}is.Fragment=ty,is.jsx=Ch,is.jsxs=Ch,bh.exports=is;var S=bh.exports;const iy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Promise.resolve().then(()=>vr).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class tu extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class sy extends tu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ay extends tu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ly extends tu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nu||(nu={}));var uy=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class cy{constructor(t,{headers:n={},customFetch:r,region:o=nu.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=iy(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return uy(this,void 0,void 0,function*(){try{const{headers:o,method:i,body:s}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:u}).catch(v=>{throw new sy(v)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new ay(c);if(!c.ok)throw new ly(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield c.json():f==="application/octet-stream"?h=yield c.blob():f==="text/event-stream"?h=c:f==="multipart/form-data"?h=yield c.formData():h=yield c.text(),{data:h,error:null}}catch(o){return{data:null,error:o}}})}}var Re={},ru={},ss={},To={},as={},ls={},dy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mr=dy();const fy=mr.fetch,Eh=mr.fetch.bind(mr),Th=mr.Headers,hy=mr.Request,py=mr.Response,vr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Th,Request:hy,Response:py,default:Eh,fetch:fy},Symbol.toStringTag,{value:"Module"})),gy=Rg(vr);var us={};Object.defineProperty(us,"__esModule",{value:!0});let my=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};us.default=my;var Ph=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ls,"__esModule",{value:!0});const vy=Ph(gy),yy=Ph(us);let wy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=vy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,l;let u=null,c=null,d=null,f=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=p:c=JSON.parse(p))}const y=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&x&&x.length>1&&(d=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,h="OK")}catch{i.status===404&&y===""?(f=204,h="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,h="OK"),u&&this.shouldThrowOnError)throw new yy.default(u)}return{error:u,data:c,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,l;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};ls.default=wy;var xy=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(as,"__esModule",{value:!0});const _y=xy(ls);let ky=class extends _y.default{select(t){let n=!1;const r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){const i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};as.default=ky;var Sy=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(To,"__esModule",{value:!0});const by=Sy(as);let Cy=class extends by.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};To.default=Cy;var Ey=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ss,"__esModule",{value:!0});const Po=Ey(To);let Ty=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Po.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Po.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){const s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Po.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new Po.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Po.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ss.default=Ty;var cs={},ds={};Object.defineProperty(ds,"__esModule",{value:!0}),ds.version=void 0,ds.version="0.0.0-automated",Object.defineProperty(cs,"__esModule",{value:!0}),cs.DEFAULT_HEADERS=void 0;const Py=ds;cs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Py.version}`};var jh=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ru,"__esModule",{value:!0});const jy=jh(ss),Ay=jh(To),Oy=cs;let Ry=class jg{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},Oy.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new jy.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){let s;const a=new URL(`${this.url}/rpc/${t}`);let l;r||o?(s=r?"HEAD":"GET",Object.entries(n).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(s="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Ay.default({method:s,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ru.default=Ry;var yr=he&&he.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Re,"__esModule",{value:!0}),Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const Ah=yr(ru);Re.PostgrestClient=Ah.default;const Oh=yr(ss);Re.PostgrestQueryBuilder=Oh.default;const Rh=yr(To);Re.PostgrestFilterBuilder=Rh.default;const Ih=yr(as);Re.PostgrestTransformBuilder=Ih.default;const Lh=yr(ls);Re.PostgrestBuilder=Lh.default;const Nh=yr(us);Re.PostgrestError=Nh.default;var Iy=Re.default={PostgrestClient:Ah.default,PostgrestQueryBuilder:Oh.default,PostgrestFilterBuilder:Rh.default,PostgrestTransformBuilder:Ih.default,PostgrestBuilder:Lh.default,PostgrestError:Nh.default};const{PostgrestClient:Ly,PostgrestQueryBuilder:ok,PostgrestFilterBuilder:ik,PostgrestTransformBuilder:sk,PostgrestBuilder:ak,PostgrestError:lk}=Iy;let ou;typeof window>"u"?ou=require("ws"):ou=window.WebSocket;const Ny=ou,$y={"X-Client-Info":"realtime-js/2.11.10"},My="1.0.0",$h=1e4,Dy=1e3;var wr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wr||(wr={}));var Ee;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ee||(Ee={}));var ot;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ot||(ot={}));var iu;(function(e){e.websocket="websocket"})(iu||(iu={}));var In;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(In||(In={}));class zy{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const o=n.getUint8(1),i=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(t.slice(s,s+o));s=s+o;const l=r.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Mh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(J||(J={}));const Dh=(e,t,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=Uy(s,e,t,o),i),{})},Uy=(e,t,n,r)=>{const o=t.find(a=>a.name===e),i=o==null?void 0:o.type,s=n[e];return i&&!r.includes(i)?zh(i,s):su(s)},zh=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Vy(t,n)}switch(e){case J.bool:return Fy(t);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return By(t);case J.json:case J.jsonb:return Wy(t);case J.timestamp:return Hy(t);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return su(t);default:return su(t)}},su=e=>e,Fy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},By=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Wy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Vy=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>zh(t,a))}return e},Hy=e=>typeof e=="string"?e.replace(" ","T"):e,Uh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class au{constructor(t,n,r={},o=$h){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fh||(Fh={}));class jo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jo.syncState(this.state,o,i,s),this.pendingDiffs.forEach(l=>{this.state=jo.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=jo.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){const i=this.cloneDeep(t),s=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const d=i[u];if(d){const f=c.map(x=>x.presence_ref),h=d.map(x=>x.presence_ref),v=c.filter(x=>h.indexOf(x.presence_ref)<0),y=d.filter(x=>f.indexOf(x.presence_ref)<0);v.length>0&&(a[u]=v),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,o)}static syncDiff(t,n,r,o){const{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(h=>h.presence_ref),f=c.filter(h=>d.indexOf(h.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(s,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,o(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bh||(Bh={}));var Wh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wh||(Wh={}));var At;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(At||(At={}));class lu{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new au(this,ot.join,this.params,this.timeout),this.rejoinTimer=new Mh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new jo(this),this.broadcastEndpointURL=Uh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(c=>t==null?void 0:t(At.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(At.CLOSED));const l={},u={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){t==null||t(At.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,v=[];for(let y=0;y<h;y++){const x=f[y],{filter:{event:p,schema:g,table:m,filter:k}}=x,_=c&&c[y];if(_&&_.event===p&&_.schema===g&&_.table===m&&_.filter===k)v.push(Object.assign(Object.assign({},x),{id:_.id}));else{this.unsubscribe(),this.state=Ee.errored,t==null||t(At.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(At.SUBSCRIBED);return}}).receive("error",c=>{this.state=Ee.errored,t==null||t(At.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(At.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const o=new au(this,ot.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new au(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;const s=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ot;if(r&&[a,l,u,c].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(h=>{var v,y,x;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(y=h.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var v,y,x,p,g,m;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const k=h.id,_=(v=h.filter)===null||v===void 0?void 0:v.event;return k&&((y=n.ids)===null||y===void 0?void 0:y.includes(k))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const k=(g=(p=h==null?void 0:h.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return k==="*"||k===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:x,commit_timestamp:p,type:g,errors:m}=v;f=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:p,eventType:g,new:{},old:{},errors:m}),this._getPayloadRecords(v))}h.callback(f,r)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&lu.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ot.close,{},t)}_onError(t){this._on(ot.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Dh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Dh(t.columns,t.old_record)),n}}const Vh=()=>{},qy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gy{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=$y,this.params={},this.timeout=$h,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vh,this.ref=0,this.logger=Vh,this.conn=null,this.sendBuffer=[],this.serializer=new zy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>Promise.resolve().then(()=>vr).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${iu.websocket}`,this.httpEndpoint=Uh(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Mh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ny),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Ky(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:My}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wr.connecting:return In.Connecting;case wr.open:return In.Open;case wr.closing:return In.Closing;default:return In.Closed}}isConnected(){return this.connectionState()===In.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{const i=new lu(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(ot.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Dy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ot.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([qy],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Ky{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class uu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Qy extends uu{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cu extends uu{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Jy=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Hh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Promise.resolve().then(()=>vr).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Yy=()=>Jy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(()=>vr)).Response:Response}),du=e=>{if(Array.isArray(e))return e.map(n=>du(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=du(r)}),t};var Ln=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const fu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xy=(e,t,n)=>Ln(void 0,void 0,void 0,function*(){const r=yield Yy();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{t(new Qy(fu(o),e.status||500))}).catch(o=>{t(new cu(fu(o),o))}):t(new cu(fu(e),e))}),Zy=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function Ao(e,t,n,r,o,i){return Ln(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,Zy(t,r,o,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Xy(l,a,r))})})}function fs(e,t,n,r){return Ln(this,void 0,void 0,function*(){return Ao(e,"GET",t,n,r)})}function on(e,t,n,r,o){return Ln(this,void 0,void 0,function*(){return Ao(e,"POST",t,r,o,n)})}function e0(e,t,n,r,o){return Ln(this,void 0,void 0,function*(){return Ao(e,"PUT",t,r,o,n)})}function t0(e,t,n,r){return Ln(this,void 0,void 0,function*(){return Ao(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function qh(e,t,n,r,o){return Ln(this,void 0,void 0,function*(){return Ao(e,"DELETE",t,r,o,n)})}var Ie=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const n0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class r0{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Hh(o)}uploadOrUpdate(t,n,r,o){return Ie(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},Gh),o);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),o!=null&&o.headers&&(a=Object.assign(Object.assign({},a),o.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Ie(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Gh.upsert},o),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Ie(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const i=yield on(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new uu("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ie(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(fe(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield on(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(fe(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Ie(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield on(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(fe(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Ie(this,void 0,void 0,function*(){try{const o=yield on(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(fe(o))return{data:null,error:o};throw o}})}download(t,n){return Ie(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield fs(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}info(t){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield fs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:du(r),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}exists(t){return Ie(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield t0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(fe(r)&&r instanceof cu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),o=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&o.push(l);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Ie(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ie(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},n0),n),{prefix:t||""});return{data:yield on(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(fe(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const o0={"X-Client-Info":"storage-js/2.7.1"};var xr=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class i0{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},o0),n),this.fetch=Hh(r)}listBuckets(){return xr(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}getBucket(t){return xr(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return xr(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return xr(this,void 0,void 0,function*(){try{return{data:yield e0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return xr(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return xr(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}}class s0 extends i0{constructor(t,n={},r){super(t,n,r)}from(t){return new r0(this.url,this.headers,t,this.fetch)}}const a0="2.50.0";let Oo="";typeof Deno<"u"?Oo="deno":typeof document<"u"?Oo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oo="react-native":Oo="node";const l0={headers:{"X-Client-Info":`supabase-js-${Oo}/${a0}`}},u0={schema:"public"},c0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d0={};var f0=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const h0=e=>{let t;return e?t=e:typeof fetch>"u"?t=Eh:t=fetch,(...n)=>t(...n)},p0=()=>typeof Headers>"u"?Th:Headers,g0=(e,t,n)=>{const r=h0(n),o=p0();return(i,s)=>f0(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new o(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},s),{headers:u}))})};var m0=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function v0(e){return e.endsWith("/")?e:e+"/"}function y0(e,t){var n,r;const{db:o,auth:i,realtime:s,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:Object.assign(Object.assign({},l),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>m0(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Kh="2.70.0",_r=30*1e3,hu=3,pu=hu*_r,w0="http://localhost:9999",x0="supabase.auth.token",_0={"X-Client-Info":`gotrue-js/${Kh}`},gu="X-Supabase-Api-Version",Qh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,S0=6e5;class mu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class b0 extends mu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function C0(e){return M(e)&&e.name==="AuthApiError"}class Jh extends mu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class sn extends mu{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}}class an extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function E0(e){return M(e)&&e.name==="AuthSessionMissingError"}class hs extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ps extends sn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gs extends sn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function T0(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yh extends sn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vu extends sn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function yu(e){return M(e)&&e.name==="AuthRetryableFetchError"}class Xh extends sn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ro extends sn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zh=` 	
\r=`.split(""),P0=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zh.length;t+=1)e[Zh[t].charCodeAt(0)]=-2;for(let t=0;t<ms.length;t+=1)e[ms[t].charCodeAt(0)]=t;return e})();function ep(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ms[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ms[r]),t.queuedBits-=6}}function tp(e,t,n){const r=P0[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function np(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{O0(s,r,n)};for(let s=0;s<e.length;s+=1)tp(e.charCodeAt(s),o,i);return t.join("")}function j0(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function A0(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}j0(r,t)}}function O0(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function R0(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)tp(e.charCodeAt(o),n,r);return new Uint8Array(t)}function I0(e){const t=[];return A0(e,n=>t.push(n)),new Uint8Array(t)}function L0(e){const t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};return e.forEach(o=>ep(o,n,r)),ep(null,n,r),t.join("")}function N0(e){return Math.round(Date.now()/1e3)+e}function $0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const it=()=>typeof window<"u"&&typeof document<"u",Nn={tested:!1,writable:!1},Io=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nn.tested)return Nn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Nn.tested=!0,Nn.writable=!0}catch{Nn.tested=!0,Nn.writable=!1}return Nn.writable};function M0(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}const rp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Promise.resolve().then(()=>vr).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},D0=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",op=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},vs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ys=async(e,t)=>{await e.removeItem(t)};class ws{constructor(){this.promise=new ws.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ws.promiseConstructor=Promise;function wu(e){const t=e.split(".");if(t.length!==3)throw new Ro("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!k0.test(t[r]))throw new Ro("JWT not in base64url format");return{header:JSON.parse(np(t[0])),payload:JSON.parse(np(t[1])),signature:R0(t[2]),raw:{header:t[0],payload:t[1]}}}async function z0(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function U0(e,t){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})()})}function F0(e){return("0"+e.toString(16)).substr(-2)}function B0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,F0).join("")}async function W0(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function V0(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await W0(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kr(e,t,n=!1){const r=B0();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await op(e,`${t}-code-verifier`,o);const i=await V0(r);return[i,r===i?"plain":"s256"]}const H0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q0(e){const t=e.headers.get(gu);if(!t||!t.match(H0))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function G0(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function K0(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Q0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sr(e){if(!Q0.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var J0=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const $n=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Y0=[502,503,504];async function ip(e){var t;if(!D0(e))throw new vu($n(e),0);if(Y0.includes(e.status))throw new vu($n(e),e.status);let n;try{n=await e.json()}catch(i){throw new Jh($n(i),i)}let r;const o=q0(e);if(o&&o.getTime()>=Qh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xh($n(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new an}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Xh($n(n),e.status,n.weak_password.reasons);throw new b0($n(n),e.status||500,r)}const X0=(e,t,n,r)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function W(e,t,n,r){var o;const i=Object.assign({},r==null?void 0:r.headers);i[gu]||(i[gu]=Qh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Z0(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Z0(e,t,n,r,o,i){const s=X0(t,r,o,i);let a;try{a=await e(n,Object.assign({},s))}catch(l){throw console.error(l),new vu($n(l),0)}if(a.ok||await ip(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await ip(l)}}function Ot(e){var t;let n=null;rw(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=N0(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function sp(e){const t=Ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ln(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ew(e){return{data:e,error:null}}function tw(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=J0(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function nw(e){return e}function rw(e){return e.access_token&&e.refresh_token&&e.expires_in}const xu=["global","local","others"];var ow=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};class iw{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=rp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=xu[0]){if(xu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xu.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ln})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=ow(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:tw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(M(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ln})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,o,i,s,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:nw});if(c.error)throw c.error;const d=await c.json(),f=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Sr(t);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ln})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Sr(t);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ln})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Sr(t);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ln})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Sr(t.userId);try{const{data:n,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Sr(t.userId),Sr(t.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}const sw={getItem:e=>Io()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Io()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Io()&&globalThis.localStorage.removeItem(e)}};function ap(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function aw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const br={debug:!!(globalThis&&Io()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lw extends lp{}async function uw(e,t,n){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(br.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}aw();const cw={url:w0,storageKey:x0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function up(e,t,n){return await n()}class Lo{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Lo.nextInstanceID,Lo.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},cw),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new iw({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=rp(o.fetch),this.lock=o.lock||up,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:it()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=uw:this.lock=up,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Io()?this.storage=sw:(this.memoryStorage={},this.storage=ap(this.memoryStorage)):(this.memoryStorage={},this.storage=ap(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=M0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),it()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),T0(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:a}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return M(n)?{error:n}:{error:new Jh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,o;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ot}),{data:s,error:a}=i;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,o;try{let i;if("email"in t){const{email:c,password:d,options:f}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await kr(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:v},xform:Ot})}else if("phone"in t){const{phone:c,password:d,options:f}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(o=f==null?void 0:f.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ot})}else throw new ps("You must provide either an email or phone number and a password");const{data:s,error:a}=i;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:s,options:a}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sp})}else if("phone"in t){const{phone:i,password:s,options:a}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:sp})}else throw new ps("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new hs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,o,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,o,i,s,a,l,u,c,d,f,h;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:x,wallet:p,statement:g,options:m}=t;let k;if(it())if(typeof p=="object")k=p;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))k=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=p}const _=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const b=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let C;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")C=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)C=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),y=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(o=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((s=m==null?void 0:m.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const b=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=b}}try{const{data:x,error:p}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:L0(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ot});if(p)throw p;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new hs}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:p})}catch(x){if(M(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await vs(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:i,error:s}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ot});if(await ys(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new hs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:s})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:o,access_token:i,nonce:s}=t,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ot}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new hs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,o,i,s;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await kr(this.storage,this.storageKey));const{error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(o=l==null?void 0:l.data)!==null&&o!==void 0?o:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ps("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let o,i;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:Ot});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(M(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,r,o;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await kr(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:ew})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new an;const{error:o}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:i}=t,{error:s}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:r,type:o,options:i}=t,{data:s,error:a}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new ps("You must provide either an email or phone number and a type")}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<pu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ln}):await this._useSession(async n=>{var r,o,i;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new an}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:ln})})}catch(n){if(M(n))return E0(n)&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:o,error:i}=r;if(i)throw i;if(!o.session)throw new an;const s=o.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await kr(this.storage,this.storageKey));const{data:u,error:c}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:ln});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new an;const n=Date.now()/1e3;let r=n,o=!0,i=null;const{payload:s}=wu(t.access_token);if(s.exp&&(r=s.exp,o=r<=n),o){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(M(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:a}=n;if(a)throw a;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new an;const{session:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!it())throw new gs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yh("No code detected.");const{data:g,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:i,refresh_token:s,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!s||!u)throw new gs("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const h=f-c;h*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const v=f-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:y,error:x}=await this._getUser(i);if(x)throw x;const p={provider_token:r,provider_refresh_token:o,access_token:i,expires_in:d,expires_at:f,refresh_token:s,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(M(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await vs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{error:i};const s=(r=o.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,t);if(a&&!(C0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=$0(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,o;try{const{data:{session:i},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await kr(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:o}=await this._useSession(async i=>{var s,a,l,u,c;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",h,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(o)throw o;return it()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(M(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)throw s;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await U0(async o=>(o>0&&await z0(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ot})),(o,i)=>{const s=200*Math.pow(2,o);return i&&yu(i)&&Date.now()+s-r<_r})}catch(r){if(this._debug(n,"error",r),M(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),it()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await vs(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<pu;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${pu}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),yu(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new an;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ws;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new an;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(o,"error",i),M(i)){const s={session:null,error:i};return yu(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await op(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ys(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${_r}ms, refresh threshold is ${hu} ticks`),o<=hu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,s]=await kr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);o.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,o;const{data:i,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((o=l==null?void 0:l.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;if(i)return{data:null,error:i};const{data:s,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],o=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:o,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:o},error:i}=t;if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=wu(o.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r||(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+S0>Date.now()))return r;const{data:o,error:i}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!o.keys||o.keys.length===0)throw new Ro("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(s=>s.kid===t),!r)throw new Ro("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};r=h.session.access_token}const{header:o,payload:i,signature:s,raw:{header:a,payload:l}}=wu(r);if(G0(i.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:o,signature:s},error:null}}const u=K0(o.alg),c=await this.fetchJwk(o.kid,n),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,s,I0(`${a}.${l}`)))throw new Ro("Invalid JWT signature");return{data:{claims:i,header:o,signature:s},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}Lo.nextInstanceID=0;const dw=Lo;class fw extends dw{constructor(t){super(t)}}var hw=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class pw{constructor(t,n,r){var o,i,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=v0(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:u0,realtime:d0,auth:Object.assign(Object.assign({},c0),{storageKey:u}),global:l0},d=y0(r??{},c);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=g0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Ly(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new cy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new s0(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return hw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fw({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Gy(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gw=((e,t,n)=>new pw(e,t,n))("https://fhsjhoygllcchfinalih.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZoc2pob3lnbGxjY2hmaW5hbGloIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgwMjE4MzcsImV4cCI6MjA2MzU5NzgzN30.2TEzTNMYMcVuBoC9t1zdkjZ66FosDzO-byE6WylI9Gg"),mw=({onTranscription:e,isVoiceEnabled:t,autoPlayResponses:n})=>{const[r,o]=w.useState(!1),[i,s]=w.useState(!1),[a,l]=w.useState(0),[u,c]=w.useState(!1),[d,f]=w.useState(!1),[h,v]=w.useState("bark"),y=w.useRef(null),x=w.useRef([]),p=w.useRef(null),g=w.useRef(null),m=w.useRef(null),k=w.useRef(null);if(!t)return{isRecording:!1,isProcessing:!1,recordingTimer:0,isSpeaking:!1,voicePermissionDenied:!1,selectedVoice:"bark",startRecording:()=>{},stopRecording:()=>{},speakText:()=>{},stopSpeaking:()=>{},setSelectedVoice:()=>{}};w.useEffect(()=>{if(typeof window<"u"&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)){const I=window.webkitSpeechRecognition||window.SpeechRecognition;p.current=new I,p.current.continuous=!1,p.current.interimResults=!0,p.current.lang="en-US",p.current.onresult=R=>{const G=Array.from(R.results).map(z=>z[0]).map(z=>z.transcript).join("");R.results[R.results.length-1].isFinal&&(e(G),T())},p.current.onerror=R=>{console.error("Speech recognition error:",R.error),R.error==="not-allowed"&&f(!0),T()},p.current.onend=()=>{s(!1)}}},[e]);const _=w.useCallback(()=>{l(0),g.current=setInterval(()=>{l(I=>I>=14?(T(),0):I+1)},1e3)},[]),b=w.useCallback(()=>{g.current&&(clearInterval(g.current),g.current=null),l(0)},[]),C=w.useCallback(async()=>{if(!(!t||d))try{const I=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});m.current=I,f(!1),o(!0),x.current=[],_(),p.current?(s(!0),p.current.start()):(y.current=new MediaRecorder(I,{mimeType:"audio/webm;codecs=opus"}),y.current.ondataavailable=R=>{R.data.size>0&&x.current.push(R.data)},y.current.onstop=async()=>{s(!0);const R=new Blob(x.current,{type:"audio/webm"});await $(R)},y.current.start())}catch(I){console.error("Error accessing microphone:",I),f(!0),o(!1)}},[t,d,_]),T=w.useCallback(()=>{if(t){if(o(!1),b(),p.current)try{p.current.stop()}catch{console.log("Speech recognition already stopped")}y.current&&y.current.state==="recording"&&y.current.stop(),m.current&&(m.current.getTracks().forEach(I=>I.stop()),m.current=null)}},[b]),$=async I=>{try{const R=await I.arrayBuffer(),G=btoa(String.fromCharCode(...new Uint8Array(R)));console.log("Would transcribe audio with Whisper API"),s(!1)}catch(R){console.error("Error transcribing audio:",R),s(!1)}},A=w.useCallback(async I=>{if(!(!t||!n||!I.trim())){L(),c(!0);try{console.log("Generating TTS with Together AI...");const{data:R,error:G}=await gw.functions.invoke("together-tts",{body:{text:I.trim(),voice:h}});if(G){console.error("TTS error:",G),D(I);return}if(R!=null&&R.audioContent){const z=Uint8Array.from(atob(R.audioContent),N=>N.charCodeAt(0)),V=new Blob([z],{type:"audio/wav"}),E=URL.createObjectURL(V),j=new Audio(E);k.current=j,j.onloadeddata=()=>{console.log("Audio loaded, playing..."),j.play().catch(N=>{console.error("Error playing audio:",N),c(!1)})},j.onended=()=>{c(!1),URL.revokeObjectURL(E),k.current=null},j.onerror=()=>{console.error("Audio playback error"),c(!1),URL.revokeObjectURL(E),k.current=null,D(I)}}else throw new Error("No audio content received")}catch(R){console.error("Error with Together AI TTS:",R),D(I)}}},[t,n,h]),D=w.useCallback(I=>{if(!t||typeof window>"u"||!window.speechSynthesis){c(!1);return}console.log("Using browser TTS fallback"),window.speechSynthesis.cancel();const R=new SpeechSynthesisUtterance(I);R.rate=.9,R.pitch=1,R.volume=.8;const z=window.speechSynthesis.getVoices().find(V=>V.name.includes("Natural")||V.name.includes("Enhanced")||V.name.includes("Premium"));z&&(R.voice=z),R.onstart=()=>c(!0),R.onend=()=>c(!1),R.onerror=()=>c(!1),window.speechSynthesis.speak(R)},[t]),L=w.useCallback(()=>{k.current&&(k.current.pause(),k.current=null),typeof window<"u"&&window.speechSynthesis&&window.speechSynthesis.cancel(),c(!1)},[t]);return w.useEffect(()=>()=>{b(),m.current&&m.current.getTracks().forEach(I=>I.stop()),L()},[b,L]),{isRecording:r,isProcessing:i,recordingTimer:a,isSpeaking:u,voicePermissionDenied:d,selectedVoice:h,startRecording:C,stopRecording:T,speakText:A,stopSpeaking:L,setSelectedVoice:v}},vw=({avatarUrl:e,title:t,welcomeMessage:n,buttons:r,primaryColor:o,secondaryColor:i,chatBackground:s,textColor:a,headerGradientColor:l,onButtonClick:u,isMobile:c})=>S.jsxs("div",{className:"welcome-message-wrapper",style:{padding:"1rem",backgroundColor:s,height:"100%",display:"flex",flexDirection:"column",gap:"20px"},children:[e&&S.jsx("div",{className:"welcome-logo-container",style:{textAlign:"center"},children:S.jsx("img",{src:e,alt:t,className:"welcome-logo",style:{width:c?"100px":"120px",height:c?"100px":"120px",borderRadius:"50%",objectFit:"cover",marginBottom:"20px",display:"block",margin:"0 auto 20px auto"},onError:d=>{console.error("Avatar failed to load:",e),d.currentTarget.style.display="none"}})}),S.jsx("div",{className:"welcome-buttons-grid",style:{display:"grid",gridTemplateColumns:c?"1fr":"1fr 1fr",gap:"12px",marginBottom:"20px"},children:r.map((d,f)=>S.jsx("button",{className:"welcome-button",onClick:()=>u(d.message),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",padding:"8px 12px",background:`linear-gradient(135deg, ${l} 0%, ${o} 100%)`,border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"12px",fontWeight:"500",color:"white",transition:"all 0.2s ease",minHeight:"40px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},onMouseEnter:h=>{h.currentTarget.style.background=`linear-gradient(135deg, ${o} 0%, ${l} 100%)`,h.currentTarget.style.transform="translateY(-1px)",h.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:h=>{h.currentTarget.style.background=`linear-gradient(135deg, ${l} 0%, ${o} 100%)`,h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:S.jsx("span",{children:d.text})},d.id||f))}),S.jsx("div",{style:{marginTop:"auto",alignSelf:"flex-start",width:"100%"},children:S.jsxs("div",{className:"chatbot-widget-message chatbot-widget-message-bot chatbot-message-animate",style:{display:"flex",gap:"8px",alignItems:"flex-start",justifyContent:"flex-start"},children:[e&&S.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",overflow:"hidden",flexShrink:0,background:i,display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsx("img",{src:e,alt:"Bot Avatar",style:{width:"100%",height:"100%",objectFit:"cover"},onError:d=>{d.currentTarget.style.display="none"}})}),S.jsx("div",{className:"chatbot-widget-message-bubble chatbot-widget-message-bubble-bot",style:{backgroundColor:i,color:a,padding:"12px 16px",borderRadius:"18px 18px 18px 4px",border:`1px solid ${i==="#f1f5f9"?"#e2e8f0":"rgba(0,0,0,0.1)"}`,fontSize:"14px",lineHeight:"1.4",maxWidth:"85%"},children:S.jsx("p",{className:"chatbot-widget-message-text",style:{margin:0},children:n})})]})})]});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cp=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ww={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...a},l)=>w.createElement("svg",{ref:l,...ww,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:cp("lucide",o),...a},[...s.map(([u,c])=>w.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=w.forwardRef(({className:r,...o},i)=>w.createElement(xw,{ref:i,iconNode:t,className:cp(`lucide-${yw(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=_e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=_e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=_e("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=_e("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=_e("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=_e("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=_e("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=_e("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_s.apply(null,arguments)}function Ow(e){const t=new Uint8Array(e);return window.btoa(String.fromCharCode(...t))}function Rw(e){const t=window.atob(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer}const _u=new Map;function mp(e,t){return async n=>{const r=_u.get(e);if(r)return n.addModule(r);const o=new Blob([t],{type:"application/javascript"}),i=URL.createObjectURL(o);try{return await n.addModule(i),void _u.set(e,i)}catch{URL.revokeObjectURL(i)}try{const s=`data:application/javascript;base64,${btoa(t)}`;await n.addModule(s),_u.set(e,s)}catch{throw new Error(`Failed to load the ${e} worklet module. Make sure the browser supports AudioWorklets.`)}}}const Iw=mp("raw-audio-processor",`
const BIAS = 0x84;
const CLIP = 32635;
const encodeTable = [
  0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,
  4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7
];

function encodeSample(sample) {
  let sign;
  let exponent;
  let mantissa;
  let muLawSample;
  sign = (sample >> 8) & 0x80;
  if (sign !== 0) sample = -sample;
  sample = sample + BIAS;
  if (sample > CLIP) sample = CLIP;
  exponent = encodeTable[(sample>>7) & 0xFF];
  mantissa = (sample >> (exponent+3)) & 0x0F;
  muLawSample = ~(sign | (exponent << 4) | mantissa);
  
  return muLawSample;
}

class RawAudioProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
              
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.isMuted = false;
          this.buffer = []; // Initialize an empty buffer
          this.bufferSize = data.sampleRate / 4;
          this.format = data.format;

          if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {
            globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {
              this.resampler = resampler;
            });
          }
          break;
        case "setMuted":
          this.isMuted = data.isMuted;
          break;
      }
    };
  }
  process(inputs) {
    if (!this.buffer) {
      return true;
    }
    
    const input = inputs[0]; // Get the first input node
    if (input.length > 0) {
      let channelData = input[0]; // Get the first channel's data

      // Resample the audio if necessary
      if (this.resampler) {
        channelData = this.resampler.full(channelData);
      }

      // Add channel data to the buffer
      this.buffer.push(...channelData);
      // Get max volume 
      let sum = 0.0;
      for (let i = 0; i < channelData.length; i++) {
        sum += channelData[i] * channelData[i];
      }
      const maxVolume = Math.sqrt(sum / channelData.length);
      // Check if buffer size has reached or exceeded the threshold
      if (this.buffer.length >= this.bufferSize) {
        const float32Array = this.isMuted 
          ? new Float32Array(this.buffer.length)
          : new Float32Array(this.buffer);

        let encodedArray = this.format === "ulaw"
          ? new Uint8Array(float32Array.length)
          : new Int16Array(float32Array.length);

        // Iterate through the Float32Array and convert each sample to PCM16
        for (let i = 0; i < float32Array.length; i++) {
          // Clamp the value to the range [-1, 1]
          let sample = Math.max(-1, Math.min(1, float32Array[i]));

          // Scale the sample to the range [-32768, 32767]
          let value = sample < 0 ? sample * 32768 : sample * 32767;
          if (this.format === "ulaw") {
            value = encodeSample(Math.round(value));
          }

          encodedArray[i] = value;
        }

        // Send the buffered data to the main script
        this.port.postMessage([encodedArray, maxVolume]);

        // Clear the buffer after sending
        this.buffer = [];
      }
    }
    return true; // Continue processing
  }
}
registerProcessor("raw-audio-processor", RawAudioProcessor);
`);function vp(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}let Lw=class Ag{static async create({sampleRate:t,format:n,preferHeadphonesForIosDevices:r}){let o=null,i=null;try{const l={sampleRate:{ideal:t},echoCancellation:{ideal:!0},noiseSuppression:{ideal:!0}};if(vp()&&r){const h=(await window.navigator.mediaDevices.enumerateDevices()).find(v=>v.kind==="audioinput"&&["airpod","headphone","earphone"].find(y=>v.label.toLowerCase().includes(y)));h&&(l.deviceId={ideal:h.deviceId})}const u=navigator.mediaDevices.getSupportedConstraints().sampleRate;o=new window.AudioContext(u?{sampleRate:t}:{});const c=o.createAnalyser();u||await o.audioWorklet.addModule("https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js"),await Iw(o.audioWorklet),i=await navigator.mediaDevices.getUserMedia({audio:l});const d=o.createMediaStreamSource(i),f=new AudioWorkletNode(o,"raw-audio-processor");return f.port.postMessage({type:"setFormat",format:n,sampleRate:t}),d.connect(c),c.connect(f),await o.resume(),new Ag(o,c,f,i)}catch(l){var s,a;throw(s=i)==null||s.getTracks().forEach(u=>u.stop()),(a=o)==null||a.close(),l}}constructor(t,n,r,o){this.context=void 0,this.analyser=void 0,this.worklet=void 0,this.inputStream=void 0,this.context=t,this.analyser=n,this.worklet=r,this.inputStream=o}async close(){this.inputStream.getTracks().forEach(t=>t.stop()),await this.context.close()}setMuted(t){this.worklet.port.postMessage({type:"setMuted",isMuted:t})}};const Nw=mp("audio-concat-processor",`
const decodeTable = [0,132,396,924,1980,4092,8316,16764];

export function decodeSample(muLawSample) {
  let sign;
  let exponent;
  let mantissa;
  let sample;
  muLawSample = ~muLawSample;
  sign = (muLawSample & 0x80);
  exponent = (muLawSample >> 4) & 0x07;
  mantissa = muLawSample & 0x0F;
  sample = decodeTable[exponent] + (mantissa << (exponent+3));
  if (sign !== 0) sample = -sample;

  return sample;
}

class AudioConcatProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.buffers = []; // Initialize an empty buffer
    this.cursor = 0;
    this.currentBuffer = null;
    this.wasInterrupted = false;
    this.finished = false;
    
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.format = data.format;
          break;
        case "buffer":
          this.wasInterrupted = false;
          this.buffers.push(
            this.format === "ulaw"
              ? new Uint8Array(data.buffer)
              : new Int16Array(data.buffer)
          );
          break;
        case "interrupt":
          this.wasInterrupted = true;
          break;
        case "clearInterrupted":
          if (this.wasInterrupted) {
            this.wasInterrupted = false;
            this.buffers = [];
            this.currentBuffer = null;
          }
      }
    };
  }
  process(_, outputs) {
    let finished = false;
    const output = outputs[0][0];
    for (let i = 0; i < output.length; i++) {
      if (!this.currentBuffer) {
        if (this.buffers.length === 0) {
          finished = true;
          break;
        }
        this.currentBuffer = this.buffers.shift();
        this.cursor = 0;
      }

      let value = this.currentBuffer[this.cursor];
      if (this.format === "ulaw") {
        value = decodeSample(value);
      }
      output[i] = value / 32768;
      this.cursor++;

      if (this.cursor >= this.currentBuffer.length) {
        this.currentBuffer = null;
      }
    }

    if (this.finished !== finished) {
      this.finished = finished;
      this.port.postMessage({ type: "process", finished });
    }

    return true; // Continue processing
  }
}

registerProcessor("audio-concat-processor", AudioConcatProcessor);
`);class ku{static async create({sampleRate:t,format:n}){let r=null;try{r=new AudioContext({sampleRate:t});const i=r.createAnalyser(),s=r.createGain();s.connect(i),i.connect(r.destination),await Nw(r.audioWorklet);const a=new AudioWorkletNode(r,"audio-concat-processor");return a.port.postMessage({type:"setFormat",format:n}),a.connect(s),await r.resume(),new ku(r,i,s,a)}catch(i){var o;throw(o=r)==null||o.close(),i}}constructor(t,n,r,o){this.context=void 0,this.analyser=void 0,this.gain=void 0,this.worklet=void 0,this.context=t,this.analyser=n,this.gain=r,this.worklet=o}async close(){await this.context.close()}}function yp(e){return!!e.type}class Su{static async create(t){let n=null;try{var r;const i=(r=t.origin)!=null?r:"wss://api.elevenlabs.io",s=t.signedUrl?t.signedUrl:i+"/v1/convai/conversation?agent_id="+t.agentId,a=["convai"];t.authorization&&a.push(`bearer.${t.authorization}`),n=new WebSocket(s,a);const l=await new Promise((v,y)=>{n.addEventListener("open",()=>{var x;const p={type:"conversation_initiation_client_data"};var g,m,k,_;t.overrides&&(p.conversation_config_override={agent:{prompt:(g=t.overrides.agent)==null?void 0:g.prompt,first_message:(m=t.overrides.agent)==null?void 0:m.firstMessage,language:(k=t.overrides.agent)==null?void 0:k.language},tts:{voice_id:(_=t.overrides.tts)==null?void 0:_.voiceId}}),t.customLlmExtraBody&&(p.custom_llm_extra_body=t.customLlmExtraBody),t.dynamicVariables&&(p.dynamic_variables=t.dynamicVariables),(x=n)==null||x.send(JSON.stringify(p))},{once:!0}),n.addEventListener("error",x=>{setTimeout(()=>y(x),0)}),n.addEventListener("close",y),n.addEventListener("message",x=>{const p=JSON.parse(x.data);yp(p)&&(p.type==="conversation_initiation_metadata"?v(p.conversation_initiation_metadata_event):console.warn("First received message is not conversation metadata."))},{once:!0})}),{conversation_id:u,agent_output_audio_format:c,user_input_audio_format:d}=l,f=wp(d??"pcm_16000"),h=wp(c);return new Su(n,u,f,h)}catch(i){var o;throw(o=n)==null||o.close(),i}}constructor(t,n,r,o){this.socket=void 0,this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.queue=[],this.disconnectionDetails=null,this.onDisconnectCallback=null,this.onMessageCallback=null,this.socket=t,this.conversationId=n,this.inputFormat=r,this.outputFormat=o,this.socket.addEventListener("error",i=>{setTimeout(()=>this.disconnect({reason:"error",message:"The connection was closed due to a socket error.",context:i}),0)}),this.socket.addEventListener("close",i=>{this.disconnect(i.code===1e3?{reason:"agent",context:i}:{reason:"error",message:i.reason||"The connection was closed by the server.",context:i})}),this.socket.addEventListener("message",i=>{try{const s=JSON.parse(i.data);if(!yp(s))return;this.onMessageCallback?this.onMessageCallback(s):this.queue.push(s)}catch{}})}close(){this.socket.close()}sendMessage(t){this.socket.send(JSON.stringify(t))}onMessage(t){this.onMessageCallback=t,this.queue.forEach(t),this.queue=[]}onDisconnect(t){this.onDisconnectCallback=t,this.disconnectionDetails&&t(this.disconnectionDetails)}disconnect(t){var n;this.disconnectionDetails||(this.disconnectionDetails=t,(n=this.onDisconnectCallback)==null||n.call(this,t))}}function wp(e){const[t,n]=e.split("_");if(!["pcm","ulaw"].includes(t))throw new Error(`Invalid format: ${e}`);const r=parseInt(n);if(isNaN(r))throw new Error(`Invalid sample rate: ${n}`);return{format:t,sampleRate:r}}const $w={clientTools:{}},Mw={onConnect:()=>{},onDebug:()=>{},onDisconnect:()=>{},onError:()=>{},onMessage:()=>{},onAudio:()=>{},onModeChange:()=>{},onStatusChange:()=>{},onCanSendFeedbackChange:()=>{}};class bu{static async startSession(t){var n;const r=_s({},$w,Mw,t);r.onStatusChange({status:"connecting"}),r.onCanSendFeedbackChange({canSendFeedback:!1});let o=null,i=null,s=null,a=null,l=null;if((n=t.useWakeLock)==null||n)try{l=await navigator.wakeLock.request("screen")}catch{}try{var u,c;a=await navigator.mediaDevices.getUserMedia({audio:!0});const g=(u=t.connectionDelay)!=null?u:{default:0,android:3e3};let m=g.default;var d;if(/android/i.test(navigator.userAgent))m=(d=g.android)!=null?d:m;else if(vp()){var f;m=(f=g.ios)!=null?f:m}return m>0&&await new Promise(k=>setTimeout(k,m)),i=await Su.create(t),[o,s]=await Promise.all([Lw.create(_s({},i.inputFormat,{preferHeadphonesForIosDevices:t.preferHeadphonesForIosDevices})),ku.create(i.outputFormat)]),(c=a)==null||c.getTracks().forEach(k=>k.stop()),a=null,new bu(r,i,o,s,l)}catch(g){var h,v,y,x;r.onStatusChange({status:"disconnected"}),(h=a)==null||h.getTracks().forEach(m=>m.stop()),(v=i)==null||v.close(),await((y=o)==null?void 0:y.close()),await((x=s)==null?void 0:x.close());try{var p;await((p=l)==null?void 0:p.release()),l=null}catch{}throw g}}constructor(t,n,r,o,i){var s=this;this.options=void 0,this.connection=void 0,this.input=void 0,this.output=void 0,this.wakeLock=void 0,this.lastInterruptTimestamp=0,this.mode="listening",this.status="connecting",this.inputFrequencyData=void 0,this.outputFrequencyData=void 0,this.volume=1,this.currentEventId=1,this.lastFeedbackEventId=1,this.canSendFeedback=!1,this.endSession=()=>this.endSessionWithDetails({reason:"user"}),this.endSessionWithDetails=async function(a){if(s.status==="connected"||s.status==="connecting"){s.updateStatus("disconnecting");try{var l;await((l=s.wakeLock)==null?void 0:l.release()),s.wakeLock=null}catch{}s.connection.close(),await s.input.close(),await s.output.close(),s.updateStatus("disconnected"),s.options.onDisconnect(a)}},this.updateMode=a=>{a!==this.mode&&(this.mode=a,this.options.onModeChange({mode:a}))},this.updateStatus=a=>{a!==this.status&&(this.status=a,this.options.onStatusChange({status:a}))},this.updateCanSendFeedback=()=>{const a=this.currentEventId!==this.lastFeedbackEventId;this.canSendFeedback!==a&&(this.canSendFeedback=a,this.options.onCanSendFeedbackChange({canSendFeedback:a}))},this.onMessage=async function(a){switch(a.type){case"interruption":return a.interruption_event&&(s.lastInterruptTimestamp=a.interruption_event.event_id),void s.fadeOutAudio();case"agent_response":return void s.options.onMessage({source:"ai",message:a.agent_response_event.agent_response});case"user_transcript":return void s.options.onMessage({source:"user",message:a.user_transcription_event.user_transcript});case"internal_tentative_agent_response":return void s.options.onDebug({type:"tentative_agent_response",response:a.tentative_agent_response_internal_event.tentative_agent_response});case"client_tool_call":if(s.options.clientTools.hasOwnProperty(a.client_tool_call.tool_name))try{var l;const u=(l=await s.options.clientTools[a.client_tool_call.tool_name](a.client_tool_call.parameters))!=null?l:"Client tool execution successful.",c=typeof u=="object"?JSON.stringify(u):String(u);s.connection.sendMessage({type:"client_tool_result",tool_call_id:a.client_tool_call.tool_call_id,result:c,is_error:!1})}catch(u){s.onError("Client tool execution failed with following error: "+(u==null?void 0:u.message),{clientToolName:a.client_tool_call.tool_name}),s.connection.sendMessage({type:"client_tool_result",tool_call_id:a.client_tool_call.tool_call_id,result:"Client tool execution failed: "+(u==null?void 0:u.message),is_error:!0})}else{if(s.options.onUnhandledClientToolCall)return void s.options.onUnhandledClientToolCall(a.client_tool_call);s.onError(`Client tool with name ${a.client_tool_call.tool_name} is not defined on client`,{clientToolName:a.client_tool_call.tool_name}),s.connection.sendMessage({type:"client_tool_result",tool_call_id:a.client_tool_call.tool_call_id,result:`Client tool with name ${a.client_tool_call.tool_name} is not defined on client`,is_error:!0})}return;case"audio":return void(s.lastInterruptTimestamp<=a.audio_event.event_id&&(s.options.onAudio(a.audio_event.audio_base_64),s.addAudioBase64Chunk(a.audio_event.audio_base_64),s.currentEventId=a.audio_event.event_id,s.updateCanSendFeedback(),s.updateMode("speaking")));case"ping":return void s.connection.sendMessage({type:"pong",event_id:a.ping_event.event_id});default:return void s.options.onDebug(a)}},this.onInputWorkletMessage=a=>{this.status==="connected"&&this.connection.sendMessage({user_audio_chunk:Ow(a.data[0].buffer)})},this.onOutputWorkletMessage=({data:a})=>{a.type==="process"&&this.updateMode(a.finished?"listening":"speaking")},this.addAudioBase64Chunk=a=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"}),this.output.worklet.port.postMessage({type:"buffer",buffer:Rw(a)})},this.fadeOutAudio=()=>{this.updateMode("listening"),this.output.worklet.port.postMessage({type:"interrupt"}),this.output.gain.gain.exponentialRampToValueAtTime(1e-4,this.output.context.currentTime+2),setTimeout(()=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"})},2e3)},this.onError=(a,l)=>{console.error(a,l),this.options.onError(a,l)},this.calculateVolume=a=>{if(a.length===0)return 0;let l=0;for(let u=0;u<a.length;u++)l+=a[u]/255;return l/=a.length,l<0?0:l>1?1:l},this.getId=()=>this.connection.conversationId,this.isOpen=()=>this.status==="connected",this.setVolume=({volume:a})=>{this.volume=a},this.setMicMuted=a=>{this.input.setMuted(a)},this.getInputByteFrequencyData=()=>(this.inputFrequencyData!=null||(this.inputFrequencyData=new Uint8Array(this.input.analyser.frequencyBinCount)),this.input.analyser.getByteFrequencyData(this.inputFrequencyData),this.inputFrequencyData),this.getOutputByteFrequencyData=()=>(this.outputFrequencyData!=null||(this.outputFrequencyData=new Uint8Array(this.output.analyser.frequencyBinCount)),this.output.analyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData),this.getInputVolume=()=>this.calculateVolume(this.getInputByteFrequencyData()),this.getOutputVolume=()=>this.calculateVolume(this.getOutputByteFrequencyData()),this.sendFeedback=a=>{this.canSendFeedback?(this.connection.sendMessage({type:"feedback",score:a?"like":"dislike",event_id:this.currentEventId}),this.lastFeedbackEventId=this.currentEventId,this.updateCanSendFeedback()):console.warn(this.lastFeedbackEventId===0?"Cannot send feedback: the conversation has not started yet.":"Cannot send feedback: feedback has already been sent for the current response.")},this.sendContextualUpdate=a=>{this.connection.sendMessage({type:"contextual_update",text:a})},this.sendUserMessage=a=>{this.connection.sendMessage({type:"user_message",text:a})},this.sendUserActivity=()=>{this.connection.sendMessage({type:"user_activity"})},this.options=t,this.connection=n,this.input=r,this.output=o,this.wakeLock=i,this.options.onConnect({conversationId:n.conversationId}),this.connection.onDisconnect(this.endSessionWithDetails),this.connection.onMessage(this.onMessage),this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.output.worklet.port.onmessage=this.onOutputWorkletMessage,this.updateStatus("connected")}}function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cu.apply(null,arguments)}const Dw=["micMuted","volume"];function zw(e={}){const{micMuted:t,volume:n}=e,r=function(f,h){if(f==null)return{};var v={};for(var y in f)if({}.hasOwnProperty.call(f,y)){if(h.includes(y))continue;v[y]=f[y]}return v}(e,Dw),o=w.useRef(null),i=w.useRef(null),[s,a]=w.useState("disconnected"),[l,u]=w.useState(!1),[c,d]=w.useState("listening");return w.useEffect(()=>{var f;t!==void 0&&(o==null||(f=o.current)==null||f.setMicMuted(t))},[t]),w.useEffect(()=>{var f;n!==void 0&&(o==null||(f=o.current)==null||f.setVolume({volume:n}))},[n]),w.useEffect(()=>()=>{var f;(f=o.current)==null||f.endSession()},[]),{startSession:async f=>{var h;if((h=o.current)!=null&&h.isOpen())return o.current.getId();if(i.current)return(await i.current).getId();try{return i.current=bu.startSession(Cu({},r??{},f??{},{onModeChange:({mode:v})=>{d(v)},onStatusChange:({status:v})=>{a(v)},onCanSendFeedbackChange:({canSendFeedback:v})=>{u(v)}})),o.current=await i.current,t!==void 0&&o.current.setMicMuted(t),n!==void 0&&o.current.setVolume({volume:n}),o.current.getId()}finally{i.current=null}},endSession:async()=>{const f=o.current;o.current=null,await(f==null?void 0:f.endSession())},setVolume:({volume:f})=>{var h;(h=o.current)==null||h.setVolume({volume:f})},getInputByteFrequencyData:()=>{var f;return(f=o.current)==null?void 0:f.getInputByteFrequencyData()},getOutputByteFrequencyData:()=>{var f;return(f=o.current)==null?void 0:f.getOutputByteFrequencyData()},getInputVolume:()=>{var f,h;return(f=(h=o.current)==null?void 0:h.getInputVolume())!=null?f:0},getOutputVolume:()=>{var f,h;return(f=(h=o.current)==null?void 0:h.getOutputVolume())!=null?f:0},sendFeedback:f=>{var h;(h=o.current)==null||h.sendFeedback(f)},getId:()=>{var f;return(f=o.current)==null?void 0:f.getId()},sendContextualUpdate:f=>{var h;(h=o.current)==null||h.sendContextualUpdate(f)},sendUserMessage:f=>{var h;(h=o.current)==null||h.sendUserMessage(f)},sendUserActivity:()=>{var f;(f=o.current)==null||f.sendUserActivity()},status:s,canSendFeedback:l,micMuted:t,isSpeaking:c==="speaking"}}const Uw=({primaryColor:e,secondaryColor:t,textColor:n,chatBackground:r,logoUrl:o,agentId:i,onBackToChat:s})=>{const[a,l]=w.useState(!1),[u,c]=w.useState(!1),[d,f]=w.useState("idle"),[h,v]=w.useState(""),y=w.useRef(),x=w.useRef(null),p=zw({onConnect:()=>{console.log("[VOICE]  ElevenLabs connected successfully at",new Date().toISOString()),l(!0),f("connected"),v("")},onDisconnect:_=>{console.log("[VOICE]  ElevenLabs disconnected at",new Date().toISOString()),console.log("[VOICE] Disconnect event:",_),console.log("[VOICE] Was call active?",a),l(!1),f("idle"),x.current&&(console.log("[VOICE] Cleaning up media stream..."),x.current.getTracks().forEach(b=>{console.log("[VOICE] Stopping track:",b.kind,b.readyState),b.stop()}),x.current=null)},onMessage:_=>{console.log("[VOICE]  Message received:",{type:_==null?void 0:_.type,timestamp:new Date().toISOString(),content:(_==null?void 0:_.message)||_}),d==="error"&&(f("connected"),v(""))},onError:_=>{var b;console.error("[VOICE]  Error occurred at",new Date().toISOString()),console.error("[VOICE] Error details:",{message:_==null?void 0:_.message,code:_==null?void 0:_.code,type:_==null?void 0:_.type,stack:_==null?void 0:_.stack,fullError:_}),f("error"),v((_==null?void 0:_.message)||"Connection error occurred"),console.log("[VOICE] Current state:",{isCallActive:a,connectionStatus:d,hasStream:!!x.current,streamTracks:(b=x.current)==null?void 0:b.getTracks().map(C=>({kind:C.kind,enabled:C.enabled,readyState:C.readyState}))}),a&&(console.log("[VOICE] Will attempt reconnection in 3 seconds..."),y.current=setTimeout(()=>{console.log("[VOICE]  Attempting to reconnect..."),g()},3e3))}}),g=async()=>{try{console.log("[VOICE]  Starting call..."),f("connecting"),v(""),console.log("[VOICE] Requesting microphone permission...");const _=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3}});x.current=_,console.log("[VOICE]  Microphone access granted");const b=_.getAudioTracks()[0];if(b){console.log("[VOICE] Audio track settings:",b.getSettings()),console.log("[VOICE] Audio track constraints:",b.getConstraints()),console.log("[VOICE] Audio track state:",b.readyState),b.onended=()=>{console.warn("[VOICE]  Microphone track ended!"),v("Microphone disconnected. Please reconnect."),m()},b.onmute=()=>{console.warn("[VOICE]  Microphone muted by system")},b.onunmute=()=>{console.log("[VOICE]  Microphone unmuted by system")};const C=new(window.AudioContext||window.webkitAudioContext),T=C.createAnalyser();C.createMediaStreamSource(_).connect(T),T.fftSize=256;const A=T.frequencyBinCount,D=new Uint8Array(A);let L=0;const I=setInterval(()=>{T.getByteFrequencyData(D),D.reduce((G,z)=>G+z)/A<1?(L++,L>100&&(console.warn("[VOICE]  No audio detected for 10 seconds"),L=0)):L=0},100);window.audioCheckInterval=I}console.log("[VOICE] Starting ElevenLabs session with agent:",i),await p.startSession({agentId:i}),console.log("[VOICE]  Session started successfully")}catch(_){console.error("[VOICE]  Failed to start call:",_),console.error("[VOICE] Error name:",_==null?void 0:_.name),console.error("[VOICE] Error message:",_==null?void 0:_.message),f("error"),v((_==null?void 0:_.message)||"Failed to start call. Please check your microphone.")}},m=async()=>{try{console.log("[VOICE]  Ending call..."),y.current&&clearTimeout(y.current),window.audioCheckInterval&&(clearInterval(window.audioCheckInterval),window.audioCheckInterval=null),await p.endSession(),l(!1),f("idle"),x.current&&(console.log("[VOICE] Cleaning up media stream..."),x.current.getTracks().forEach(_=>{console.log("[VOICE] Stopping track:",_.kind,_.readyState),_.stop()}),x.current=null),console.log("[VOICE]  Call ended successfully")}catch(_){console.error("[VOICE]  Error ending call:",_)}},k=()=>{if(x.current){const _=x.current.getAudioTracks()[0];_&&(_.enabled=u,c(!u))}};return w.useEffect(()=>()=>{y.current&&clearTimeout(y.current),x.current&&x.current.getTracks().forEach(_=>_.stop())},[]),console.log("CallInterface logoUrl:",o),console.log("CallInterface agentId:",i),S.jsxs("div",{style:{backgroundColor:r,flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",textAlign:"center"},children:[S.jsxs("div",{style:{marginBottom:"2rem"},children:[S.jsxs("div",{style:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:o?"transparent":e,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",position:"relative",boxShadow:o?"none":a?"0 0 30px rgba(59, 130, 246, 0.5)":"0 4px 12px rgba(0, 0, 0, 0.15)",animation:a?"voicePulse 1.5s ease-in-out infinite":"none",transition:"all 0.3s ease",border:o?"2px solid rgba(255,255,255,0.1)":"none"},children:[o?S.jsx("img",{src:o,alt:"Avatar",style:{width:"96px",height:"96px",borderRadius:"50%",objectFit:"cover",imageRendering:"auto",filter:"contrast(1.05) saturate(1.1)"},onLoad:()=>console.log("Avatar image loaded successfully"),onError:_=>{console.error("Avatar image failed to load:",o),_.currentTarget.style.display="none";const b=_.currentTarget.nextElementSibling;b&&(b.style.display="block")}},o):null,S.jsx(xs,{style:{width:"40px",height:"40px",color:"white",display:o?"none":"block"}})]}),S.jsx("h3",{style:{color:n,margin:"0 0 0.5rem 0",fontSize:"24px",fontWeight:"600"},children:d==="connecting"?"Connecting...":d==="connected"?"Voice Agent Active":d==="error"?"Connection Issue":"Voice Assistant"}),S.jsx("p",{style:{color:h?"#ef4444":n,opacity:h?1:.7,margin:"0 0 2rem 0",fontSize:"16px"},children:h||(d==="connecting"?"Setting up audio connection...":d==="connected"?"Speak naturally to interact with the AI assistant":"Connect to our AI voice assistant for hands-free support")})]}),S.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap",justifyContent:"center"},children:[a?S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:m,style:{backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s"},children:S.jsx(Cw,{style:{width:"20px",height:"20px"}})}),S.jsx("button",{onClick:k,style:{backgroundColor:u?"#ef4444":"#6b7280",color:"white",border:"none",borderRadius:"50%",width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s"},title:u?"Unmute":"Mute",children:u?S.jsx(dp,{style:{width:"20px",height:"20px"}}):S.jsx(fp,{style:{width:"20px",height:"20px"}})})]}):S.jsx("button",{onClick:g,disabled:d==="connecting",style:{backgroundColor:d==="connecting"?"#9ca3af":e,color:"white",border:"none",borderRadius:"50%",width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center",cursor:d==="connecting"?"wait":"pointer",transition:"all 0.2s"},children:S.jsx(xs,{style:{width:"20px",height:"20px"}})}),S.jsx("button",{onClick:s,style:{backgroundColor:t,color:n,border:`1px solid ${t==="#f1f5f9"?"#e2e8f0":"rgba(0,0,0,0.1)"}`,borderRadius:"28px",padding:"0 1rem",height:"56px",display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Back to Chat"})]})]})},Fw=({title:e,bio:t,logoSrc:n,primaryColor:r,headerButtonColor:o,isVoiceEnabled:i,isVoiceMode:s,isElevenLabsEnabled:a,elevenLabsAgentId:l,onClose:u,onCallMode:c})=>S.jsxs("div",{className:"chatbot-widget-header",style:{backgroundColor:r},children:[S.jsxs("div",{className:"chatbot-widget-header-content",children:[S.jsx("div",{className:"chatbot-widget-header-avatar",children:n&&S.jsx("img",{src:n,alt:"Logo",className:"chatbot-widget-logo",onError:d=>{console.error("Logo failed to load:",n),d.currentTarget.style.display="none"},onLoad:()=>{console.log("Logo loaded successfully:",n)}})}),S.jsxs("div",{children:[S.jsx("h3",{className:"chatbot-widget-header-title",children:e}),S.jsxs("p",{className:"chatbot-widget-header-subtitle",children:[t,i&&s&&S.jsx("span",{style:{marginLeft:"8px",fontSize:"10px"},children:" Voice Mode"})]})]})]}),S.jsxs("div",{className:"chatbot-widget-header-actions",children:[a&&l&&S.jsx("button",{className:"chatbot-widget-button",onClick:c,title:"Start a call",style:{marginRight:"2px",width:"48px",height:"48px",padding:"0",display:"flex !important",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",borderRadius:"50%",cursor:"pointer",opacity:"1",visibility:"visible"},children:S.jsx(xs,{style:{width:"26px",height:"26px",color:"#1f2937 !important"}})}),S.jsx("button",{className:"chatbot-widget-button",onClick:()=>window.open("/privacy-policy","_blank"),title:"Privacy Policy",style:{marginRight:"0px",width:"32px",height:"32px",padding:"0",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent",border:"none",borderRadius:"50%",cursor:"pointer",opacity:"0.8",transition:"opacity 0.2s ease"},onMouseEnter:d=>d.currentTarget.style.opacity="1",onMouseLeave:d=>d.currentTarget.style.opacity="0.8",children:S.jsx(Pw,{style:{width:"16px",height:"16px",color:o||"#ffffff"}})}),S.jsx("button",{className:"chatbot-widget-button",onClick:u,children:S.jsx(gp,{style:{width:"16px",height:"16px"}})})]})]}),Bw=({isRecording:e,isProcessing:t,recordingTimer:n,isSpeaking:r,voicePermissionDenied:o,isVoiceEnabled:i,onStartRecording:s,onStopRecording:a,onToggleVoice:l,onStopSpeaking:u,primaryColor:c})=>S.jsxs("div",{className:"voice-controls",style:{display:"flex",alignItems:"center",gap:"8px"},children:[S.jsx("button",{onClick:l,className:"chatbot-widget-button",style:{color:i?c:"#9ca3af",padding:"6px"},title:i?"Voice enabled":"Voice disabled",children:i?S.jsx(hp,{size:16}):S.jsx(pp,{size:16})}),i&&!o&&S.jsxs(S.Fragment,{children:[!e&&!t&&!r&&S.jsx("button",{onClick:s,className:"chatbot-widget-voice-button",style:{backgroundColor:c,color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},onMouseEnter:d=>{d.currentTarget.style.transform="scale(1.05)"},onMouseLeave:d=>{d.currentTarget.style.transform="scale(1)"},title:"Click to start voice recording",children:S.jsx(fp,{size:18})}),(e||t)&&S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[S.jsx("button",{onClick:a,className:"chatbot-widget-voice-button",style:{backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",animation:e?"chatbot-pulse 1.5s infinite":"none"},title:"Click to stop recording",children:t?S.jsx(Aw,{size:14}):S.jsx(dp,{size:18})}),e&&S.jsxs("div",{style:{fontSize:"12px",color:"#ef4444",fontWeight:"600",minWidth:"30px"},children:[Math.max(0,15-n),"s"]}),t&&S.jsx("div",{style:{fontSize:"12px",color:c,fontWeight:"500"},children:"Processing..."})]}),r&&S.jsx("button",{onClick:u,className:"chatbot-widget-voice-button",style:{backgroundColor:c,color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",animation:"chatbot-pulse 2s infinite"},title:"Click to stop speaking",children:S.jsx(pp,{size:18})})]}),o&&S.jsx("div",{style:{fontSize:"11px",color:"#ef4444",fontWeight:"500",maxWidth:"120px",lineHeight:"1.2"},children:"Mic access denied"})]});function Rt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Ww(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function xp(...e){return t=>e.forEach(n=>Ww(n,t))}function Mn(...e){return w.useCallback(xp(...e),e)}function Vw(e,t=[]){let n=[];function r(i,s){const a=w.createContext(s),l=n.length;n=[...n,s];const u=d=>{var p;const{scope:f,children:h,...v}=d,y=((p=f==null?void 0:f[e])==null?void 0:p[l])||a,x=w.useMemo(()=>v,Object.values(v));return S.jsx(y.Provider,{value:x,children:h})};u.displayName=i+"Provider";function c(d,f){var y;const h=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,v=w.useContext(h);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,c]}const o=()=>{const i=n.map(s=>w.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,Hw(o,...t)]}function Hw(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var _p=w.forwardRef((e,t)=>{const{children:n,...r}=e,o=w.Children.toArray(n),i=o.find(qw);if(i){const s=i.props.children,a=o.map(l=>l===i?w.Children.count(s)>1?w.Children.only(null):w.isValidElement(s)?s.props.children:null:l);return S.jsx(Eu,{...r,ref:t,children:w.isValidElement(s)?w.cloneElement(s,void 0,a):null})}return S.jsx(Eu,{...r,ref:t,children:n})});_p.displayName="Slot";var Eu=w.forwardRef((e,t)=>{const{children:n,...r}=e;if(w.isValidElement(n)){const o=Kw(n);return w.cloneElement(n,{...Gw(r,n.props),ref:t?xp(t,o):o})}return w.Children.count(n)>1?w.Children.only(null):null});Eu.displayName="SlotClone";var kp=({children:e})=>S.jsx(S.Fragment,{children:e});function qw(e){return w.isValidElement(e)&&e.type===kp}function Gw(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function Kw(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Qw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Dn=Qw.reduce((e,t)=>{const n=w.forwardRef((r,o)=>{const{asChild:i,...s}=r,a=i?_p:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(a,{...s,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Jw(e,t){e&&eu.flushSync(()=>e.dispatchEvent(t))}function Cr(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Yw(e,t=globalThis==null?void 0:globalThis.document){const n=Cr(e);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Xw="DismissableLayer",Tu="dismissableLayer.update",Zw="dismissableLayer.pointerDownOutside",e1="dismissableLayer.focusOutside",Sp,bp=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cp=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=e,u=w.useContext(bp),[c,d]=w.useState(null),f=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=w.useState({}),v=Mn(t,C=>d(C)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(x),g=c?y.indexOf(c):-1,m=u.layersWithOutsidePointerEventsDisabled.size>0,k=g>=p,_=r1(C=>{const T=C.target,$=[...u.branches].some(A=>A.contains(T));!k||$||(o==null||o(C),s==null||s(C),C.defaultPrevented||a==null||a())},f),b=o1(C=>{const T=C.target;[...u.branches].some(A=>A.contains(T))||(i==null||i(C),s==null||s(C),C.defaultPrevented||a==null||a())},f);return Yw(C=>{g===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},f),w.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Sp=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Ep(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Sp)}},[c,f,n,u]),w.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Ep())},[c,u]),w.useEffect(()=>{const C=()=>h({});return document.addEventListener(Tu,C),()=>document.removeEventListener(Tu,C)},[]),S.jsx(Dn.div,{...l,ref:v,style:{pointerEvents:m?k?"auto":"none":void 0,...e.style},onFocusCapture:Rt(e.onFocusCapture,b.onFocusCapture),onBlurCapture:Rt(e.onBlurCapture,b.onBlurCapture),onPointerDownCapture:Rt(e.onPointerDownCapture,_.onPointerDownCapture)})});Cp.displayName=Xw;var t1="DismissableLayerBranch",n1=w.forwardRef((e,t)=>{const n=w.useContext(bp),r=w.useRef(null),o=Mn(t,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),S.jsx(Dn.div,{...e,ref:o})});n1.displayName=t1;function r1(e,t=globalThis==null?void 0:globalThis.document){const n=Cr(e),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Tp(Zw,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function o1(e,t=globalThis==null?void 0:globalThis.document){const n=Cr(e),r=w.useRef(!1);return w.useEffect(()=>{const o=i=>{i.target&&!r.current&&Tp(e1,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ep(){const e=new CustomEvent(Tu);document.dispatchEvent(e)}function Tp(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Jw(o,i):o.dispatchEvent(i)}var Er=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},i1=Kg.useId||(()=>{}),s1=0;function a1(e){const[t,n]=w.useState(i1());return Er(()=>{n(r=>r??String(s1++))},[e]),t?`radix-${t}`:""}const l1=["top","right","bottom","left"],un=Math.min,Ue=Math.max,ks=Math.round,Ss=Math.floor,cn=e=>({x:e,y:e}),u1={left:"right",right:"left",bottom:"top",top:"bottom"},c1={start:"end",end:"start"};function Pu(e,t,n){return Ue(e,un(t,n))}function It(e,t){return typeof e=="function"?e(t):e}function Lt(e){return e.split("-")[0]}function Tr(e){return e.split("-")[1]}function ju(e){return e==="x"?"y":"x"}function Au(e){return e==="y"?"height":"width"}function dn(e){return["top","bottom"].includes(Lt(e))?"y":"x"}function Ou(e){return ju(dn(e))}function d1(e,t,n){n===void 0&&(n=!1);const r=Tr(e),o=Ou(e),i=Au(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=bs(s)),[s,bs(s)]}function f1(e){const t=bs(e);return[Ru(e),t,Ru(t)]}function Ru(e){return e.replace(/start|end/g,t=>c1[t])}function h1(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function p1(e,t,n,r){const o=Tr(e);let i=h1(Lt(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Ru)))),i}function bs(e){return e.replace(/left|right|bottom|top/g,t=>u1[t])}function g1(e){return{top:0,right:0,bottom:0,left:0,...e}}function Pp(e){return typeof e!="number"?g1(e):{top:e,right:e,bottom:e,left:e}}function Cs(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function jp(e,t,n){let{reference:r,floating:o}=e;const i=dn(t),s=Ou(t),a=Au(s),l=Lt(t),u=i==="y",c=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-o.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-o.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Tr(t)){case"start":h[s]-=f*(n&&u?-1:1);break;case"end":h[s]+=f*(n&&u?-1:1);break}return h}const m1=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:c,y:d}=jp(u,r,l),f=r,h={},v=0;for(let y=0;y<a.length;y++){const{name:x,fn:p}=a[y],{x:g,y:m,data:k,reset:_}=await p({x:c,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:h,rects:u,platform:s,elements:{reference:e,floating:t}});c=g??c,d=m??d,h={...h,[x]:{...h[x],...k}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:c,y:d}=jp(u,f,l)),y=-1)}return{x:c,y:d,placement:f,strategy:o,middlewareData:h}};async function No(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=It(t,e),v=Pp(h),x=a[f?d==="floating"?"reference":"floating":d],p=Cs(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),g=d==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,m=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(m))?await(i.getScale==null?void 0:i.getScale(m))||{x:1,y:1}:{x:1,y:1},_=Cs(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:m,strategy:l}):g);return{top:(p.top-_.top+v.top)/k.y,bottom:(_.bottom-p.bottom+v.bottom)/k.y,left:(p.left-_.left+v.left)/k.x,right:(_.right-p.right+v.right)/k.x}}const v1=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=It(e,t)||{};if(u==null)return{};const d=Pp(c),f={x:n,y:r},h=Ou(o),v=Au(h),y=await s.getDimensions(u),x=h==="y",p=x?"top":"left",g=x?"bottom":"right",m=x?"clientHeight":"clientWidth",k=i.reference[v]+i.reference[h]-f[h]-i.floating[v],_=f[h]-i.reference[h],b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let C=b?b[m]:0;(!C||!await(s.isElement==null?void 0:s.isElement(b)))&&(C=a.floating[m]||i.floating[v]);const T=k/2-_/2,$=C/2-y[v]/2-1,A=un(d[p],$),D=un(d[g],$),L=A,I=C-y[v]-D,R=C/2-y[v]/2+T,G=Pu(L,R,I),z=!l.arrow&&Tr(o)!=null&&R!==G&&i.reference[v]/2-(R<L?A:D)-y[v]/2<0,V=z?R<L?R-L:R-I:0;return{[h]:f[h]+V,data:{[h]:G,centerOffset:R-G-V,...z&&{alignmentOffset:V}},reset:z}}}),y1=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...x}=It(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const p=Lt(o),g=dn(a),m=Lt(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=f||(m||!y?[bs(a)]:f1(a)),b=v!=="none";!f&&b&&_.push(...p1(a,y,v,k));const C=[a,..._],T=await No(t,x),$=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(c&&$.push(T[p]),d){const R=d1(o,s,k);$.push(T[R[0]],T[R[1]])}if(A=[...A,{placement:o,overflows:$}],!$.every(R=>R<=0)){var D,L;const R=(((D=i.flip)==null?void 0:D.index)||0)+1,G=C[R];if(G)return{data:{index:R,overflows:A},reset:{placement:G}};let z=(L=A.filter(V=>V.overflows[0]<=0).sort((V,E)=>V.overflows[1]-E.overflows[1])[0])==null?void 0:L.placement;if(!z)switch(h){case"bestFit":{var I;const V=(I=A.filter(E=>{if(b){const j=dn(E.placement);return j===g||j==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(j=>j>0).reduce((j,N)=>j+N,0)]).sort((E,j)=>E[1]-j[1])[0])==null?void 0:I[0];V&&(z=V);break}case"initialPlacement":z=a;break}if(o!==z)return{reset:{placement:z}}}return{}}}};function Ap(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Op(e){return l1.some(t=>e[t]>=0)}const w1=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=It(e,t);switch(r){case"referenceHidden":{const i=await No(t,{...o,elementContext:"reference"}),s=Ap(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Op(s)}}}case"escaped":{const i=await No(t,{...o,altBoundary:!0}),s=Ap(i,n.floating);return{data:{escapedOffsets:s,escaped:Op(s)}}}default:return{}}}}};async function x1(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Lt(n),a=Tr(n),l=dn(n)==="y",u=["left","top"].includes(s)?-1:1,c=i&&l?-1:1,d=It(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(h=a==="end"?v*-1:v),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const _1=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await x1(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},k1=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:x=>{let{x:p,y:g}=x;return{x:p,y:g}}},...l}=It(e,t),u={x:n,y:r},c=await No(t,l),d=dn(Lt(o)),f=ju(d);let h=u[f],v=u[d];if(i){const x=f==="y"?"top":"left",p=f==="y"?"bottom":"right",g=h+c[x],m=h-c[p];h=Pu(g,h,m)}if(s){const x=d==="y"?"top":"left",p=d==="y"?"bottom":"right",g=v+c[x],m=v-c[p];v=Pu(g,v,m)}const y=a.fn({...t,[f]:h,[d]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[d]:s}}}}}},S1=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=It(e,t),c={x:n,y:r},d=dn(o),f=ju(d);let h=c[f],v=c[d];const y=It(a,t),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const m=f==="y"?"height":"width",k=i.reference[f]-i.floating[m]+x.mainAxis,_=i.reference[f]+i.reference[m]-x.mainAxis;h<k?h=k:h>_&&(h=_)}if(u){var p,g;const m=f==="y"?"width":"height",k=["top","left"].includes(Lt(o)),_=i.reference[d]-i.floating[m]+(k&&((p=s.offset)==null?void 0:p[d])||0)+(k?0:x.crossAxis),b=i.reference[d]+i.reference[m]+(k?0:((g=s.offset)==null?void 0:g[d])||0)-(k?x.crossAxis:0);v<_?v=_:v>b&&(v=b)}return{[f]:h,[d]:v}}}},b1=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:l=()=>{},...u}=It(e,t),c=await No(t,u),d=Lt(o),f=Tr(o),h=dn(o)==="y",{width:v,height:y}=i.floating;let x,p;d==="top"||d==="bottom"?(x=d,p=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(p=d,x=f==="end"?"top":"bottom");const g=y-c.top-c.bottom,m=v-c.left-c.right,k=un(y-c[x],g),_=un(v-c[p],m),b=!t.middlewareData.shift;let C=k,T=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(T=m),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=g),b&&!f){const A=Ue(c.left,0),D=Ue(c.right,0),L=Ue(c.top,0),I=Ue(c.bottom,0);h?T=v-2*(A!==0||D!==0?A+D:Ue(c.left,c.right)):C=y-2*(L!==0||I!==0?L+I:Ue(c.top,c.bottom))}await l({...t,availableWidth:T,availableHeight:C});const $=await s.getDimensions(a.floating);return v!==$.width||y!==$.height?{reset:{rects:!0}}:{}}}};function Es(){return typeof window<"u"}function Pr(e){return Rp(e)?(e.nodeName||"").toLowerCase():"#document"}function Fe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function pt(e){var t;return(t=(Rp(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Rp(e){return Es()?e instanceof Node||e instanceof Fe(e).Node:!1}function st(e){return Es()?e instanceof Element||e instanceof Fe(e).Element:!1}function gt(e){return Es()?e instanceof HTMLElement||e instanceof Fe(e).HTMLElement:!1}function Ip(e){return!Es()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fe(e).ShadowRoot}function $o(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=at(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function C1(e){return["table","td","th"].includes(Pr(e))}function Ts(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Iu(e){const t=Lu(),n=st(e)?at(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function E1(e){let t=fn(e);for(;gt(t)&&!jr(t);){if(Iu(t))return t;if(Ts(t))return null;t=fn(t)}return null}function Lu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jr(e){return["html","body","#document"].includes(Pr(e))}function at(e){return Fe(e).getComputedStyle(e)}function Ps(e){return st(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fn(e){if(Pr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ip(e)&&e.host||pt(e);return Ip(t)?t.host:t}function Lp(e){const t=fn(e);return jr(t)?e.ownerDocument?e.ownerDocument.body:e.body:gt(t)&&$o(t)?t:Lp(t)}function Mo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Lp(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Fe(o);if(i){const a=Nu(s);return t.concat(s,s.visualViewport||[],$o(o)?o:[],a&&n?Mo(a):[])}return t.concat(o,Mo(o,[],n))}function Nu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Np(e){const t=at(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=gt(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=ks(n)!==i||ks(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function $u(e){return st(e)?e:e.contextElement}function Ar(e){const t=$u(e);if(!gt(t))return cn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Np(t);let s=(i?ks(n.width):n.width)/r,a=(i?ks(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const T1=cn(0);function $p(e){const t=Fe(e);return!Lu()||!t.visualViewport?T1:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function P1(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fe(e)?!1:t}function zn(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=$u(e);let s=cn(1);t&&(r?st(r)&&(s=Ar(r)):s=Ar(e));const a=P1(i,n,r)?$p(i):cn(0);let l=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,c=o.width/s.x,d=o.height/s.y;if(i){const f=Fe(i),h=r&&st(r)?Fe(r):r;let v=f,y=Nu(v);for(;y&&r&&h!==v;){const x=Ar(y),p=y.getBoundingClientRect(),g=at(y),m=p.left+(y.clientLeft+parseFloat(g.paddingLeft))*x.x,k=p.top+(y.clientTop+parseFloat(g.paddingTop))*x.y;l*=x.x,u*=x.y,c*=x.x,d*=x.y,l+=m,u+=k,v=Fe(y),y=Nu(v)}}return Cs({width:c,height:d,x:l,y:u})}function j1(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=pt(r),a=t?Ts(t.floating):!1;if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=cn(1);const c=cn(0),d=gt(r);if((d||!d&&!i)&&((Pr(r)!=="body"||$o(s))&&(l=Ps(r)),gt(r))){const f=zn(r);u=Ar(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function A1(e){return Array.from(e.getClientRects())}function Mu(e,t){const n=Ps(e).scrollLeft;return t?t.left+n:zn(pt(e)).left+n}function O1(e){const t=pt(e),n=Ps(e),r=e.ownerDocument.body,o=Ue(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ue(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Mu(e);const a=-n.scrollTop;return at(r).direction==="rtl"&&(s+=Ue(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function R1(e,t){const n=Fe(e),r=pt(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const u=Lu();(!u||u&&t==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}function I1(e,t){const n=zn(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=gt(e)?Ar(e):cn(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,l=o*i.x,u=r*i.y;return{width:s,height:a,x:l,y:u}}function Mp(e,t,n){let r;if(t==="viewport")r=R1(e,n);else if(t==="document")r=O1(pt(e));else if(st(t))r=I1(t,n);else{const o=$p(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Cs(r)}function Dp(e,t){const n=fn(e);return n===t||!st(n)||jr(n)?!1:at(n).position==="fixed"||Dp(n,t)}function L1(e,t){const n=t.get(e);if(n)return n;let r=Mo(e,[],!1).filter(a=>st(a)&&Pr(a)!=="body"),o=null;const i=at(e).position==="fixed";let s=i?fn(e):e;for(;st(s)&&!jr(s);){const a=at(s),l=Iu(s);!l&&a.position==="fixed"&&(o=null),(i?!l&&!o:!l&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||$o(s)&&!l&&Dp(e,s))?r=r.filter(c=>c!==s):o=a,s=fn(s)}return t.set(e,r),r}function N1(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Ts(t)?[]:L1(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const d=Mp(t,c,o);return u.top=Ue(d.top,u.top),u.right=un(d.right,u.right),u.bottom=un(d.bottom,u.bottom),u.left=Ue(d.left,u.left),u},Mp(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function $1(e){const{width:t,height:n}=Np(e);return{width:t,height:n}}function M1(e,t,n){const r=gt(t),o=pt(t),i=n==="fixed",s=zn(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=cn(0);if(r||!r&&!i)if((Pr(t)!=="body"||$o(o))&&(a=Ps(t)),r){const h=zn(t,!0,i,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else o&&(l.x=Mu(o));let u=0,c=0;if(o&&!r&&!i){const h=o.getBoundingClientRect();c=h.top+a.scrollTop,u=h.left+a.scrollLeft-Mu(o,h)}const d=s.left+a.scrollLeft-l.x-u,f=s.top+a.scrollTop-l.y-c;return{x:d,y:f,width:s.width,height:s.height}}function Du(e){return at(e).position==="static"}function zp(e,t){if(!gt(e)||at(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return pt(e)===n&&(n=n.ownerDocument.body),n}function Up(e,t){const n=Fe(e);if(Ts(e))return n;if(!gt(e)){let o=fn(e);for(;o&&!jr(o);){if(st(o)&&!Du(o))return o;o=fn(o)}return n}let r=zp(e,t);for(;r&&C1(r)&&Du(r);)r=zp(r,t);return r&&jr(r)&&Du(r)&&!Iu(r)?n:r||E1(e)||n}const D1=async function(e){const t=this.getOffsetParent||Up,n=this.getDimensions,r=await n(e.floating);return{reference:M1(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function z1(e){return at(e).direction==="rtl"}const U1={convertOffsetParentRelativeRectToViewportRelativeRect:j1,getDocumentElement:pt,getClippingRect:N1,getOffsetParent:Up,getElementRects:D1,getClientRects:A1,getDimensions:$1,getScale:Ar,isElement:st,isRTL:z1};function F1(e,t){let n=null,r;const o=pt(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:c,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=Ss(c),v=Ss(o.clientWidth-(u+d)),y=Ss(o.clientHeight-(c+f)),x=Ss(u),g={rootMargin:-h+"px "+-v+"px "+-y+"px "+-x+"px",threshold:Ue(0,un(1,l))||1};let m=!0;function k(_){const b=_[0].intersectionRatio;if(b!==l){if(!m)return s();b?s(!1,b):r=setTimeout(()=>{s(!1,1e-7)},1e3)}m=!1}try{n=new IntersectionObserver(k,{...g,root:o.ownerDocument})}catch{n=new IntersectionObserver(k,g)}n.observe(e)}return s(!0),i}function B1(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=$u(e),c=o||i?[...u?Mo(u):[],...Mo(t)]:[];c.forEach(p=>{o&&p.addEventListener("scroll",n,{passive:!0}),i&&p.addEventListener("resize",n)});const d=u&&a?F1(u,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(p=>{let[g]=p;g&&g.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var m;(m=h)==null||m.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let v,y=l?zn(e):null;l&&x();function x(){const p=zn(e);y&&(p.x!==y.x||p.y!==y.y||p.width!==y.width||p.height!==y.height)&&n(),y=p,v=requestAnimationFrame(x)}return n(),()=>{var p;c.forEach(g=>{o&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),d==null||d(),(p=h)==null||p.disconnect(),h=null,l&&cancelAnimationFrame(v)}}const W1=_1,V1=k1,H1=y1,q1=b1,G1=w1,Fp=v1,K1=S1,Q1=(e,t,n)=>{const r=new Map,o={platform:U1,...n},i={...o.platform,_c:r};return m1(e,t,{...o,platform:i})};var js=typeof document<"u"?w.useLayoutEffect:w.useEffect;function As(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!As(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!As(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Bp(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wp(e,t){const n=Bp(e);return Math.round(t*n)/n}function zu(e){const t=w.useRef(e);return js(()=>{t.current=e}),t}function J1(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=w.useState(r);As(f,r)||h(r);const[v,y]=w.useState(null),[x,p]=w.useState(null),g=w.useCallback(E=>{E!==b.current&&(b.current=E,y(E))},[]),m=w.useCallback(E=>{E!==C.current&&(C.current=E,p(E))},[]),k=i||v,_=s||x,b=w.useRef(null),C=w.useRef(null),T=w.useRef(c),$=l!=null,A=zu(l),D=zu(o),L=zu(u),I=w.useCallback(()=>{if(!b.current||!C.current)return;const E={placement:t,strategy:n,middleware:f};D.current&&(E.platform=D.current),Q1(b.current,C.current,E).then(j=>{const N={...j,isPositioned:L.current!==!1};R.current&&!As(T.current,N)&&(T.current=N,eu.flushSync(()=>{d(N)}))})},[f,t,n,D,L]);js(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(E=>({...E,isPositioned:!1})))},[u]);const R=w.useRef(!1);js(()=>(R.current=!0,()=>{R.current=!1}),[]),js(()=>{if(k&&(b.current=k),_&&(C.current=_),k&&_){if(A.current)return A.current(k,_,I);I()}},[k,_,I,A,$]);const G=w.useMemo(()=>({reference:b,floating:C,setReference:g,setFloating:m}),[g,m]),z=w.useMemo(()=>({reference:k,floating:_}),[k,_]),V=w.useMemo(()=>{const E={position:n,left:0,top:0};if(!z.floating)return E;const j=Wp(z.floating,c.x),N=Wp(z.floating,c.y);return a?{...E,transform:"translate("+j+"px, "+N+"px)",...Bp(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:N}},[n,a,z.floating,c.x,c.y]);return w.useMemo(()=>({...c,update:I,refs:G,elements:z,floatingStyles:V}),[c,I,G,z,V])}const Y1=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Fp({element:r.current,padding:o}).fn(n):{}:r?Fp({element:r,padding:o}).fn(n):{}}}},X1=(e,t)=>({...W1(e),options:[e,t]}),Z1=(e,t)=>({...V1(e),options:[e,t]}),ex=(e,t)=>({...K1(e),options:[e,t]}),tx=(e,t)=>({...H1(e),options:[e,t]}),nx=(e,t)=>({...q1(e),options:[e,t]}),rx=(e,t)=>({...G1(e),options:[e,t]}),ox=(e,t)=>({...Y1(e),options:[e,t]});var ix="Arrow",Vp=w.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return S.jsx(Dn.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});Vp.displayName=ix;var sx=Vp;function ax(e,t=[]){let n=[];function r(i,s){const a=w.createContext(s),l=n.length;n=[...n,s];function u(d){const{scope:f,children:h,...v}=d,y=(f==null?void 0:f[e][l])||a,x=w.useMemo(()=>v,Object.values(v));return S.jsx(y.Provider,{value:x,children:h})}function c(d,f){const h=(f==null?void 0:f[e][l])||a,v=w.useContext(h);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,c]}const o=()=>{const i=n.map(s=>w.createContext(s));return function(a){const l=(a==null?void 0:a[e])||i;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return o.scopeName=e,[r,lx(o,...t)]}function lx(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function ux(e){const[t,n]=w.useState(void 0);return Er(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,a=u.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Uu="Popper",[Hp,qp]=ax(Uu),[cx,Gp]=Hp(Uu),Kp=e=>{const{__scopePopper:t,children:n}=e,[r,o]=w.useState(null);return S.jsx(cx,{scope:t,anchor:r,onAnchorChange:o,children:n})};Kp.displayName=Uu;var Qp="PopperAnchor",Jp=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=Gp(Qp,n),s=w.useRef(null),a=Mn(t,s);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:S.jsx(Dn.div,{...o,ref:a})});Jp.displayName=Qp;var Fu="PopperContent",[dx,fx]=Hp(Fu),Yp=w.forwardRef((e,t)=>{var Je,Uo,Ms,Fo,Ju,Bo;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:v,...y}=e,x=Gp(Fu,n),[p,g]=w.useState(null),m=Mn(t,gn=>g(gn)),[k,_]=w.useState(null),b=ux(k),C=(b==null?void 0:b.width)??0,T=(b==null?void 0:b.height)??0,$=r+(i!=="center"?"-"+i:""),A=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},D=Array.isArray(u)?u:[u],L=D.length>0,I={padding:A,boundary:D.filter(px),altBoundary:L},{refs:R,floatingStyles:G,placement:z,isPositioned:V,middlewareData:E}=J1({strategy:"fixed",placement:$,whileElementsMounted:(...gn)=>B1(...gn,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[X1({mainAxis:o+T,alignmentAxis:s}),l&&Z1({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?ex():void 0,...I}),l&&tx({...I}),nx({...I,apply:({elements:gn,rects:Wo,availableWidth:Lr,availableHeight:Nr})=>{const{width:mn,height:Yu}=Wo.reference,mt=gn.floating.style;mt.setProperty("--radix-popper-available-width",`${Lr}px`),mt.setProperty("--radix-popper-available-height",`${Nr}px`),mt.setProperty("--radix-popper-anchor-width",`${mn}px`),mt.setProperty("--radix-popper-anchor-height",`${Yu}px`)}}),k&&ox({element:k,padding:a}),gx({arrowWidth:C,arrowHeight:T}),f&&rx({strategy:"referenceHidden",...I})]}),[j,N]=eg(z),F=Cr(v);Er(()=>{V&&(F==null||F())},[V,F]);const oe=(Je=E.arrow)==null?void 0:Je.x,$t=(Uo=E.arrow)==null?void 0:Uo.y,Ke=((Ms=E.arrow)==null?void 0:Ms.centerOffset)!==0,[Mt,Qe]=w.useState();return Er(()=>{p&&Qe(window.getComputedStyle(p).zIndex)},[p]),S.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:V?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Mt,"--radix-popper-transform-origin":[(Fo=E.transformOrigin)==null?void 0:Fo.x,(Ju=E.transformOrigin)==null?void 0:Ju.y].join(" "),...((Bo=E.hide)==null?void 0:Bo.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:S.jsx(dx,{scope:n,placedSide:j,onArrowChange:_,arrowX:oe,arrowY:$t,shouldHideArrow:Ke,children:S.jsx(Dn.div,{"data-side":j,"data-align":N,...y,ref:m,style:{...y.style,animation:V?void 0:"none"}})})})});Yp.displayName=Fu;var Xp="PopperArrow",hx={top:"bottom",right:"left",bottom:"top",left:"right"},Zp=w.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=fx(Xp,r),s=hx[i.placedSide];return S.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:S.jsx(sx,{...o,ref:n,style:{...o.style,display:"block"}})})});Zp.displayName=Xp;function px(e){return e!==null}var gx=e=>({name:"transformOrigin",options:e,fn(t){var x,p,g;const{placement:n,rects:r,middlewareData:o}=t,s=((x=o.arrow)==null?void 0:x.centerOffset)!==0,a=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,c]=eg(n),d={start:"0%",center:"50%",end:"100%"}[c],f=(((p=o.arrow)==null?void 0:p.x)??0)+a/2,h=(((g=o.arrow)==null?void 0:g.y)??0)+l/2;let v="",y="";return u==="bottom"?(v=s?d:`${f}px`,y=`${-l}px`):u==="top"?(v=s?d:`${f}px`,y=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,y=s?d:`${h}px`):u==="left"&&(v=`${r.floating.width+l}px`,y=s?d:`${h}px`),{data:{x:v,y}}}});function eg(e){const[t,n="center"]=e.split("-");return[t,n]}var mx=Kp,vx=Jp,yx=Yp,wx=Zp;function xx(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var tg=e=>{const{present:t,children:n}=e,r=_x(t),o=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=Mn(r.ref,kx(o));return typeof n=="function"||r.isPresent?w.cloneElement(o,{ref:i}):null};tg.displayName="Presence";function _x(e){const[t,n]=w.useState(),r=w.useRef({}),o=w.useRef(e),i=w.useRef("none"),s=e?"mounted":"unmounted",[a,l]=xx(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Os(r.current);i.current=a==="mounted"?u:"none"},[a]),Er(()=>{const u=r.current,c=o.current;if(c!==e){const f=i.current,h=Os(u);e?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&f!==h?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),Er(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,d=h=>{const y=Os(r.current).includes(h.animationName);if(h.target===t&&y&&(l("ANIMATION_END"),!o.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=h=>{h.target===t&&(i.current=Os(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Os(e){return(e==null?void 0:e.animationName)||"none"}function kx(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Sx({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=bx({defaultProp:t,onChange:n}),i=e!==void 0,s=i?e:r,a=Cr(n),l=w.useCallback(u=>{if(i){const d=typeof u=="function"?u(e):u;d!==e&&a(d)}else o(u)},[i,e,o,a]);return[s,l]}function bx({defaultProp:e,onChange:t}){const n=w.useState(e),[r]=n,o=w.useRef(r),i=Cr(t);return w.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}var Cx="VisuallyHidden",ng=w.forwardRef((e,t)=>S.jsx(Dn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ng.displayName=Cx;var Ex=ng,[Rs,gk]=Vw("Tooltip",[qp]),Is=qp(),rg="TooltipProvider",Tx=700,Bu="tooltip.open",[Px,Wu]=Rs(rg),og=e=>{const{__scopeTooltip:t,delayDuration:n=Tx,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,[s,a]=w.useState(!0),l=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),S.jsx(Px,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(c=>{l.current=c},[]),disableHoverableContent:o,children:i})};og.displayName=rg;var Ls="Tooltip",[jx,Ns]=Rs(Ls),ig=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o=!1,onOpenChange:i,disableHoverableContent:s,delayDuration:a}=e,l=Wu(Ls,e.__scopeTooltip),u=Is(t),[c,d]=w.useState(null),f=a1(),h=w.useRef(0),v=s??l.disableHoverableContent,y=a??l.delayDuration,x=w.useRef(!1),[p=!1,g]=Sx({prop:r,defaultProp:o,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(Bu))):l.onClose(),i==null||i(C)}}),m=w.useMemo(()=>p?x.current?"delayed-open":"instant-open":"closed",[p]),k=w.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x.current=!1,g(!0)},[g]),_=w.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g(!1)},[g]),b=w.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{x.current=!0,g(!0),h.current=0},y)},[y,g]);return w.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),S.jsx(mx,{...u,children:S.jsx(jx,{scope:t,contentId:f,open:p,stateAttribute:m,trigger:c,onTriggerChange:d,onTriggerEnter:w.useCallback(()=>{l.isOpenDelayed?b():k()},[l.isOpenDelayed,b,k]),onTriggerLeave:w.useCallback(()=>{v?_():(window.clearTimeout(h.current),h.current=0)},[_,v]),onOpen:k,onClose:_,disableHoverableContent:v,children:n})})};ig.displayName=Ls;var Vu="TooltipTrigger",sg=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Ns(Vu,n),i=Wu(Vu,n),s=Is(n),a=w.useRef(null),l=Mn(t,a,o.onTriggerChange),u=w.useRef(!1),c=w.useRef(!1),d=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),S.jsx(vx,{asChild:!0,...s,children:S.jsx(Dn.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:l,onPointerMove:Rt(e.onPointerMove,f=>{f.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),c.current=!0)}),onPointerLeave:Rt(e.onPointerLeave,()=>{o.onTriggerLeave(),c.current=!1}),onPointerDown:Rt(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Rt(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:Rt(e.onBlur,o.onClose),onClick:Rt(e.onClick,o.onClose)})})});sg.displayName=Vu;var Ax="TooltipPortal",[mk,Ox]=Rs(Ax,{forceMount:void 0}),Or="TooltipContent",ag=w.forwardRef((e,t)=>{const n=Ox(Or,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,s=Ns(Or,e.__scopeTooltip);return S.jsx(tg,{present:r||s.open,children:s.disableHoverableContent?S.jsx(lg,{side:o,...i,ref:t}):S.jsx(Rx,{side:o,...i,ref:t})})}),Rx=w.forwardRef((e,t)=>{const n=Ns(Or,e.__scopeTooltip),r=Wu(Or,e.__scopeTooltip),o=w.useRef(null),i=Mn(t,o),[s,a]=w.useState(null),{trigger:l,onClose:u}=n,c=o.current,{onPointerInTransitChange:d}=r,f=w.useCallback(()=>{a(null),d(!1)},[d]),h=w.useCallback((v,y)=>{const x=v.currentTarget,p={x:v.clientX,y:v.clientY},g=$x(p,x.getBoundingClientRect()),m=Mx(p,g),k=Dx(y.getBoundingClientRect()),_=Ux([...m,...k]);a(_),d(!0)},[d]);return w.useEffect(()=>()=>f(),[f]),w.useEffect(()=>{if(l&&c){const v=x=>h(x,c),y=x=>h(x,l);return l.addEventListener("pointerleave",v),c.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),c.removeEventListener("pointerleave",y)}}},[l,c,h,f]),w.useEffect(()=>{if(s){const v=y=>{const x=y.target,p={x:y.clientX,y:y.clientY},g=(l==null?void 0:l.contains(x))||(c==null?void 0:c.contains(x)),m=!zx(p,s);g?f():m&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,c,s,u,f]),S.jsx(lg,{...e,ref:i})}),[Ix,Lx]=Rs(Ls,{isInside:!1}),lg=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:s,...a}=e,l=Ns(Or,n),u=Is(n),{onClose:c}=l;return w.useEffect(()=>(document.addEventListener(Bu,c),()=>document.removeEventListener(Bu,c)),[c]),w.useEffect(()=>{if(l.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&c()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,c]),S.jsx(Cp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:c,children:S.jsxs(yx,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(kp,{children:r}),S.jsx(Ix,{scope:n,isInside:!0,children:S.jsx(Ex,{id:l.contentId,role:"tooltip",children:o||r})})]})})});ag.displayName=Or;var ug="TooltipArrow",Nx=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Is(n);return Lx(ug,n).isInside?null:S.jsx(wx,{...o,...r,ref:t})});Nx.displayName=ug;function $x(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Mx(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Dx(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function zx(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i].x,l=t[i].y,u=t[s].x,c=t[s].y;l>r!=c>r&&n<(u-a)*(r-l)/(c-l)+a&&(o=!o)}return o}function Ux(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Fx(t)}function Fx(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Bx=og,Wx=ig,Vx=sg,cg=ag;function dg(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=dg(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Hx(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=dg(e))&&(r&&(r+=" "),r+=t);return r}const Hu="-",qx=e=>{const t=Kx(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(Hu);return a[0]===""&&a.length!==1&&a.shift(),fg(a,t)||Gx(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},fg=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?fg(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(Hu);return(s=t.validators.find(({validator:a})=>a(i)))==null?void 0:s.classGroupId},hg=/^\[(.+)\]$/,Gx=e=>{if(hg.test(e)){const t=hg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Kx=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Jx(Object.entries(e.classGroups),n).forEach(([i,s])=>{qu(s,r,i,t)}),r},qu=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:pg(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(Qx(o)){qu(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{qu(s,pg(t,i),n,r)})})},pg=(e,t)=>{let n=e;return t.split(Hu).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Qx=e=>e.isThemeGetter,Jx=(e,t)=>t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,a])=>[t+s,a])):i);return[n,o]}):e,Yx=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}},gg="!",Xx=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length,s=a=>{const l=[];let u=0,c=0,d;for(let x=0;x<a.length;x++){let p=a[x];if(u===0){if(p===o&&(r||a.slice(x,x+i)===t)){l.push(a.slice(c,x)),c=x+i;continue}if(p==="/"){d=x;continue}}p==="["?u++:p==="]"&&u--}const f=l.length===0?a:a.substring(c),h=f.startsWith(gg),v=h?f.substring(1):f,y=d&&d>c?d-c:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:s}):s},Zx=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},e_=e=>({cache:Yx(e.cacheSize),parseClassName:Xx(e),...qx(e)}),t_=/\s+/,n_=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(t_);let a="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:c,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(u);let v=!!h,y=r(v?f.substring(0,h):f);if(!y){if(!v){a=u+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=u+(a.length>0?" "+a:a);continue}v=!1}const x=Zx(c).join(":"),p=d?x+gg:x,g=p+y;if(i.includes(g))continue;i.push(g);const m=o(y,v);for(let k=0;k<m.length;++k){const _=m[k];i.push(p+_)}a=u+(a.length>0?" "+a:a)}return a};function r_(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=mg(t))&&(r&&(r+=" "),r+=n);return r}const mg=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=mg(e[r]))&&(n&&(n+=" "),n+=t);return n};function o_(e,...t){let n,r,o,i=s;function s(l){const u=t.reduce((c,d)=>d(c),e());return n=e_(u),r=n.cache.get,o=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=n_(l,n);return o(l,c),c}return function(){return i(r_.apply(null,arguments))}}const Z=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},vg=/^\[(?:([a-z-]+):)?(.+)\]$/i,i_=/^\d+\/\d+$/,s_=new Set(["px","full","screen"]),a_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,c_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,d_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nt=e=>Rr(e)||s_.has(e)||i_.test(e),hn=e=>Ir(e,"length",w_),Rr=e=>!!e&&!Number.isNaN(Number(e)),Gu=e=>Ir(e,"number",Rr),Do=e=>!!e&&Number.isInteger(Number(e)),f_=e=>e.endsWith("%")&&Rr(e.slice(0,-1)),U=e=>vg.test(e),pn=e=>a_.test(e),h_=new Set(["length","size","percentage"]),p_=e=>Ir(e,h_,yg),g_=e=>Ir(e,"position",yg),m_=new Set(["image","url"]),v_=e=>Ir(e,m_,__),y_=e=>Ir(e,"",x_),zo=()=>!0,Ir=(e,t,n)=>{const r=vg.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},w_=e=>l_.test(e)&&!u_.test(e),yg=()=>!1,x_=e=>c_.test(e),__=e=>d_.test(e),k_=o_(()=>{const e=Z("colors"),t=Z("spacing"),n=Z("blur"),r=Z("brightness"),o=Z("borderColor"),i=Z("borderRadius"),s=Z("borderSpacing"),a=Z("borderWidth"),l=Z("contrast"),u=Z("grayscale"),c=Z("hueRotate"),d=Z("invert"),f=Z("gap"),h=Z("gradientColorStops"),v=Z("gradientColorStopPositions"),y=Z("inset"),x=Z("margin"),p=Z("opacity"),g=Z("padding"),m=Z("saturate"),k=Z("scale"),_=Z("sepia"),b=Z("skew"),C=Z("space"),T=Z("translate"),$=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",U,t],L=()=>[U,t],I=()=>["",Nt,hn],R=()=>["auto",Rr,U],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",U],N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[Rr,U];return{cacheSize:500,separator:":",theme:{colors:[zo],spacing:[Nt,hn],blur:["none","",pn,U],brightness:F(),borderColor:[e],borderRadius:["none","","full",pn,U],borderSpacing:L(),borderWidth:I(),contrast:F(),grayscale:j(),hueRotate:F(),invert:j(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[f_,hn],inset:D(),margin:D(),opacity:F(),padding:L(),saturate:F(),scale:F(),sepia:j(),skew:F(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",U]}],container:["container"],columns:[{columns:[pn]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),U]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Do,U]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",U]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Do,U]}],"grid-cols":[{"grid-cols":[zo]}],"col-start-end":[{col:["auto",{span:["full",Do,U]},U]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[zo]}],"row-start-end":[{row:["auto",{span:[Do,U]},U]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",U]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",U]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",U,t]}],"min-w":[{"min-w":[U,t,"min","max","fit"]}],"max-w":[{"max-w":[U,t,"none","full","min","max","fit","prose",{screen:[pn]},pn]}],h:[{h:[U,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[U,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[U,t,"auto","min","max","fit"]}],"font-size":[{text:["base",pn,hn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gu]}],"font-family":[{font:[zo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",U]}],"line-clamp":[{"line-clamp":["none",Rr,Gu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nt,U]}],"list-image":[{"list-image":["none",U]}],"list-style-type":[{list:["none","disc","decimal",U]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nt,hn]}],"underline-offset":[{"underline-offset":["auto",Nt,U]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",U]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",U]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),g_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",p_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},v_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:z()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Nt,U]}],"outline-w":[{outline:[Nt,hn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Nt,hn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",pn,y_]}],"shadow-color":[{shadow:[zo]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",pn,U]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[m]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",U]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",U]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",U]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Do,U]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",U]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",U]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",U]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nt,hn,Gu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function S_(...e){return k_(Hx(e))}const wg=Bx,xg=Wx,_g=Vx,Ku=w.forwardRef(({className:e,sideOffset:t=4,...n},r)=>S.jsx(cg,{ref:r,sideOffset:t,className:S_("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Ku.displayName=cg.displayName;const b_=({selectedVoice:e,onVoiceChange:t,autoPlayResponses:n,onAutoPlayToggle:r,primaryColor:o})=>{const[i,s]=w.useState(!1),[a,l]=w.useState(!1),u=w.useRef(null),c=w.useRef(null),d=()=>document.querySelector('[data-state="open"]')!==null||document.querySelector(".dialog-overlay")!==null||document.querySelector('[role="dialog"]')!==null,f=()=>{d()||(u.current&&clearTimeout(u.current),s(!0),u.current=setTimeout(()=>{s(!1)},15e3))},h=()=>{d()||(c.current&&clearTimeout(c.current),l(!0),c.current=setTimeout(()=>{l(!1)},15e3))},v=()=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{s(!1)},15e3)},y=()=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{l(!1)},15e3)};return w.useEffect(()=>{const x=()=>{d()&&(s(!1),l(!1),u.current&&clearTimeout(u.current),c.current&&clearTimeout(c.current))},p=new MutationObserver(x);return p.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-state","role"]}),()=>{p.disconnect(),u.current&&clearTimeout(u.current),c.current&&clearTimeout(c.current)}},[]),S.jsxs("div",{className:"flex items-center gap-2 p-2 border-t border-gray-200",children:[S.jsx(wg,{children:S.jsxs(xg,{open:i,children:[S.jsx(_g,{asChild:!0,children:S.jsx("button",{onClick:r,onMouseEnter:f,onMouseLeave:v,onFocus:f,onBlur:v,className:`p-1.5 rounded transition-colors ${n?"text-white":"text-gray-400 hover:text-gray-600"}`,style:{backgroundColor:n?o:"transparent"},children:S.jsx(hp,{size:14})})}),S.jsx(Ku,{children:S.jsxs("p",{children:[n?"Disable":"Enable"," auto-play responses"]})})]})}),S.jsxs("select",{value:e,onChange:x=>t(x.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white",children:[S.jsx("option",{value:"bark",children:"Bark (Fast & Natural)"}),S.jsx("option",{value:"tortoise",children:"Tortoise (High Quality)"})]}),S.jsx(wg,{children:S.jsxs(xg,{open:a,children:[S.jsx(_g,{asChild:!0,children:S.jsx("div",{onMouseEnter:h,onMouseLeave:y,onFocus:h,onBlur:y,tabIndex:0,children:S.jsx(Tw,{size:12,className:"text-gray-400"})})}),S.jsx(Ku,{children:S.jsx("p",{children:"Voice powered by Together AI"})})]})})]})},C_=({inputMessage:e,placeholder:t,isLoading:n,isTyping:r,primaryColor:o,botTextColor:i,chatBackground:s,isVoiceEnabled:a,isVoiceMode:l,isRecording:u,isProcessing:c,recordingTimer:d,isSpeaking:f,voicePermissionDenied:h,autoPlayResponses:v,selectedVoice:y,isElevenLabsEnabled:x,elevenLabsAgentId:p,hasUserMessages:g,onInputChange:m,onSendMessage:k,onKeyPress:_,onCallMode:b,onStartRecording:C,onStopRecording:T,onStopSpeaking:$,onToggleVoice:A,onToggleAutoPlay:D,onVoiceChange:L})=>{const I=w.useRef(null),R=z=>{if(m(z.target.value),I.current){I.current.style.height="44px";const V=Math.min(I.current.scrollHeight,100);I.current.style.height=V+"px"}},G=()=>{e.trim()&&!r&&(k(),I.current&&(I.current.style.height="44px"))};return S.jsxs("div",{className:"chatbot-widget-input",style:{flex:"0 0 auto",padding:"0.75rem",backgroundColor:s,borderTop:"1px solid #e5e7eb",boxShadow:"0 -2px 10px rgba(0,0,0,0.05)"},children:[!g&&x&&p&&S.jsxs("button",{onClick:b,className:"w-full mb-3 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",style:{backgroundColor:o,fontSize:"16px",fontWeight:"600"},children:[S.jsx(xs,{style:{width:"20px",height:"20px"}}),"Call our AI Voice Agent"]}),S.jsxs("div",{className:"chatbot-widget-input-container",style:{display:"flex",gap:"0.5rem",alignItems:"flex-end"},children:[S.jsx("textarea",{ref:I,value:e,onChange:R,onKeyDown:_,placeholder:a&&u?"Listening...":a&&c?"Processing...":t,disabled:n||a&&(u||c),className:"chatbot-widget-input-field",style:{color:i,opacity:a&&(u||c)?.7:1,minHeight:"44px",maxHeight:"100px",resize:"none",overflow:"auto",lineHeight:"1.5",padding:"0.75rem 1rem",fontSize:"16px"},autoComplete:"off",autoCorrect:"off",autoCapitalize:"sentences",spellCheck:"true",rows:1}),a&&S.jsx(Bw,{isRecording:u,isProcessing:c,recordingTimer:d,isSpeaking:f,voicePermissionDenied:h,isVoiceEnabled:l,onStartRecording:C,onStopRecording:T,onStopSpeaking:$,onToggleVoice:A,primaryColor:o}),S.jsx("button",{onClick:G,disabled:n||!e.trim()||a&&(u||c),className:"chatbot-widget-send-button",style:{backgroundColor:o,alignSelf:"flex-end",marginBottom:"2px"},children:S.jsx(Ew,{style:{width:"14px",height:"14px"}})})]}),a&&l&&S.jsx(b_,{selectedVoice:y,onVoiceChange:L,autoPlayResponses:v,onAutoPlayToggle:D,primaryColor:o})]})},E_=({primaryColor:e,avatarSrc:t,logoBackgroundColor:n,companyName:r,agentName:o,callToAction:i,isMobile:s,isSmallMobile:a,onClick:l})=>S.jsx("div",{className:"voice-chat-widget",style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999},children:S.jsxs("div",{className:"chat-bubble",style:{background:"#ffffff",borderRadius:a?"18px":s?"20px":"24px",padding:a?"10px 14px":s?"12px 16px":"16px 20px",boxShadow:"0 4px 24px rgba(0, 0, 0, 0.12), 0 2px 8px rgba(0, 0, 0, 0.08)",maxWidth:a?"240px":s?"280px":"380px",cursor:"pointer"},onClick:l,children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:a?"8px":s?"10px":"12px",marginBottom:a?"10px":s?"12px":"16px"},children:[S.jsx("div",{style:{width:a?"32px":s?"36px":"48px",height:a?"32px":s?"36px":"48px",background:t?n||"transparent":e,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,overflow:"hidden"},children:t?S.jsx("img",{src:t,alt:"Avatar",style:{width:"100%",height:"100%",objectFit:"contain",imageRendering:"crisp-edges",filter:"contrast(1.05) saturate(1.1)"},onError:u=>{console.error("Avatar logo failed to load:",t),u.currentTarget.style.display="none"}}):S.jsx("div",{style:{color:"#ffffff",fontSize:a?"8px":s?"9px":"11px",fontWeight:"600",textAlign:"center",lineHeight:"1.2"},children:r.split(" ").slice(0,2).join(`
`).toUpperCase()||"AI"})}),S.jsx("div",{style:{flex:1},children:S.jsx("p",{style:{color:"#1a1a1a",fontSize:a?"12px":s?"13px":"15px",lineHeight:"1.4",margin:0,display:"flex",alignItems:"center"},children:a?`Hi! I'm ${o}.`:`Hey! I'm ${o}. Ask me anything!`})})]}),S.jsxs("button",{style:{background:e,color:"#ffffff",border:"none",borderRadius:a?"18px":s?"20px":"24px",padding:a?"10px 16px":s?"12px 18px":"14px 24px",fontSize:a?"13px":s?"14px":"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:a?"6px":s?"8px":"10px",width:"100%",transition:"all 0.2s ease"},onMouseEnter:u=>{u.currentTarget.style.background=`${e}dd`,u.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:u=>{u.currentTarget.style.background=e,u.currentTarget.style.transform="translateY(0)"},children:[S.jsx(bw,{style:{width:a?"14px":s?"16px":"20px",height:a?"14px":s?"16px":"20px"}}),a||s?"Chat":i||"Start a conversation"]})]})}),T_=e=>e.split(`
`).map((t,n)=>S.jsxs("span",{children:[t,n<e.split(`
`).length-1&&S.jsx("br",{})]},n)),kg=()=>{if(typeof window<"u")try{return crypto.randomUUID()}catch{return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`},P_=()=>{if(typeof window>"u")return kg();let e=sessionStorage.getItem("chatbot-session-id");return e||(e=kg(),sessionStorage.setItem("chatbot-session-id",e)),e},j_=async e=>{try{await fetch("https://luccatora.app.n8n.cloud/webhook/webbot-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,timestamp:new Date().toISOString()})})}catch(t){console.error("Failed to log error:",t)}},A_=({message:e,primaryColor:t,secondaryColor:n,botTextColor:r,userTextColor:o,chatBackground:i,isAdmin:s,suggestionsDisabled:a,onEditMessage:l,onSaveEdit:u,onSuggestionClick:c})=>{const[d,f]=w.useState(!1),[h,v]=w.useState(e.text),[y,x]=w.useState(""),p=w.useRef(null),g=()=>{f(!0),v(e.text),x(""),l(e)},m=()=>{const T=h.trim();if(!T){x("Message cannot be empty");return}u(e.id,T),f(!1),x("")},k=()=>{f(!1),v(e.text),x("")},_=T=>{T.key==="Enter"&&!T.shiftKey?(T.preventDefault(),m()):T.key==="Escape"&&(T.preventDefault(),k())},b=e.sender==="user",C=h.trim().length>0;return S.jsx("div",{className:`chatbot-widget-message ${b?"chatbot-widget-message-user":"chatbot-widget-message-bot"} ${d?"editing":""} chatbot-message-animate`,children:S.jsx("div",{className:`chatbot-widget-message-bubble ${b?"chatbot-widget-message-bubble-user":"chatbot-widget-message-bubble-bot"} ${d?"editing":""}`,style:{backgroundColor:b?t:n,color:b?o:r,border:b?"none":`1px solid ${n==="#f1f5f9"?"#e2e8f0":"rgba(0,0,0,0.1)"}`},children:d?S.jsxs("div",{style:{width:"100%"},children:[S.jsxs("div",{style:{position:"relative"},children:[S.jsx("textarea",{ref:p,value:h,onChange:T=>{v(T.target.value),x("")},onKeyDown:_,className:`chatbot-widget-textarea full-width ${y?"error":""}`,style:{color:r,backgroundColor:i},placeholder:"Edit your message..."}),y&&S.jsx("div",{className:"chatbot-widget-error",children:y})]}),S.jsxs("div",{className:"chatbot-widget-edit-controls",children:[S.jsx("button",{onClick:m,disabled:!C,className:"chatbot-widget-button",style:{color:r,opacity:C?1:.5,cursor:C?"pointer":"not-allowed"},children:S.jsx(kw,{style:{width:"14px",height:"14px"}})}),S.jsx("button",{onClick:k,className:"chatbot-widget-button",style:{color:r},children:S.jsx(gp,{style:{width:"14px",height:"14px"}})})]})]}):S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"chatbot-widget-message-text",children:T_(e.text)}),e.showSuggestions&&!b&&!a&&S.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"6px",marginTop:"12px",flexWrap:"nowrap",justifyContent:"flex-start"},children:[S.jsx(Sg,{icon:S.jsx(_w,{size:14}),text:"Book Now",onClick:()=>c("Book now"),disabled:a,primaryColor:t,userTextColor:o}),S.jsx(Sg,{icon:S.jsx(Sw,{size:14}),text:"Ask Question",onClick:()=>c("Ask Question?"),disabled:a,primaryColor:t,userTextColor:o})]}),S.jsx("span",{className:"chatbot-widget-message-timestamp",children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),!b&&s&&S.jsx("div",{className:"chatbot-widget-message-actions",children:S.jsx("button",{onClick:g,className:"chatbot-widget-button",style:{color:r},children:S.jsx(jw,{style:{width:"12px",height:"12px"}})})})]})})})},Sg=({icon:e,text:t,onClick:n,disabled:r,primaryColor:o,userTextColor:i})=>S.jsxs("button",{onClick:n,disabled:r,style:{backgroundColor:o,border:"none",color:i,padding:"8px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",cursor:r?"not-allowed":"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px",opacity:r?.6:1,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",whiteSpace:"nowrap",minWidth:"auto"},onMouseEnter:s=>{r||(s.currentTarget.style.transform="translateY(-1px)",s.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)")},onMouseLeave:s=>{r||(s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.15)")},children:[e,t]}),O_=[{id:"1",text:"Ask a Question",message:"I have a medical question"},{id:"2",text:"Book Appointment",message:"I would like to book an appointment"},{id:"3",text:"Get Health Info",message:"I need health information"},{id:"4",text:"Contact Support",message:"I need to contact support"}],R_=({webhookUrl:e="https://luccatora.app.n8n.cloud/webhook/webbot-test",title:t="MediFlow",bio:n="Your medical assistant",placeholder:r="Type your message...",position:o="bottom-right",primaryColor:i="#6366f1",secondaryColor:s="#f1f5f9",chatBackground:a="#ffffff",botTextColor:l="#1f2937",userTextColor:u="#ffffff",headerGradientColor:c="#8b5cf6",headerMainColor:d="#6366f1",userId:f="anonymous",clinicName:h="Demo Clinic",clinicId:v="104",logoUrl:y="/lovable-uploads/fd9d4dbf-9035-4de8-a3a1-81089fcac665.png",logoFile:x,avatarUrl:p="/lovable-uploads/1f938225-daa7-46d3-a44e-d951e492fcd4.png",avatarFile:g,welcomeMessage:m="Hi! I'm your medical assistant. How can I help you today?",welcomeTooltipMessage:k="Click to start chatting with our AI assistant!",admin:_=!1,isVoiceEnabled:b=!0,isElevenLabsEnabled:C=!1,elevenLabsAgentId:T="agent_01k04zwwq3fv5acgzdwmbvfk8k",logoBackgroundColor:$="transparent",logoBorderColor:A="#e5e7eb",headerButtonColor:D="#ffffff",companyName:L="MediFlow",agentName:I="Medical Assistant",callToAction:R="Start a conversation",showWelcomeScreen:G=!0,companyLogo:z,welcomeButtons:V=O_})=>{const[E]=w.useState(()=>P_()),[j,N]=w.useState(!1),[F,oe]=w.useState(!1),[$t,Ke]=w.useState(!1),[Mt,Qe]=w.useState(!1),[Je,Uo]=w.useState(""),[Ms,Fo]=w.useState(G),[Ju,Bo]=w.useState(!1),[gn,Wo]=w.useState(!1),[Lr,Nr]=w.useState([]),[mn,Yu]=w.useState(!1),[mt,I_]=w.useState(!0),[L_,Xu]=w.useState(!1),[Ds,N_]=w.useState(window.innerWidth<=768),[$_,M_]=w.useState(window.innerWidth<=480),[D_,Cg]=w.useState(y),[Eg,Tg]=w.useState(p),z_=w.useRef(null),U_=mw({onTranscription:q=>{q.trim()&&$r(q)},isVoiceEnabled:b&&mn,autoPlayResponses:b?mt:!1}),{isRecording:F_=!1,isProcessing:B_=!1,recordingTimer:W_=0,isSpeaking:Pg=!1,voicePermissionDenied:V_=!1,selectedVoice:H_="bark",startRecording:q_=()=>{},stopRecording:G_=()=>{},speakText:K_=()=>{},stopSpeaking:Vo=()=>{},setSelectedVoice:Q_=()=>{}}=b?U_:{};w.useEffect(()=>{if(x){const q=URL.createObjectURL(x);return Cg(q),()=>URL.revokeObjectURL(q)}else Cg(y)},[x,y]),w.useEffect(()=>{if(g){const q=URL.createObjectURL(g);return Tg(q),()=>URL.revokeObjectURL(q)}else Tg(p)},[g,p]),w.useEffect(()=>{const q=()=>{const vn=window.innerWidth;N_(vn<=768),M_(vn<=480)};return q(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]),w.useEffect(()=>{Nr([{id:"welcome-1",text:m,sender:"bot",timestamp:new Date,showSuggestions:!0}])},[m]),w.useEffect(()=>{const q=document.querySelector(".chatbot-widget-container");q&&Object.entries({"--chatbot-primary":i,"--chatbot-secondary":s,"--chatbot-background":a,"--chatbot-bot-text":l,"--chatbot-user-text":u,"--chatbot-header-gradient":c,"--chatbot-header-main":d,"--chatbot-logo-background":$,"--chatbot-logo-border":A}).forEach(([yn,zs])=>{q.style.setProperty(yn,zs),document.documentElement.style.setProperty(yn,zs)})},[i,s,a,l,u,c,d,$,A]);const $r=async(q,vn=0)=>{const yn=q||Je.trim();if(!yn||$t)return;const zs={id:Date.now().toString(),text:yn,sender:"user",timestamp:new Date};Nr(lt=>[...lt,zs]),Uo(""),Ke(!0),Qe(!0),oe(!1),Wo(!0),Fo(!1);try{if(!e)throw new Error("Webhook URL not configured");const lt={message:yn,userId:E,clinicName:h,clinicId:v,timestamp:new Date().toISOString()},Us=new AbortController,Zu=setTimeout(()=>Us.abort(),3e4),Fs=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(lt),signal:Us.signal});if(clearTimeout(Zu),!Fs.ok){const ec=await Fs.text();throw new Error(`HTTP ${Fs.status}: ${ec}`)}const vt=await Fs.json();let Un="Sorry, I could not process your request.";Array.isArray(vt)&&vt.length>0&&vt[0].output?Un=vt[0].output:(vt.message||vt.response||typeof vt=="string")&&(Un=vt.message||vt.response||vt);const tk={id:(Date.now()+1).toString(),text:Un,sender:"bot",timestamp:new Date};Nr(ec=>[...ec,tk]),b&&mn&&mt&&!Pg&&setTimeout(()=>K_(Un),500),!j&&"Notification"in window&&Notification.permission==="granted"&&(Bo(!0),new Notification(t,{body:Un.length>50?Un.substring(0,50)+"...":Un,icon:y||"/favicon.ico"}))}catch(lt){if(console.error("Error sending message:",lt),await j_({from:"webhook",errorCode:500,errorMessage:lt instanceof Error?lt.message:"Unknown error",errorStack:lt instanceof Error&&lt.stack||"",payloadToWebHook:{message:yn,userId:E,clinicName:h,clinicId:v},initializationUrl:window.location.href}),vn<2&&lt instanceof Error&&lt.name!=="AbortError"){setTimeout(()=>$r(yn,vn+1),1e3*(vn+1));return}oe(!0);const Us={id:(Date.now()+1).toString(),text:vn>=2?"I apologize, but I'm having trouble connecting right now. Please try again in a moment.":"Sorry, I encountered an error. Please try again.",sender:"bot",timestamp:new Date};Nr(Zu=>[...Zu,Us])}finally{Ke(!1),Qe(!1)}},J_=q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),Je.trim()&&!Mt&&$r(Je))},Y_=q=>{Fo(!1),$r(q)},X_=q=>{gn||($r(q),Wo(!0))},Z_=()=>{b&&(Yu(!mn),mn&&Vo&&Vo())},ek=()=>{b&&(I_(!mt),!mt&&Vo&&Vo())};return S.jsxs("div",{className:`chatbot-widget-container chatbot-widget-${o}`,style:{position:"fixed",bottom:"1.5rem",right:o==="bottom-right"?"1.5rem":"auto",left:o==="bottom-left"?"1.5rem":"auto",top:"auto",zIndex:2147483647},children:[j&&S.jsxs("div",{className:"chatbot-widget-window chatbot-widget-animate-in",style:{height:Ds?"100vh":"600px",maxHeight:Ds?"100vh":"600px",display:"flex",flexDirection:"column"},children:[S.jsx(Fw,{title:t,bio:n,logoSrc:D_,primaryColor:i,headerButtonColor:D,isVoiceEnabled:b,isVoiceMode:mn,isElevenLabsEnabled:C,elevenLabsAgentId:T,onClose:()=>N(!1),onCallMode:()=>Xu(!0)}),L_?S.jsx(Uw,{primaryColor:i,secondaryColor:s,textColor:l,chatBackground:a,logoUrl:p,agentId:T,onBackToChat:()=>Xu(!1)}):F?S.jsx("div",{className:"chatbot-widget-messages",style:{backgroundColor:a},children:S.jsx("div",{className:"chatbot-widget-messages-content",children:S.jsx("p",{className:"chatbot-widget-message-text",children:"We're experiencing some technical difficulties. Please refresh the page to try again."})})}):S.jsxs(S.Fragment,{children:[S.jsx("div",{ref:z_,className:"chatbot-widget-messages chatbot-widget-scrollbar",style:{backgroundColor:a,flex:"1 1 auto",overflowY:"auto",padding:"1rem"},children:S.jsx("div",{className:"chatbot-widget-messages-content",children:Ms?S.jsx(vw,{avatarUrl:Eg,title:t,bio:n,welcomeMessage:m,buttons:V,primaryColor:i,secondaryColor:s,chatBackground:a,textColor:l,headerGradientColor:c,onButtonClick:Y_,isMobile:Ds}):S.jsxs(S.Fragment,{children:[Lr.length>1&&Lr.some(q=>q.sender==="bot")&&S.jsx("div",{style:{fontSize:"11px",color:l,opacity:.7,textAlign:"center",padding:"8px 16px",fontStyle:"italic",marginBottom:"12px"},children:"I'm an AI Agent, I do my best, I can answer questions and make bookings, but always verify important concerns with a human"}),Lr.map(q=>S.jsx(A_,{message:q,primaryColor:i,secondaryColor:s,botTextColor:l,userTextColor:u,chatBackground:a,isAdmin:_,suggestionsDisabled:gn,onEditMessage:()=>{},onSaveEdit:()=>{},onSuggestionClick:X_},q.id)),Mt&&S.jsx("div",{className:"chatbot-widget-message chatbot-widget-message-bot",children:S.jsx("div",{className:"chatbot-widget-message-bubble chatbot-widget-message-bubble-bot",style:{backgroundColor:s,color:l,border:`1px solid ${s==="#f1f5f9"?"#e2e8f0":"rgba(0,0,0,0.1)"}`},children:S.jsxs("div",{className:"chatbot-widget-typing",children:[S.jsx("div",{className:"chatbot-widget-typing-dot"}),S.jsx("div",{className:"chatbot-widget-typing-dot"}),S.jsx("div",{className:"chatbot-widget-typing-dot"})]})})})]})})}),S.jsx(C_,{inputMessage:Je,placeholder:r,isLoading:$t,isTyping:Mt,primaryColor:i,botTextColor:l,chatBackground:a,isVoiceEnabled:b,isVoiceMode:mn,isRecording:F_,isProcessing:B_,recordingTimer:W_,isSpeaking:Pg,voicePermissionDenied:V_,autoPlayResponses:mt,selectedVoice:H_,isElevenLabsEnabled:C,elevenLabsAgentId:T,hasUserMessages:Lr.some(q=>q.sender==="user"),onInputChange:Uo,onSendMessage:()=>$r(),onKeyPress:J_,onCallMode:()=>Xu(!0),onStartRecording:q_,onStopRecording:G_,onStopSpeaking:Vo,onToggleVoice:Z_,onToggleAutoPlay:ek,onVoiceChange:Q_})]})]}),!j&&S.jsx(E_,{primaryColor:i,avatarSrc:Eg,logoBackgroundColor:$,companyName:L,agentName:I,callToAction:R,isMobile:Ds,isSmallMobile:$_,onClick:()=>{N(!0),Bo(!1)}})]})};class Qu{constructor(){tc(this,"container",null);tc(this,"root",null)}init(t){this.destroy(),this.container=document.createElement("div"),this.container.id="chatbot-widget-container",this.container.className="chatbot-widget-container",document.body.appendChild(this.container),this.root=kh(this.container),this.root.render(pc.createElement(R_,{webhookUrl:t.webhookUrl,title:t.title,bio:t.bio,placeholder:t.placeholder,position:t.position,primaryColor:t.primaryColor,secondaryColor:t.secondaryColor,chatBackground:t.chatBackground,botTextColor:t.botTextColor,userTextColor:t.userTextColor,headerGradientColor:t.headerGradientColor,headerMainColor:t.headerMainColor,logoUrl:t.logoUrl,avatarUrl:t.avatarUrl,welcomeMessage:t.welcomeMessage,userId:t.userId,clinicName:t.clinicName,clinicId:t.clinicId,logoBackgroundColor:t.logoBackgroundColor,logoBorderColor:t.logoBorderColor,headerButtonColor:t.headerButtonColor,fontFamily:t.fontFamily,showWelcomeScreen:t.showWelcomeScreen,companyLogo:t.companyLogo,welcomeButtons:t.welcomeButtons})),console.log("ChatbotWidget initialized with suggestion buttons and line break support")}destroy(){this.root&&(this.root.unmount(),this.root=null),this.container&&(document.body.removeChild(this.container),this.container=null)}}const bg=new Qu,$s={ChatbotManager:Qu,init:e=>bg.init(e),destroy:()=>bg.destroy()};return typeof window<"u"&&(window.ChatbotWidget=$s,window.chatbotWidget=$s,console.log("ChatbotWidget initialized successfully!",{ChatbotManager:typeof window.ChatbotWidget.ChatbotManager,init:typeof window.ChatbotWidget.init,destroy:typeof window.ChatbotWidget.destroy}),console.log("ChatbotWidget object:",window.ChatbotWidget),console.log("New features included: suggestion buttons with icons, line break rendering, toggle button visibility fix")),typeof globalThis<"u"&&(globalThis.ChatbotWidget=$s),typeof module<"u"&&module.exports&&(module.exports=$s),yt.ChatbotManager=Qu,Object.defineProperty(yt,Symbol.toStringTag,{value:"Module"}),yt}({});
